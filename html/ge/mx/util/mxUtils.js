var mxUtils={errorResource:"none"!=GE.language?"error":"",closeResource:"none"!=GE.language?"close":"",errorImage:GE.imageBasePath+"/error.gif",removeCursors:function(t){null!=t.style&&(t.style.cursor="");var e=t.childNodes;if(null!=e)for(var n=e.length,l=0;l<n;l+=1)mxUtils.removeCursors(e[l])},getCurrentStyle:function(t){return null!=t?window.getComputedStyle(t,""):null},parseCssNumber:function(t){return"thin"==t?t="2":"medium"==t?t="4":"thick"==t&&(t="6"),t=parseFloat(t),isNaN(t)&&(t=0),t},setPrefixedStyle:function(){var t=null;return GE.IS_OT?t="O":GE.IS_SF||GE.IS_GC?t="Webkit":GE.IS_MT&&(t="Moz"),function(e,n,l){e[n]=l,null!=t&&n.length>0&&(e[n=t+n.substring(0,1).toUpperCase()+n.substring(1)]=l)}}(),hasScrollbars:function(t){var e=mxUtils.getCurrentStyle(t);return null!=e&&("scroll"==e.overflow||"auto"==e.overflow)},bind:function(t,e){return function(){return e.apply(t,arguments)}},eval:function(expr){var result=null;if(expr.indexOf("function")>=0)try{eval("var _mxJavaScriptExpression="+expr),result=_mxJavaScriptExpression,_mxJavaScriptExpression=null}catch(t){mxLog.warn(t.message+" while evaluating "+expr)}else try{result=eval(expr)}catch(t){mxLog.warn(t.message+" while evaluating "+expr)}return result},findNode:function(t,e,n){if(t.nodeType==mxConstants.NODETYPE_ELEMENT){var l=t.getAttribute(e);if(null!=l&&l==n)return t}for(t=t.firstChild;null!=t;){var r=mxUtils.findNode(t,e,n);if(null!=r)return r;t=t.nextSibling}return null},getFunctionName:function(t){var e=null;if(null!=t)if(null!=t.name)e=t.name;else if(e=mxUtils.trim(t.toString()),/^function\s/.test(e)){var n=(e=mxUtils.ltrim(e.substring(9))).indexOf("(");n>0&&(e=e.substring(0,n))}return e},indexOf:function(t,e){if(null!=t&&null!=e)for(var n=0;n<t.length;n++)if(t[n]==e)return n;return-1},forEach:function(t,e){if(null!=t&&null!=e)for(var n=0;n<t.length;n++)e(t[n]);return t},remove:function(t,e){var n=null;if("object"==typeof e)for(var l=mxUtils.indexOf(e,t);l>=0;)e.splice(l,1),n=t,l=mxUtils.indexOf(e,t);for(var r in e)e[r]==t&&(delete e[r],n=t);return n},isNode:function(t,e,n,l){return!(null==t||isNaN(t.nodeType)||null!=e&&t.nodeName.toLowerCase()!=e.toLowerCase())&&(null==n||t.getAttribute(n)==l)},isAncestorNode:function(t,e){for(var n=e;null!=n;){if(n==t)return!0;n=n.parentNode}return!1},getChildNodes:function(t,e){e=e||mxConstants.NODETYPE_ELEMENT;for(var n=[],l=t.firstChild;null!=l;)l.nodeType==e&&n.push(l),l=l.nextSibling;return n},importNode:function(t,e,n){return t.importNode(e,n)},importNodeImplementation:function(t,e,n){switch(e.nodeType){case 1:var l=t.createElement(e.nodeName);if(e.attributes&&e.attributes.length>0)for(var r=0;r<e.attributes.length;r++)l.setAttribute(e.attributes[r].nodeName,e.getAttribute(e.attributes[r].nodeName));if(n&&e.childNodes&&e.childNodes.length>0)for(r=0;r<e.childNodes.length;r++)l.appendChild(mxUtils.importNodeImplementation(t,e.childNodes[r],n));return l;case 3:case 4:case 8:return t.createTextNode(null!=e.nodeValue?e.nodeValue:e.value)}},createXmlDocument:function(){var t=null;return document.implementation&&document.implementation.createDocument?t=document.implementation.createDocument("","",null):"ActiveXObject"in window&&(t=mxUtils.createMsXmlDocument()),t},createMsXmlDocument:function(){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async=!1,t.validateOnParse=!1,t.resolveExternals=!1,t},parseXml:window.DOMParser?function(t){return(new DOMParser).parseFromString(t,"text/xml")}:function(t){var e=mxUtils.createMsXmlDocument();return e.loadXML(t),e},clearSelection:document.selection?function(){document.selection.empty()}:window.getSelection?function(){window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges()}:function(){},removeWhitespace:function(t,e){for(var n=e?t.previousSibling:t.nextSibling;null!=n&&n.nodeType==mxConstants.NODETYPE_TEXT;){var l=e?n.previousSibling:n.nextSibling,r=mxUtils.getTextContent(n);0==mxUtils.trim(r).length&&n.parentNode.removeChild(n),n=l}},htmlEntities:function(t,e){return t=(t=(t=(t=(t=(t=String(t||"")).replace(/&/g,"&amp;")).replace(/"/g,"&quot;")).replace(/\'/g,"&#39;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),(null==e||e)&&(t=t.replace(/\n/g,"&#xa;")),t},isVml:function(t){return null!=t&&"urn:schemas-microsoft-com:vml"==t.tagUrn},getXml:function(t,e){var n="";if(GE.IS_IE11)n=mxUtils.getPrettyXml(t,"","","");else if(null!=window.XMLSerializer){n=(new XMLSerializer).serializeToString(t)}else null!=t.xml&&(n=t.xml.replace(/\r\n\t[\t]*/g,"").replace(/>\r\n/g,">").replace(/\r\n/g,"\n"));return e=e||"&#xa;",n=n.replace(/\n/g,e)},getPrettyXml:function(t,e,n,l,r){var i=[];if(null!=t)if(e=null!=e?e:"  ",n=null!=n?n:"",l=null!=l?l:"\n",null!=t.namespaceURI&&t.namespaceURI!=r&&(r=t.namespaceURI,null==t.getAttribute("xmlns")&&t.setAttribute("xmlns",t.namespaceURI)),t.nodeType==mxConstants.NODETYPE_DOCUMENT)i.push(mxUtils.getPrettyXml(t.documentElement,e,n,l,r));else if(t.nodeType==mxConstants.NODETYPE_DOCUMENT_FRAGMENT){if(null!=(a=t.firstChild))for(;null!=a;)i.push(mxUtils.getPrettyXml(a,e,n,l,r)),a=a.nextSibling}else if(t.nodeType==mxConstants.NODETYPE_COMMENT){(o=mxUtils.getTextContent(t)).length>0&&i.push(n+"\x3c!--"+o+"--\x3e"+l)}else if(t.nodeType==mxConstants.NODETYPE_TEXT){(o=mxUtils.getTextContent(t)).length>0&&i.push(n+mxUtils.htmlEntities(mxUtils.trim(o),!1)+l)}else if(t.nodeType==mxConstants.NODETYPE_CDATA){var o;(o=mxUtils.getTextContent(t)).length>0&&i.push(n+"<![CDATA["+o+"]]"+l)}else{i.push(n+"<"+t.nodeName);var a,s=t.attributes;if(null!=s)for(var u=0;u<s.length;u++){var c=mxUtils.htmlEntities(s[u].value);i.push(" "+s[u].nodeName+'="'+c+'"')}if(null!=(a=t.firstChild)){for(i.push(">"+l);null!=a;)i.push(mxUtils.getPrettyXml(a,e,n+e,l,r)),a=a.nextSibling;i.push(n+"</"+t.nodeName+">"+l)}else i.push(" />"+l)}return i.join("")},extractTextWithWhitespace:function(t){var e=["BLOCKQUOTE","DIV","H1","H2","H3","H4","H5","H6","OL","P","PRE","TABLE","UL"],n=[];return function t(l){if(1!=l.length||"BR"!=l[0].nodeName&&"\n"!=l[0].innerHTML)for(var r=0;r<l.length;r++){var i=l[r];"BR"==i.nodeName||"\n"==i.innerHTML||(1==l.length||0==r)&&"DIV"==i.nodeName&&"<br>"==i.innerHTML.toLowerCase()?n.push("\n"):(3===i.nodeType||4===i.nodeType?i.nodeValue.length>0&&n.push(i.nodeValue):8!==i.nodeType&&i.childNodes.length>0&&t(i.childNodes),r<l.length-1&&mxUtils.indexOf(e,l[r+1].nodeName)>=0&&n.push("\n"))}}(t),n.join("")},replaceTrailingNewlines:function(t,e){for(var n="";t.length>0&&"\n"==t.charAt(t.length-1);)t=t.substring(0,t.length-1),n+=e;return t+n},getTextContent:function(t){return null!=t?t[void 0===t.textContent?"text":"textContent"]:""},setTextContent:function(t,e){void 0!==t.innerText?t.innerText=e:t[void 0===t.textContent?"text":"textContent"]=e},getInnerHtml:function(t){return null!=t?(new XMLSerializer).serializeToString(t):""},getOuterHtml:function(t){return null!=t?(new XMLSerializer).serializeToString(t):""},write:function(t,e){var n=t.ownerDocument.createTextNode(e);return null!=t&&t.appendChild(n),n},writeln:function(t,e){var n=t.ownerDocument.createTextNode(e);return null!=t&&(t.appendChild(n),t.appendChild(document.createElement("br"))),n},br:function(t,e){e=e||1;for(var n=null,l=0;l<e;l++)null!=t&&(n=t.ownerDocument.createElement("br"),t.appendChild(n));return n},button:function(t,e,n){var l=(n=null!=n?n:document).createElement("button");return mxUtils.write(l,t),mxEvent.addListener(l,"click",function(t){e(t)}),l},para:function(t,e){var n=document.createElement("p");return mxUtils.write(n,e),null!=t&&t.appendChild(n),n},addTransparentBackgroundFilter:function(t){t.style.filter+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+GE.imageBasePath+"/transparent.gif', sizingMethod='scale')"},linkAction:function(t,e,n,l,r){return mxUtils.link(t,e,function(){n.execute(l)},r)},linkInvoke:function(t,e,n,l,r,i){return mxUtils.link(t,e,function(){n[l](r)},i)},link:function(t,e,n,l){var r=document.createElement("span");return r.style.color="blue",r.style.textDecoration="underline",r.style.cursor="pointer",null!=l&&(r.style.paddingLeft=l+"px"),mxEvent.addListener(r,"click",n),mxUtils.write(r,e),null!=t&&t.appendChild(r),r},getDocumentSize:function(){var t=document.body,e=document.documentElement;try{return new mxRectangle(0,0,t.clientWidth||e.clientWidth,Math.max(t.clientHeight||0,e.clientHeight))}catch(t){return new mxRectangle}},fit:function(t){var e=mxUtils.getDocumentSize(),n=parseInt(t.offsetLeft),l=parseInt(t.offsetWidth),r=mxUtils.getDocumentScrollOrigin(t.ownerDocument),i=r.x,o=r.y,a=(document.body,document.documentElement,i+e.width);n+l>a&&(t.style.left=Math.max(i,a-l)+"px");var s=parseInt(t.offsetTop),u=parseInt(t.offsetHeight),c=o+e.height;s+u>c&&(t.style.top=Math.max(o,c-u)+"px")},load:function(t){var e=new mxXmlRequest(t,null,"GET",!1);return e.send(),e},get:function(t,e,n,l,r,i,o){var a=new mxXmlRequest(t,null,"GET"),s=a.setRequestHeaders;return o&&(a.setRequestHeaders=function(t,e){for(var n in s.apply(this,arguments),o)t.setRequestHeader(n,o[n])}),null!=l&&a.setBinary(l),a.send(e,n,r,i),a},getAll:function(t,e,n){for(var l=t.length,r=[],i=0,o=function(){0==i&&null!=n&&n(),i++},a=0;a<t.length;a++)!function(t,n){mxUtils.get(t,function(t){var i=t.getStatus();i<200||i>299?o():(r[n]=t,0==--l&&e(r))},o)}(t[a],a);0==l&&e(r)},post:function(t,e,n,l){return new mxXmlRequest(t,e).send(n,l)},submit:function(t,e,n,l){return new mxXmlRequest(t,e).simulate(n,l)},loadInto:function(t,e,n){e.addEventListener("load",n,!1),e.load(t)},getValue:function(t,e,n){var l=null!=t?t[e]:null;return null==l&&(l=n),l},getNumber:function(t,e,n){var l=null!=t?t[e]:null;return null==l&&(l=n||0),Number(l)},getColor:function(t,e,n){var l=null!=t?t[e]:null;return null==l?l=n:l==mxConstants.NONE&&(l=null),l},clone:function(t,e,n){n=null!=n&&n;var l=null;if(null!=t&&"function"==typeof t.constructor)for(var r in l=new t.constructor,t)r!=mxObjectIdentity.FIELD_NAME&&(null==e||mxUtils.indexOf(e,r)<0)&&(n||"object"!=typeof t[r]?l[r]=t[r]:l[r]=mxUtils.clone(t[r]));return l},compare:function(t,e){if("[object Object]"===Object.prototype.toString.call(t)){for(const n in t)if(this.compare(t[n],e[n]))return!0;return!1}return t!==e},equalPoints:function(t,e){if(null==t&&null!=e||null!=t&&null==e||null!=t&&null!=e&&t.length!=e.length)return!1;if(null!=t&&null!=e)for(var n=0;n<t.length;n++)if(null!=t[n]&&null==e[n]||null==t[n]&&null!=e[n]||null!=t[n]&&null!=e[n]&&(t[n].x!=e[n].x||t[n].y!=e[n].y))return!1;return!0},equalEntries:function(t,e){var n=0;if(null==t&&null!=e||null!=t&&null==e||null!=t&&null!=e&&t.length!=e.length)return!1;if(null!=t&&null!=e){for(var l in e)n++;for(var l in t)if(n--,!(mxUtils.isNaN(t[l])&&mxUtils.isNaN(e[l])||t[l]==e[l]))return!1}return 0==n},removeDuplicates:function(t){for(var e=new mxDictionary,n=[],l=0;l<t.length;l++)e.get(t[l])||(n.push(t[l]),e.put(t[l],!0));return n},isNaN:function(t){return"number"==typeof t&&isNaN(t)},extend:function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},toString:function(t){var e="";for(var n in t)try{if(null==t[n])e+=n+" = [null]\n";else if("function"==typeof t[n])e+=n+" => [Function]\n";else if("object"==typeof t[n]){e+=n+" => ["+mxUtils.getFunctionName(t[n].constructor)+"]\n"}else e+=n+" = "+t[n]+"\n"}catch(t){e+=n+"="+t.message}return e},toRadians:function(t){return Math.PI*t/180},toDegree:function(t){return 180*t/Math.PI},arcToCurves:function(t,e,n,l,r,i,o,a,s){if(a-=t,s-=e,0===n||0===l)return Y;var u=o,c=r;n=Math.abs(n),l=Math.abs(l);var m,d=-a/2,x=-s/2,f=Math.cos(c*Math.PI/180),h=Math.sin(c*Math.PI/180),g=f*d+h*x,p=-1*h*d+f*x,v=g*g,y=p*p,T=n*n,C=l*l,E=v/T+y/C;if(E>1)n=Math.sqrt(E)*n,l=Math.sqrt(E)*l,m=0;else{var N=1;i===u&&(N=-1),m=N*Math.sqrt((T*C-T*y-C*v)/(T*y+C*v))}var w=m*n*p/l,S=-1*m*l*g/n,O=f*w-h*S+a/2,I=h*w+f*S+s/2,b=Math.atan2((p-S)/l,(g-w)/n)-Math.atan2(0,1),M=b>=0?b:2*Math.PI+b,R=(b=Math.atan2((-p-S)/l,(-g-w)/n)-Math.atan2((p-S)/l,(g-w)/n))>=0?b:2*Math.PI+b;0==u&&R>0?R-=2*Math.PI:0!=u&&R<0&&(R+=2*Math.PI);for(var _=2*R/Math.PI,U=Math.ceil(_<0?-1*_:_),P=R/U,D=8/3*Math.sin(P/4)*Math.sin(P/4)/Math.sin(P/2),A=f*n,L=f*l,H=h*n,F=h*l,G=Math.cos(M),V=Math.sin(M),X=-D*(A*V+F*G),k=-D*(H*V-L*G),W=0,K=0,Y=[],B=0;B<U;++B){M+=P,W=A*(G=Math.cos(M))-F*(V=Math.sin(M))+O,K=H*G+L*V+I;var q=-D*(A*V+F*G),j=-D*(H*V-L*G),z=6*B;Y[z]=Number(X+t),Y[z+1]=Number(k+e),Y[z+2]=Number(W-q+t),Y[z+3]=Number(K-j+e),Y[z+4]=Number(W+t),Y[z+5]=Number(K+e),X=W+q,k=K+j}return Y},getBoundingBox:function(t,e,n){var l=null;if(null!=t&&null!=e&&0!=e){var r=mxUtils.toRadians(e),i=Math.cos(r),o=Math.sin(r);n=null!=n?n:new mxPoint(t.x+t.width/2,t.y+t.height/2);var a=new mxPoint(t.x,t.y),s=new mxPoint(t.x+t.width,t.y),u=new mxPoint(s.x,t.y+t.height),c=new mxPoint(t.x,u.y);a=mxUtils.getRotatedPoint(a,i,o,n),s=mxUtils.getRotatedPoint(s,i,o,n),u=mxUtils.getRotatedPoint(u,i,o,n),c=mxUtils.getRotatedPoint(c,i,o,n),(l=new mxRectangle(a.x,a.y,0,0)).add(new mxRectangle(s.x,s.y,0,0)),l.add(new mxRectangle(u.x,u.y,0,0)),l.add(new mxRectangle(c.x,c.y,0,0))}return l},getRotatedPoint:function(t,e,n,l){l=null!=l?l:new mxPoint;var r=t.x-l.x,i=t.y-l.y,o=i*e+r*n;return new mxPoint(r*e-i*n+l.x,o+l.y)},getPortConstraints:function(t,e,n,l){var r=mxUtils.getValue(t.style,mxConstants.STYLE_PORT_CONSTRAINT,mxUtils.getValue(e.style,n?mxConstants.STYLE_SOURCE_PORT_CONSTRAINT:mxConstants.STYLE_TARGET_PORT_CONSTRAINT,null));if(null==r)return l;var i=r.toString(),o=mxConstants.DIRECTION_MASK_NONE,a=0;1==mxUtils.getValue(t.style,mxConstants.STYLE_PORT_CONSTRAINT_ROTATION,0)&&(a=mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION,0));var s=0;if(a>45?(s=1,a>=135&&(s=2)):a<-45&&(s=3,a<=-135&&(s=2)),i.indexOf(mxConstants.DIRECTION_NORTH)>=0)switch(s){case 0:o|=mxConstants.DIRECTION_MASK_NORTH;break;case 1:o|=mxConstants.DIRECTION_MASK_EAST;break;case 2:o|=mxConstants.DIRECTION_MASK_SOUTH;break;case 3:o|=mxConstants.DIRECTION_MASK_WEST}if(i.indexOf(mxConstants.DIRECTION_WEST)>=0)switch(s){case 0:o|=mxConstants.DIRECTION_MASK_WEST;break;case 1:o|=mxConstants.DIRECTION_MASK_NORTH;break;case 2:o|=mxConstants.DIRECTION_MASK_EAST;break;case 3:o|=mxConstants.DIRECTION_MASK_SOUTH}if(i.indexOf(mxConstants.DIRECTION_SOUTH)>=0)switch(s){case 0:o|=mxConstants.DIRECTION_MASK_SOUTH;break;case 1:o|=mxConstants.DIRECTION_MASK_WEST;break;case 2:o|=mxConstants.DIRECTION_MASK_NORTH;break;case 3:o|=mxConstants.DIRECTION_MASK_EAST}if(i.indexOf(mxConstants.DIRECTION_EAST)>=0)switch(s){case 0:o|=mxConstants.DIRECTION_MASK_EAST;break;case 1:o|=mxConstants.DIRECTION_MASK_SOUTH;break;case 2:o|=mxConstants.DIRECTION_MASK_WEST;break;case 3:o|=mxConstants.DIRECTION_MASK_NORTH}return o},reversePortConstraints:function(t){var e=0;return e=(t&mxConstants.DIRECTION_MASK_WEST)<<3,e|=(t&mxConstants.DIRECTION_MASK_NORTH)<<1,e|=(t&mxConstants.DIRECTION_MASK_SOUTH)>>1,e|=(t&mxConstants.DIRECTION_MASK_EAST)>>3},findNearestSegment:function(t,e,n){var l=-1;if(t.absolutePoints.length>0)for(var r=t.absolutePoints[0],i=null,o=1;o<t.absolutePoints.length;o++){var a=t.absolutePoints[o],s=mxUtils.ptSegDistSq(r.x,r.y,a.x,a.y,e,n);(null==i||s<i)&&(i=s,l=o-1),r=a}return l},getDirectedBounds:function(t,e,n,l,r){var i=mxUtils.getValue(n,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST);if(l=null!=l?l:mxUtils.getValue(n,mxConstants.STYLE_FLIPH,!1),r=null!=r?r:mxUtils.getValue(n,mxConstants.STYLE_FLIPV,!1),e.x=Math.round(Math.max(0,Math.min(t.width,e.x))),e.y=Math.round(Math.max(0,Math.min(t.height,e.y))),e.width=Math.round(Math.max(0,Math.min(t.width,e.width))),e.height=Math.round(Math.max(0,Math.min(t.height,e.height))),r&&(i==mxConstants.DIRECTION_SOUTH||i==mxConstants.DIRECTION_NORTH)||l&&(i==mxConstants.DIRECTION_EAST||i==mxConstants.DIRECTION_WEST)){var o=e.x;e.x=e.width,e.width=o}if(l&&(i==mxConstants.DIRECTION_SOUTH||i==mxConstants.DIRECTION_NORTH)||r&&(i==mxConstants.DIRECTION_EAST||i==mxConstants.DIRECTION_WEST)){o=e.y;e.y=e.height,e.height=o}var a=mxRectangle.fromRectangle(e);return i==mxConstants.DIRECTION_SOUTH?(a.y=e.x,a.x=e.height,a.width=e.y,a.height=e.width):i==mxConstants.DIRECTION_WEST?(a.y=e.height,a.x=e.width,a.width=e.x,a.height=e.y):i==mxConstants.DIRECTION_NORTH&&(a.y=e.width,a.x=e.y,a.width=e.height,a.height=e.x),new mxRectangle(t.x+a.x,t.y+a.y,t.width-a.width-a.x,t.height-a.height-a.y)},getPerimeterPoint:function(t,e,n){for(var l=null,r=0;r<t.length-1;r++){var i=mxUtils.intersection(t[r].x,t[r].y,t[r+1].x,t[r+1].y,e.x,e.y,n.x,n.y);if(null!=i){var o=n.x-i.x,a=n.y-i.y,s={p:i,distSq:a*a+o*o};null!=s&&(null==l||l.distSq>s.distSq)&&(l=s)}}return null!=l?l.p:null},rectangleIntersectsSegment:function(t,e,n){var l=t.y,r=t.x,i=l+t.height,o=r+t.width,a=e.x,s=n.x;if(e.x>n.x&&(a=n.x,s=e.x),s>o&&(s=o),a<r&&(a=r),a>s)return!1;var u=e.y,c=n.y,m=n.x-e.x;if(Math.abs(m)>1e-7){var d=(n.y-e.y)/m,x=e.y-d*e.x;u=d*a+x,c=d*s+x}if(u>c){var f=c;c=u,u=f}return c>i&&(c=i),u<l&&(u=l),!(u>c)},contains:function(t,e,n){return t.x<=e&&t.x+t.width>=e&&t.y<=n&&t.y+t.height>=n},intersects:function(t,e){var n=t.width,l=t.height,r=e.width,i=e.height;if(r<=0||i<=0||n<=0||l<=0)return!1;var o=t.x,a=t.y,s=e.x,u=e.y;return i+=u,n+=o,l+=a,((r+=s)<s||r>o)&&(i<u||i>a)&&(n<o||n>s)&&(l<a||l>u)},intersectsHotspot:function(t,e,n,l,r,i){if(l=null!=l?l:1,r=null!=r?r:0,i=null!=i?i:0,l>0){var o=t.getCenterX(),a=t.getCenterY(),s=t.width,u=t.height,c=mxUtils.getValue(t.style,mxConstants.STYLE_STARTSIZE)*t.view.scale;c>0&&(mxUtils.getValue(t.style,mxConstants.STYLE_HORIZONTAL,!0)?(a=t.y+c/2,u=c):(o=t.x+c/2,s=c)),s=Math.max(r,s*l),u=Math.max(r,u*l),i>0&&(s=Math.min(s,i),u=Math.min(u,i));var m=new mxRectangle(o-s/2,a-u/2,s,u),d=mxUtils.toRadians(mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION)||0);if(0!=d){var x=Math.cos(-d),f=Math.sin(-d),h=(o=new mxPoint(t.getCenterX(),t.getCenterY()),mxUtils.getRotatedPoint(new mxPoint(e,n),x,f,o));e=h.x,n=h.y}return mxUtils.contains(m,e,n)}return!0},getOffset:function(t,e){for(var n=0,l=0,r=!1,i=t,o=document.body,a=document.documentElement;null!=i&&i!=o&&i!=a&&!r;){var s=mxUtils.getCurrentStyle(i);null!=s&&(r=r||"fixed"==s.position),i=i.parentNode}if(!e&&!r){var u=mxUtils.getDocumentScrollOrigin(t.ownerDocument);n+=u.x,l+=u.y}var c=t.getBoundingClientRect();return null!=c&&(n+=c.left,l+=c.top),new mxPoint(n,l)},getDocumentScrollOrigin:function(t){var e=t.defaultView||t.parentWindow,n=null!=e&&void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,l=null!=e&&void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return new mxPoint(n,l)},getScrollOrigin:function(t,e,n){e=null!=e&&e,n=null==n||n;for(var l=null!=t?t.ownerDocument:document,r=l.body,i=l.documentElement,o=new mxPoint,a=!1;null!=t&&t!=r&&t!=i;){isNaN(t.scrollLeft)||isNaN(t.scrollTop)||(o.x+=t.scrollLeft,o.y+=t.scrollTop);var s=mxUtils.getCurrentStyle(t);null!=s&&(a=a||"fixed"==s.position),t=e?t.parentNode:null}if(!a&&n){var u=mxUtils.getDocumentScrollOrigin(l);o.x+=u.x,o.y+=u.y}return o},convertPoint:function(t,e,n){var l=mxUtils.getScrollOrigin(t,!1),r=mxUtils.getOffset(t);return r.x-=l.x,r.y-=l.y,new mxPoint(e-r.x,n-r.y)},ltrim:function(t,e){return e=e||"\\s",null!=t?t.replace(new RegExp("^["+e+"]+","g"),""):null},rtrim:function(t,e){return e=e||"\\s",null!=t?t.replace(new RegExp("["+e+"]+$","g"),""):null},trim:function(t,e){return mxUtils.ltrim(mxUtils.rtrim(t,e),e)},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)&&("string"!=typeof t||t.toLowerCase().indexOf("0x")<0)},isInteger:function(t){return String(parseInt(t))===String(t)},mod:function(t,e){return(t%e+e)%e},intersection:function(t,e,n,l,r,i,o,a){var s=(a-i)*(n-t)-(o-r)*(l-e),u=((o-r)*(e-i)-(a-i)*(t-r))/s,c=((n-t)*(e-i)-(l-e)*(t-r))/s;return u>=0&&u<=1&&c>=0&&c<=1?new mxPoint(t+u*(n-t),e+u*(l-e)):null},ptSegDistSq:function(t,e,n,l,r,i){var o,a=(r-=t)*(n-=t)+(i-=e)*(l-=e);o=a<=0?0:(a=(r=n-r)*n+(i=l-i)*l)<=0?0:a*a/(n*n+l*l);var s=r*r+i*i-o;return s<0&&(s=0),s},ptLineDist:function(t,e,n,l,r,i){return Math.abs((l-e)*r-(n-t)*i+n*e-l*t)/Math.sqrt((l-e)*(l-e)+(n-t)*(n-t))},relativeCcw:function(t,e,n,l,r,i){var o=(r-=t)*(l-=e)-(i-=e)*(n-=t);return 0==o&&(o=r*n+i*l)>0&&(o=(r-=n)*n+(i-=l)*l)<0&&(o=0),o<0?-1:o>0?1:0},animateChanges:function(t,e){mxEffects.animateChanges.apply(this,arguments)},cascadeOpacity:function(t,e,n){mxEffects.cascadeOpacity.apply(this,arguments)},fadeOut:function(t,e,n,l,r,i){mxEffects.fadeOut.apply(this,arguments)},setOpacity:function(t,e){mxUtils.isVml(t)?t.style.filter=e>=100?"":"alpha(opacity="+e/5+")":t.style.opacity=e/100},createImage:function(t){var e=null;return(e=document.createElement("img")).setAttribute("src",t),e.setAttribute("border","0"),e},sortCells:function(t,e){e=null==e||e;var n=new mxDictionary;return t.sort(function(t,l){var r=n.get(t);null==r&&(r=mxCellPath.create(t).split(mxCellPath.PATH_SEPARATOR),n.put(t,r));var i=n.get(l);null==i&&(i=mxCellPath.create(l).split(mxCellPath.PATH_SEPARATOR),n.put(l,i));var o=mxCellPath.compare(r,i);return 0==o?0:o>0==e?1:-1}),t},getStylename:function(t){if(null!=t){var e=t.split(";")[0];if(e.indexOf("=")<0)return e}return""},getStylenames:function(t){var e=[];if(null!=t)for(var n=t.split(";"),l=0;l<n.length;l++)n[l].indexOf("=")<0&&e.push(n[l]);return e},indexOfStylename:function(t,e){if(null!=t&&null!=e)for(var n=t.split(";"),l=0,r=0;r<n.length;r++){if(n[r]==e)return l;l+=n[r].length+1}return-1},addStylename:function(t,e){return mxUtils.indexOfStylename(t,e)<0&&(null==t?t="":t.length>0&&";"!=t.charAt(t.length-1)&&(t+=";"),t+=e),t},removeStylename:function(t,e){var n=[];if(null!=t)for(var l=t.split(";"),r=0;r<l.length;r++)l[r]!=e&&n.push(l[r]);return n.join(";")},removeAllStylenames:function(t){var e=[];if(null!=t)for(var n=t.split(";"),l=0;l<n.length;l++)n[l].indexOf("=")>=0&&e.push(n[l]);return e.join(";")},setCellStyles:function(t,e,n,l){if(null!=e&&e.length>0){t.beginUpdate();try{for(var r=0;r<e.length;r++)if(null!=e[r]){var i=mxUtils.setStyle(t.getStyle(e[r]),n,l);t.setStyle(e[r],i)}}finally{t.endUpdate()}}},setStyle:function(t,e,n){var l=null!=n&&(void 0===n.length||n.length>0);if(null==t||0==t.length)l&&(t=e+"="+n+";");else if(t.substring(0,e.length+1)==e+"="){var r=t.indexOf(";");t=l?e+"="+n+(r<0?";":t.substring(r)):r<0||r==t.length-1?"":t.substring(r+1)}else{var i=t.indexOf(";"+e+"=");if(i<0){if(l)t=t+(";"==t.charAt(t.length-1)?"":";")+e+"="+n+";"}else{r=t.indexOf(";",i+1);t=l?t.substring(0,i+1)+e+"="+n+(r<0?";":t.substring(r)):t.substring(0,i)+(r<0?";":t.substring(r))}}return t},setCellStyleFlags:function(t,e,n,l,r){if(null!=e&&e.length>0){t.beginUpdate();try{for(var i=0;i<e.length;i++)if(null!=e[i]){var o=mxUtils.setStyleFlag(t.getStyle(e[i]),n,l,r);t.setStyle(e[i],o)}}finally{t.endUpdate()}}},setStyleFlag:function(t,e,n,l){if(null==t||0==t.length)t=l||null==l?e+"="+n:e+"=0";else{var r=t.indexOf(e+"=");if(r<0){var i=";"==t.charAt(t.length-1)?"":";";t=l||null==l?t+i+e+"="+n:t+i+e+"=0"}else{var o=t.indexOf(";",r),a="";a=o<0?t.substring(r+e.length+1):t.substring(r+e.length+1,o),a=null==l?parseInt(a)^n:l?parseInt(a)|n:parseInt(a)&~n,t=t.substring(0,r)+e+"="+a+(o>=0?t.substring(o):"")}}return t},getAlignmentAsPoint:function(t,e){var n=-.5,l=-.5;return t==mxConstants.ALIGN_LEFT?n=0:t==mxConstants.ALIGN_RIGHT&&(n=-1),e==mxConstants.ALIGN_TOP?l=0:e==mxConstants.ALIGN_BOTTOM&&(l=-1),new mxPoint(n,l)},getSizeForString:function(t,e,n,l,r){e=null!=e?e:mxConstants.DEFAULT_FONTSIZE,n=null!=n?n:mxConstants.DEFAULT_FONTFAMILY;var i=document.createElement("div");if(i.style.fontFamily=n,i.style.fontSize=Math.round(e)+"px",i.style.lineHeight=Math.round(e*mxConstants.LINE_HEIGHT)+"px",null!=r){(r&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&(i.style.fontWeight="bold"),(r&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&(i.style.fontStyle="italic");var o=[];(r&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&o.push("underline"),(r&mxConstants.FONT_STRIKETHROUGH)==mxConstants.FONT_STRIKETHROUGH&&o.push("line-through"),o.length>0&&(i.style.textDecoration=o.join(" "))}i.style.position="absolute",i.style.visibility="hidden",i.style.display="inline-block",i.style.zoom="1",null!=l?(i.style.width=l+"px",i.style.whiteSpace="normal"):i.style.whiteSpace="nowrap",i.innerHTML=t,document.body.appendChild(i);var a=new mxRectangle(0,0,i.offsetWidth,i.offsetHeight);return document.body.removeChild(i),a},getViewXml:function(t,e,n,l,r){(l=null!=l?l:0,r=null!=r?r:0,e=null!=e?e:1,null==n)&&(n=[t.getModel().getRoot()]);var i=t.getView(),o=null,a=i.isEventsEnabled();i.setEventsEnabled(!1);var s=i.drawPane,u=i.overlayPane;t.dialect==mxConstants.DIALECT_SVG?(i.drawPane=document.createElementNS(mxConstants.NS_SVG,"g"),i.canvas.appendChild(i.drawPane),i.overlayPane=document.createElementNS(mxConstants.NS_SVG,"g"),i.canvas.appendChild(i.overlayPane)):(i.drawPane=i.drawPane.cloneNode(!1),i.canvas.appendChild(i.drawPane),i.overlayPane=i.overlayPane.cloneNode(!1),i.canvas.appendChild(i.overlayPane));var c=i.getTranslate();i.translate=new mxPoint(l,r);var m=new mxTemporaryCellStates(t.getView(),e,n);try{o=(new mxCodec).encode(t.getView())}finally{m.destroy(),i.translate=c,i.canvas.removeChild(i.drawPane),i.canvas.removeChild(i.overlayPane),i.drawPane=s,i.overlayPane=u,i.setEventsEnabled(a)}return o},show:function(t,e,n,l,r,i){(n=null!=n?n:0,l=null!=l?l:0,null==e)?e=window.open().document:e.open();var o=t.getGraphBounds(),a=Math.ceil(n-o.x),s=Math.ceil(l-o.y);if(null==r&&(r=Math.ceil(o.width+n)+Math.ceil(Math.ceil(o.x)-o.x)),null==i&&(i=Math.ceil(o.height+l)+Math.ceil(Math.ceil(o.y)-o.y)),11==document.documentMode){for(var u="<html><head>",c=document.getElementsByTagName("base"),m=0;m<c.length;m++)u+=c[m].outerHTML;u+="<style>";for(m=0;m<document.styleSheets.length;m++)try{u+=document.styleSheets[m].cssText}catch(t){}u+='</style></head><body style="margin:0px;">',u+='<div style="position:absolute;overflow:hidden;width:'+r+"px;height:"+i+'px;"><div style="position:relative;left:'+a+"px;top:"+s+'px;">',u+=t.container.innerHTML,u+="</div></div></body><html>",e.writeln(u),e.close()}else{e.writeln("<html><head>");for(c=document.getElementsByTagName("base"),m=0;m<c.length;m++)e.writeln(mxUtils.getOuterHtml(c[m]));var d=document.getElementsByTagName("link");for(m=0;m<d.length;m++)e.writeln(mxUtils.getOuterHtml(d[m]));var x=document.getElementsByTagName("style");for(m=0;m<x.length;m++)e.writeln(mxUtils.getOuterHtml(x[m]));e.writeln('</head><body style="margin:0px;"></body></html>'),e.close();var f=e.createElement("div");f.position="absolute",f.overflow="hidden",f.style.width=r+"px",f.style.height=i+"px";var h=e.createElement("div");h.style.position="absolute",h.style.left=a+"px",h.style.top=s+"px";for(var g=t.container.firstChild,p=null;null!=g;){var v=g.cloneNode(!0);g==t.view.drawPane.ownerSVGElement?(f.appendChild(v),p=v):h.appendChild(v),g=g.nextSibling}e.body.appendChild(f),null!=h.firstChild&&e.body.appendChild(h),null!=p&&(p.style.minWidth="",p.style.minHeight="",p.firstChild.setAttribute("transform","translate("+a+","+s+")"))}return mxUtils.removeCursors(e.body),e},printScreen:function(t){var e=window.open();t.getGraphBounds();mxUtils.show(t,e.document);var n=function(){e.focus(),e.print(),e.close()};GE.IS_GC?e.setTimeout(n,500):n()},popup:function(t,e,n,l,r){if(e){var i=document.createElement("div");i.style.overflow="scroll",i.style.width="636px",i.style.height="460px",(u=document.createElement("pre")).innerHTML=mxUtils.htmlEntities(t,!1).replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),i.appendChild(u),n||(n=640),l||(l=480);var o=document.body.clientWidth,a=Math.max(document.body.clientHeight||0,document.documentElement.clientHeight);(s=new mxWindow(r||"Popup Window",i,o/2-n/2,a/2-l/2,n,l,!1,!0)).setClosable(!0),s.setVisible(!0)}else{var s,u;if(GE.IS_NS)(s=window.open()).document.writeln("<pre>"+mxUtils.htmlEntities(t)+"</pre"),s.document.close();else(u=(s=window.open()).document.createElement("pre")).innerHTML=mxUtils.htmlEntities(t,!1).replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),s.document.body.appendChild(u)}},alert:function(t){alert(t)},prompt:function(t,e){return prompt(t,null!=e?e:"")},confirm:function(t){return confirm(t)},error:function(t,e,n,l){var r=document.createElement("div");r.style.padding="20px";var i=document.createElement("img");i.setAttribute("src",l||mxUtils.errorImage),i.setAttribute("valign","bottom"),i.style.verticalAlign="middle",r.appendChild(i),r.appendChild(document.createTextNode(" ")),r.appendChild(document.createTextNode(" ")),r.appendChild(document.createTextNode(" ")),mxUtils.write(r,t);var o=document.body.clientWidth,a=document.body.clientHeight||document.documentElement.clientHeight,s=new mxWindow(mxResources.get(mxUtils.errorResource)||mxUtils.errorResource,r,(o-e)/2,a/4,e,null,!1,!0);if(n){mxUtils.br(r);var u=document.createElement("p"),c=document.createElement("button");c.setAttribute("style","float:right"),mxEvent.addListener(c,"click",function(t){s.destroy()}),mxUtils.write(c,mxResources.get(mxUtils.closeResource)||mxUtils.closeResource),u.appendChild(c),r.appendChild(u),mxUtils.br(r),s.setClosable(!0)}return s.setVisible(!0),s},makeDraggable:function(t,e,n,l,r,i,o,a,s,u){var c=new mxDragSource(t,n);return c.dragOffset=new mxPoint(null!=r?r:0,null!=i?i:mxConstants.TOOLTIP_VERTICAL_OFFSET),c.autoscroll=o,c.setGuidesEnabled(!1),null!=s&&(c.highlightDropTargets=s),null!=u&&(c.getDropTarget=u),c.getGraphForEvent=function(t){return"function"==typeof e?e(t):e},null!=l&&(c.createDragElement=function(){return l.cloneNode(!0)},a&&(c.createPreviewElement=function(t){var e=l.cloneNode(!0),n=parseInt(e.style.width),r=parseInt(e.style.height);return e.style.width=Math.round(n*t.view.scale)+"px",e.style.height=Math.round(r*t.view.scale)+"px",e})),c}};