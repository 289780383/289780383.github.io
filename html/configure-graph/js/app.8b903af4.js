(function(e){function t(t){for(var i,o,s=t[0],l=t[1],c=t[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],i=!0,s=1;s<r.length;s++){var l=r[s];0!==n[l]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var i={},n={app:0},a=[];function o(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=i,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/html/configure-graph/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0124":function(e,t,r){},"034f":function(e,t,r){"use strict";var i=r("85ec"),n=r.n(i);n.a},"07b7":function(e,t,r){},1340:function(e,t,r){"use strict";var i=r("af72"),n=r.n(i);n.a},2540:function(e,t,r){},2617:function(e,t,r){"use strict";var i=r("c8a7"),n=r.n(i);n.a},"28fe":function(e,t,r){"use strict";var i=r("72a6"),n=r.n(i);n.a},"31f7":function(e,t,r){e.exports=r.p+"img/header.a4b6ae33.png"},"38b6":function(e,t,r){},4716:function(e,t,r){"use strict";var i=r("c48c"),n=r.n(i);n.a},4740:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("96cf");var i=r("1da1"),n=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],s={name:"app",components:{},mounted:function(){this.$router.push("/")}},l=s,c=(r("034f"),r("2877")),u=Object(c["a"])(l,a,o,!1,null,null,null),p=u.exports,d=r("8c4f"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login_container"},[r("div",{staticClass:"login_box"},[e._m(0),r("el-form",{ref:"login",staticClass:"login_form",attrs:{model:e.loginData,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.loginData.username,callback:function(t){e.$set(e.loginData,"username",t)},expression:"loginData.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password"},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}})],1),r("el-form-item",{staticClass:"btns"},[r("el-button",{attrs:{type:"primary"},on:{click:e.loginClick}},[e._v("登录")]),r("el-button",{attrs:{type:"info"},on:{click:e.resetClick}},[e._v("重置")])],1)],1)],1)])},f=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"avatar_box"},[i("img",{attrs:{src:r("b640")}})])}],m=(r("ac1f"),r("5319"),r("8237")),b=r.n(m),g={data:function(){return{loginData:{username:"admin",password:"123"},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}]}}},methods:{resetClick:function(){this.$refs.login.resetFields()},loginClick:function(){var e=this;this.$refs.login.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return e.$http.user.username=e.loginData.username,e.$http.user.password=b()(e.loginData.password),t.next=6,e.$http.login();case 6:if(i=t.sent,i){t.next=9;break}return t.abrupt("return");case 9:e.$message.success("登录成功！"),window.sessionStorage.setItem("user",e.loginData.username),e.$router.replace("/home");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},v=g,x=(r("5d67"),Object(c["a"])(v,h,f,!1,null,"1e55b218",null)),w=x.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"main-container"},[r("el-header",[r("homeHeader",{attrs:{viewMode:e.viewMode}})],1),r("el-container",{staticClass:"sub-container"},[r("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.viewMode,expression:"viewMode"}],attrs:{width:"200px"}},[r("homeAside",{ref:"homeAside"})],1),r("el-main",[r("router-view",{attrs:{progress:e.$refs.loadProgress}})],1),r("loadProgress",{ref:"loadProgress"})],1)],1)},$=[],k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header-func"},[e._m(0),r("div",{directives:[{name:"show",rawName:"v-show",value:e.viewMode,expression:"viewMode"}]},[r("el-button",{staticClass:"headerBtn",attrs:{type:"text",icon:"el-icon-upload"},on:{click:e.uploadClick}},[e._v("上传参数 ")]),r("el-button",{staticClass:"headerBtn",attrs:{type:"text",icon:"el-icon-download"},on:{click:e.downloadClick}},[e._v("下载参数 ")]),r("el-button",{staticClass:"headerBtn",attrs:{type:"text",icon:"el-icon-circle-close"},on:{click:e.logoutClick}},[e._v("退出 ")])],1)])},C=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("img",{attrs:{src:r("31f7"),width:"35px",height:"35px"}}),i("span",[e._v("吉安电子科技物联网配置系统")])])}],V={props:["viewMode"],data:function(){return{}},methods:{logoutClick:function(){window.sessionStorage.clear(),this.$coreData.clearAll(),this.$router.replace("/Login")},uploadClick:function(){},downloadClick:function(){}}},G=V,P=(r("1340"),Object(c["a"])(G,k,C,!1,null,"58f1979d",null)),_=P.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-menu",{ref:"asideMenu",attrs:{"active-text-color":"#44f","text-color":"#000"}},[r("el-menu-item",{attrs:{index:"组态画面"},on:{click:e.onClickGraphEditNode}},[r("i",{staticClass:"el-icon-picture-outline"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("组态画面")])])],1)],1)},E=[],F={data:function(){return{}},created:function(){this.$comm.$on("loadFinished",(function(e){}))},methods:{onClickGraphEditNode:function(){var e="/home/graphEdit";e!==this.$route.path&&this.$router.replace(e)}}},D=F,S=(r("be08"),Object(c["a"])(D,B,E,!1,null,"1316ebca",null)),T=S.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticStyle:{position:"fixed","z-index":"9999",top:"0"}},[r("el-progress",{attrs:{type:"circle",percentage:e.percentage,status:"success"}})],1)},j=[],O={data:function(){return{show:!1,percentage:0}},methods:{hide:function(){this.show=!1},set:function(e){var t=this;this.percentage=e,100===e?setTimeout((function(){t.show=!1}),400):0===e&&(this.show=!0)}}},M=O,U=(r("fe3c"),Object(c["a"])(M,N,j,!1,null,"587b4669",null)),R=U.exports,L={components:{homeHeader:_,homeAside:T,loadProgress:R},data:function(){return{viewMode:!0}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$coreData.setProgress(e.$refs.loadProgress),t.next=3,e.$coreData.getAll();case 3:if(!t.sent){t.next=8;break}e.$comm.$emit("loadFinished",!0),e.$notify({title:"成功",message:"数据获取成功",type:"success",position:"bottom-right"}),t.next=10;break;case 8:e.$comm.$emit("loadFinished",!1),e.$notify({title:"失败",message:"数据获取失败",type:"error",position:"bottom-right"});case 10:e.$comm.$on("changeViewMode",(function(t){e.viewMode=t}));case 11:case"end":return t.stop()}}),t)})))()},methods:{}},z=L,W=(r("b597"),Object(c["a"])(z,y,$,!1,null,"0cae49e8",null)),A=W.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{height:"100%"}},[r("table",{staticClass:"showarea"},[r("tr",[r("td",{attrs:{valign:"top"}},[r("div",{staticClass:"tree-container"},[r("el-tree",{ref:"graphTree",attrs:{"node-key":"id",data:[e.graphs],"highlight-current":!0,"expand-on-click-node":!1,indent:0,"default-expand-all":"",props:{children:"children",label:"name"},draggable:"","allow-drop":e.isTreeAllowDrop,"allow-drag":e.isTreeAllowDrag},on:{"current-change":e.onTreeNodeCurrentChange,"node-contextmenu":e.onTreeNodeCtxMenu,"node-drop":e.onTreeChanged}})],1)]),r("td",{attrs:{valign:"top",width:"100%"}},[r("div",{staticStyle:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}},[r("div",{ref:"graphShow",staticStyle:{"-webkit-box-shadow":"2px 2px 10px #909090",border:"1px solid #000","background-color":"#FFF"}}),e.viewMode&&e.curGraph&&"xml"in e.curGraph?r("div",[r("el-row",[r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.zoomFactor+=.1,e.graphShow.zoom(e.zoomFactor)}}},[e._v("放大 ")])],1),r("el-row",[r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.zoomFactor=e.zoomFactor>=.2?e.zoomFactor-.1:.1,e.graphShow.zoom(e.zoomFactor)}}},[e._v(" 缩小 ")])],1),r("el-row",[r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.zoomFactor=1,e.graphShow.zoom(e.zoomFactor)}}},[e._v(" 实际 ")])],1),r("el-row",[r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){return e.$refs.graphDebug.open(e.graphShow,e.readableVarList)}}},[e._v("调试 ")])],1)],1):e.viewMode?e._e():r("div",[r("el-row",{directives:[{name:"show",rawName:"v-show",value:e.curGraph&&"xml"in e.curGraph,expression:"curGraph&&('xml' in curGraph)"}]},[r("el-button",{staticClass:"btn",attrs:{type:"danger"}},[e._v("删除")])],1),r("el-row",{directives:[{name:"show",rawName:"v-show",value:e.curGraph&&"xml"in e.curGraph,expression:"curGraph&&('xml' in curGraph)"}]},[r("el-button",{staticClass:"btn",attrs:{type:"warning"}},[e._v("改名")])],1),r("el-row",[r("el-button",{staticClass:"btn",attrs:{type:"success"},on:{click:function(t){e.showEditorDrawer=!0}}},[e._v("编辑 ")])],1)],1)])])])]),r("graphTreeCtxMenu",{ref:"graphTreeCtxMenu"}),r("graphDebug",{ref:"graphDebug"}),r("el-switch",{staticStyle:{display:"block",top:"2px",right:"10px",position:"absolute"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"浏览模式","inactive-text":"编辑模式"},on:{change:e.onViewMode},model:{value:e.viewMode,callback:function(t){e.viewMode=t},expression:"viewMode"}}),r("el-drawer",{attrs:{title:"","close-on-press-escape":!1,size:"100%",visible:e.showEditorDrawer,"with-header":!1},on:{opened:e.onEditorDrawerOpened,"update:visible":function(t){e.showEditorDrawer=t}}},[r("div",{ref:"editorUi"})]),r("graphThemes",{ref:"graphThemes"}),r("generalBindProperties",{ref:"generalBindProperties"}),r("varBindProperties",{ref:"varBindProperties"}),r("dateTimeBindProperties",{ref:"dateTimeBindProperties"}),r("extBindProperties",{ref:"extBindProperties"})],1)},X=[],J=(r("a4d3"),r("e01a"),r("a434"),r("b0c0"),r("2ca0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{modal:!1,width:"860px",center:"",title:"调试",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{staticStyle:{"max-height":"300px",overflow:"auto"}},e._l(e.readableVarList,(function(t){return r("el-row",{key:t.varGuid},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"变量：","label-width":"60px"}},[r("el-input",{attrs:{size:"mini",readonly:"",value:t.name}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"值：","label-width":"40px"}},[t.description?r("el-select",{attrs:{size:"mini"},on:{change:function(r){return e.onDebug(t)}},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"vd.value"}},e._l(t.description,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):r("el-input",{attrs:{size:"mini"},on:{change:function(r){return e.onDebug(t)}},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"vd.value"}})],1)],1),r("el-col",{staticStyle:{"text-align":"center"},attrs:{size:"mini",span:4}},[r("el-form-item",{attrs:{label:"报警：","label-width":"60px"}},[r("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,max:6},on:{change:function(r){return e.onDebug(t)}},model:{value:t.alarm.level,callback:function(r){e.$set(t.alarm,"level",r)},expression:"vd.alarm.level"}})],1)],1),r("el-col",{staticStyle:{"text-align":"center"},attrs:{size:"mini",span:2}},[r("el-form-item",{attrs:{label:"","label-width":"0px"}},[r("el-input",{attrs:{disabled:0==t.alarm.level,size:"mini"},on:{change:function(r){return e.onDebug(t)}},model:{value:t.alarm.text,callback:function(r){e.$set(t.alarm,"text","string"===typeof r?r.trim():r)},expression:"vd.alarm.text"}})],1)],1),r("el-col",{staticStyle:{"text-align":"center"},attrs:{size:"mini",span:3}},[r("el-form-item",{attrs:{label:"通信：","label-width":"60px"}},[r("el-checkbox-button",{attrs:{size:"mini"},on:{change:function(r){return e.onDebug(t)}},model:{value:t.commErr,callback:function(r){e.$set(t,"commErr",r)},expression:"vd.commErr"}},[e._v(" "+e._s(t.commErr?"错误":"正常")+" ")])],1)],1)],1)})),1)],1)}),H=[],Q={data:function(){return{graphShow:null,readableVarList:[],dialogVisible:!1}},methods:{open:function(e,t){this.graphShow=e,this.readableVarList=t,this.dialogVisible=!0},onDebug:function(e){if(this.graphShow){0===e.alarm.level?e.alarm.text="无报警":e.alarm.text="有报警";var t={guid:e.guid,value:e.value,alarm:{level:e.alarm.level,text:e.alarm.text},commErr:e.commErr};e.description&&(t.description=e.description[e.value].label),this.graphShow.setVarData(t)}}}},q=Q,Y=(r("70ba"),Object(c["a"])(q,J,H,!1,null,"5533fa75",null)),K=Y.exports,Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("context-menu",{ref:"ctxMenu"},[r("li",{staticClass:"ctx-item disabled"},[e._v(e._s(e.curGraph?e.curGraph.name:"组态图"))]),r("li",{staticClass:"ctx-item",on:{click:function(t){return e.$comm.$emit("editGraph",e.curGraph)}}},[r("i",{staticClass:"el-icon-picture-outline"}),r("span",[e._v("编辑画面")])]),r("li",{directives:[{name:"show",rawName:"v-show",value:e.curGraph&&0!==e.curGraph.id,expression:"curGraph&&curGraph.id!==0"}],staticClass:"ctx-item",on:{click:function(t){return e.$comm.$emit("editGraphName",e.curGraph)}}},[r("i",{staticClass:"el-icon-edit-outline"}),r("span",[e._v("修改名称")])]),r("li",{staticClass:"ctx-item",on:{click:function(t){return e.$comm.$emit("addSubGraph",e.curGraph)}}},[r("i",{staticClass:"el-icon-circle-plus-outline"}),r("span",[e._v("添加子节点")])]),r("li",{directives:[{name:"show",rawName:"v-show",value:e.curGraph&&e.curGraph.xml,expression:"curGraph&&curGraph.xml"}],staticClass:"ctx-item",on:{click:function(t){return e.$comm.$emit("delGraph",e.curGraph)}}},[r("i",{staticClass:"el-icon-close"}),r("span",[e._v("仅删除画面")])]),!e.curGraph||e.curGraph.children&&0!=e.curGraph.children.length?e._e():r("li",{staticClass:"ctx-item",on:{click:function(t){return e.$comm.$emit("delNode",e.curGraph)}}},[r("i",{staticClass:"el-icon-circle-close"}),r("span",[e._v("删除此节点")])]),r("li",{directives:[{name:"show",rawName:"v-show",value:e.curGraph&&e.curGraph.xml,expression:"curGraph&&curGraph.xml"}],staticClass:"ctx-item",on:{click:function(t){return e.$comm.$emit("copyGraph",e.curGraph)}}},[r("i",{staticClass:"el-icon-money"}),r("span",[e._v("复制画面")])])])},ee=[],te=r("8993"),re=r.n(te),ie={components:{contextMenu:re.a},data:function(){return{curGraph:null}},methods:{open:function(e,t){this.curGraph=t,this.$refs.ctxMenu.open(e,t)}}},ne=ie,ae=(r("8b58"),Object(c["a"])(ne,Z,ee,!1,null,"b0d71924",null)),oe=ae.exports,se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{modal:!1,width:"800px",center:"",title:"背景主题",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{staticStyle:{"max-height":"600px",overflow:"auto"}},[r("el-row",e._l(e.themes,(function(t,i){return r("el-col",{key:i,staticStyle:{padding:"5px"},attrs:{span:6}},[r("el-card",[r("img",{staticClass:"image",staticStyle:{width:"100%",height:"100%"},attrs:{src:t.image}}),r("div",{staticStyle:{padding:"14px"}},[r("div",{staticClass:"bottom clearfix"},[r("span",[e._v(e._s(t.name+(t.image==e.image?"✔":"")))]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:t.image!=e.image,expression:"t.image!=image"}],staticClass:"button",attrs:{type:"text"},on:{click:function(r){e.apply(t.image),e.dialogVisible=!1}}},[e._v("设为背景图")])],1)])])],1)})),1)],1),r("div",{staticClass:"dialog-footer",staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"},attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"text"},on:{click:function(t){e.apply(null),e.dialogVisible=!1}}},[e._v(e._s(e.image?"取消背景图":"")+" ")]),r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("返回")])],1)],1)},le=[],ce={data:function(){return{dialogVisible:!1,themes:[],image:null,apply:null}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.getJsonFile("/Themes");case 2:r=t.sent,r&&(e.themes=r);case 4:case"end":return t.stop()}}),t)})))()},methods:{open:function(e,t){this.image=e,this.apply=t,this.dialogVisible=!0}}},ue=ce,pe=(r("28fe"),Object(c["a"])(ue,se,le,!1,null,"0846310e",null)),de=pe.exports,he=(r("cb29"),r("b680"),function(e){return e?'<div style="width:100%;display:flex;justify-content:center;align-items:center;"><div style="width:33%;height:15px;background-color:'+e.border+';"></div><div style="width:33%;height:15px;background-color:'+e.fill+';"></div><div style="width:33%;height:15px;background-color:'+e.font+';"></div></div>':"不允许"}),fe=function(e){return e?'<div style="width:100%;display:flex;justify-content:center;align-items:center;"><div style="width:50%;height:15px;background-color:'+e.fill+';"></div><div style="width:50%;height:15px;background-color:'+e.line+';"></div></div>':"不允许"},me=function(e){return e?'<div style="width:100%;display:flex;justify-content:center;align-items:center;"><div style="width:100%;height:15px;background-color:'+e+';"></div>':"不允许"},be={"普通":function(e,t,r){1===t.bindProperties.type?(r["功能"]="鼠标点击该图元后跳转到目标页",r["跳转页面"]=t.bindProperties.jumpToPage):2===t.bindProperties.type?(r["功能"]="鼠标点击该图元后调用函数",r["传递参数"]=t.bindProperties.onClickPara):r["未定义"]="未定义"},"变量":{"指针表1":function(e,t,r){r["量程起始值"]=t.bindProperties.mr0,r["量程满幅值"]=t.bindProperties.mr1,r["报警状态"]=he(t.bindProperties.color.alarm),r["通信错误"]=he(t.bindProperties.color.commErr)},"风扇1":function(e,t,r){var i=t.bindProperties;if(i.varGuid&&i.varGuid.length>0){var n=e.$coreData.g.getVarDescription(i.varGuid);n&&(r["旋转值"]=n[i.rotateValue])}else r["旋转值"]=i.rotateValue},"文本1":function(e,t,r){r["报警状态"]=he(t.bindProperties.color.alarm),r["通信错误"]=he(t.bindProperties.color.commErr)},"水浸绳1":function(e,t,r){r["报警状态"]=fe(t.bindProperties.color.alarm),r["通信错误"]=fe(t.bindProperties.color.commErr);var i=t.bindProperties.lens;if(i){for(var n="<table>",a=0;a<i.length;a++)n+="<tr><td>第"+(a+1)+"转折点："+parseFloat(i[a]).toFixed(2)+"米</td></tr>";n+="</table>",r["实际长度"]=n}},"流动1":function(e,t,r){var i=t.bindProperties;if(i.varGuid&&i.varGuid.length>0){var n=e.$coreData.g.getVarDescription(i.varGuid);n&&(r["流动值"]=n[i.flowValue])}else r["流动值"]=i.flowValue;r["报警状态"]=me(t.bindProperties.color.alarm),r["通信错误"]=me(t.bindProperties.color.commErr)},"遥控1":function(e,t,r){var i=t.bindProperties;if(i.varGuid&&i.varGuid.length>0){var n=e.$coreData.g.getVarDescription(i.varGuid);r["遥控值"]=n?n[i.ykValue]:i.ykValue}},"进度条1":function(e,t,r){r["进度起始值"]=t.bindProperties.mr0,r["进度满幅值"]=t.bindProperties.mr1}},"外部扩展":function(e,t,r){r["图元名"]=t.bindProperties.name.length>0?t.bindProperties.name:"未定义"}},ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{width:"800px",center:"",title:"普通绑定属性",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",[r("el-row",[r("el-form-item",{attrs:{label:"功能选择：","label-width":"120px"}},[r("el-radio-group",{model:{value:e.bp.type,callback:function(t){e.$set(e.bp,"type",t)},expression:"bp.type"}},[r("el-radio",{attrs:{label:0}},[e._v("无功能")]),r("el-radio",{attrs:{label:1}},[e._v("跳转到目标页")]),r("el-radio",{attrs:{label:2}},[e._v("响应鼠标点击")])],1)],1)],1),1==e.bp.type?r("el-row",[r("el-form-item",{attrs:{label:"目标页面名：","label-width":"120px"}},[r("el-input",{model:{value:e.bp.jumpToPage,callback:function(t){e.$set(e.bp,"jumpToPage","string"===typeof t?t.trim():t)},expression:"bp.jumpToPage"}})],1)],1):e._e(),2==e.bp.type?r("el-row",[r("el-form-item",{attrs:{label:"入口参数：","label-width":"120px"}},[r("el-input",{model:{value:e.bp.onClickPara,callback:function(t){e.$set(e.bp,"onClickPara","string"===typeof t?t.trim():t)},expression:"bp.onClickPara"}})],1)],1):e._e()],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{staticStyle:{"margin-left":"100px"},attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确 定")])],1)],1)},ve=[],xe={data:function(){return{dialogVisible:!1,bp:{type:0,jumpToPage:"",onClickPara:""},originBp:null,defaultBp:null,cell:null}},mounted:function(){this.defaultBp=this.$pubFunc.deepClone(this.bp)},methods:{open:function(e){this.cell=e,this.bp=this.$pubFunc.deepClone(this.defaultBp),e.bindProperties?(this.bp.type=e.bindProperties.type,1===this.bp.type?this.bp.jumpToPage=e.bindProperties.jumpToPage:2===this.bp.type&&(this.bp.onClickPara=e.bindProperties.onClickPara)):this.bp.type=0,this.originBp=this.$pubFunc.deepClone(this.bp),this.dialogVisible=!0},isChanged:function(){if(this.bp.type!==this.originBp.type)return!0;if(1===this.bp.type){if(this.bp.jumpToPage!==this.originBp.jumpToPage)return!0}else if(2===this.bp.type&&this.bp.onClickPara!==this.originBp.onClickPara)return!0;return!1},handleOk:function(){if(this.isChanged()){var e=null;if(1===this.bp.type){if(0===this.bp.jumpToPage.length)return this.$message.error("没有输入跳转的目标页面名！");e={type:1,jumpToPage:this.bp.jumpToPage}}else if(2===this.bp.type){if(0===this.bp.onClickPara.length)return this.$message.error("没有输入鼠标点击后传递的参数！");e={type:2,onClickPara:this.bp.onClickPara}}this.$editorUi.updateBindProperties(this.cell,e)}this.dialogVisible=!1},handleClose:function(e){this.isChanged()?this.$msgBox.confirm("参数已经被修改，确认关闭？").then((function(t){e()})).catch((function(e){})):e()}}},we=xe,ye=(r("4716"),Object(c["a"])(we,ge,ve,!1,null,"648508fc",null)),$e=ye.exports,ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{width:"800px",center:"",title:"变量绑定属性",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t},opened:e.onDialogOpened}},[r("el-form",[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-row",[r("div",{staticClass:"varclass"},[r("el-radio-group",{model:{value:e.isPageVar,callback:function(t){e.isPageVar=t},expression:"isPageVar"}},[r("el-radio",{attrs:{label:!1}},[e._v("设备/中间变量")]),r("el-radio",{attrs:{label:!0}},[e._v("页面变量")])],1)],1)]),r("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.isPageVar,expression:"!isPageVar"}]},[r("el-form-item",{attrs:{size:"mini",label:"变量GUID：","label-width":"100px"}},[r("el-input",{class:{changed:e.varGuid!=e.originVarGuid},attrs:{readonly:"",value:e.varGuid}})],1),r("el-form-item",{attrs:{size:"mini",label:"变量名称：","label-width":"100px"}},[r("el-input",{class:{changed:e.varGuid!=e.originVarGuid},attrs:{readonly:"",value:e.varName}})],1)],1),r("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.isPageVar,expression:"!isPageVar"}]},[r("div",{ref:"varTree",staticClass:"tree"})]),r("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isPageVar,expression:"isPageVar"}]},[r("el-form-item",{attrs:{size:"mini",label:"页面变量：@","label-width":"100px"}},[r("el-input",{class:{changed:e.pVarName!=e.originPVarName},model:{value:e.pVarName,callback:function(t){e.pVarName=t},expression:"pVarName"}})],1)],1)],1),r("el-col",{attrs:{span:12}},[r(e.propertiesComponent,{ref:"propertiesComponent",tag:"component",attrs:{cell:e.cell,varGuid:e.varGuid,isPageVar:e.isPageVar}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{staticStyle:{"margin-left":"100px"},attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确 定")])],1)],1)},Ce=[],Ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"量程起始值","label-width":"100px"}},[r("el-input",{class:{changed:e.bp.mr0!=e.originBp.mr0},model:{value:e.bp.mr0,callback:function(t){e.$set(e.bp,"mr0",e._n(t))},expression:"bp.mr0"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"量程满幅值：","label-width":"100px"}},[r("el-input",{class:{changed:e.bp.mr1!=e.originBp.mr1},model:{value:e.bp.mr1,callback:function(t){e.$set(e.bp,"mr1",e._n(t))},expression:"bp.mr1"}})],1)],1)],1),r("colorBorderFillFont",{attrs:{title:"报警状态：",color:e.bp.color.alarm}}),r("colorBorderFillFont",{attrs:{title:"通信错误：",color:e.bp.color.commErr}})],1)},Ge=[],Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:e.title,"label-width":"100px"}})],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"边框","label-width":"60px"}},[r("el-button",{style:{backgroundColor:e.color.border},on:{click:function(t){return e.changeColor(1)}}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"背景","label-width":"60px"}},[r("el-button",{style:{backgroundColor:e.color.fill},on:{click:function(t){return e.changeColor(2)}}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"文字","label-width":"60px"}},[r("el-button",{style:{backgroundColor:e.color.font},on:{click:function(t){return e.changeColor(3)}}})],1)],1)],1)},_e=[],Be={props:["title","color"],methods:{changeColor:function(e){switch(e){case 1:this.$editorUi.pickColor(this.color.border,mxUtils.bind(this,(function(e){this.color.border=e})));break;case 2:this.$editorUi.pickColor(this.color.fill,mxUtils.bind(this,(function(e){this.color.fill=e})));break;case 3:this.$editorUi.pickColor(this.color.font,mxUtils.bind(this,(function(e){this.color.font=e})));break}}}},Ee=Be,Fe=Object(c["a"])(Ee,Pe,_e,!1,null,"ad6ad6d8",null),De=Fe.exports,Se={components:{colorBorderFillFont:De},props:["cell"],data:function(){return{bp:{mr0:0,mr1:100,color:{alarm:{border:"#000",fill:"#F00",font:"#FF0"},commErr:{border:"#000",fill:"#F0F",font:"#000"}}},originBp:null}},created:function(){this.originBp=this.$pubFunc.deepClone(this.bp)},methods:{init:function(){this.bp=this.$pubFunc.deepClone(this.cell.bindProperties),this.originBp=this.$pubFunc.deepClone(this.bp)},isChanged:function(){return this.bp.mr0!==this.originBp.mr0||(this.bp.mr1!==this.originBp.mr1||(this.bp.color.alarm.border!==this.originBp.color.alarm.border||(this.bp.color.alarm.fill!==this.originBp.color.alarm.fill||(this.bp.color.alarm.font!==this.originBp.color.alarm.font||(this.bp.color.commErr.border!==this.originBp.color.commErr.border||(this.bp.color.commErr.fill!==this.originBp.color.commErr.fill||this.bp.color.commErr.font!==this.originBp.color.commErr.font))))))},save:function(e){return this.bp.varGuid=e,this.$editorUi.updateBindProperties(this.cell,this.bp),!0}}},Te=Se,Ne=Object(c["a"])(Te,Ve,Ge,!1,null,"08a4bab8",null),je=Ne.exports,Oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("colorFillLine",{attrs:{title:"报警状态：",color:e.bp.color.alarm}}),r("colorFillLine",{attrs:{title:"通信错误：",color:e.bp.color.commErr}}),e.bp.lens?r("el-row",e._l(e.bp.lens,(function(t,i){return r("el-col",{key:i,attrs:{span:12}},[r("el-form-item",{attrs:{label:"第"+(i+1)+"转折点：","label-width":"100px"}},[r("el-input-number",{staticClass:"short-input",class:{changed:e.bp.lens[i]!=e.originBp.lens[i]},attrs:{size:"mini","controls-position":"right",type:"number",min:0,step:.01},model:{value:e.bp.lens[i],callback:function(t){e.$set(e.bp.lens,i,t)},expression:"bp.lens[index]"}}),e._v("米 ")],1)],1)})),1):e._e()],1)},Me=[],Ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.title,"label-width":"100px"}})],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"背景","label-width":"60px"}},[r("el-button",{style:{backgroundColor:e.color.fill},on:{click:function(t){return e.changeColor(1)}}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"线","label-width":"60px"}},[r("el-button",{style:{backgroundColor:e.color.line},on:{click:function(t){return e.changeColor(2)}}})],1)],1)],1)},Re=[],Le={props:["title","color"],methods:{changeColor:function(e){switch(e){case 1:this.$editorUi.pickColor(this.color.fill,mxUtils.bind(this,(function(e){this.color.fill=e})));break;case 2:this.$editorUi.pickColor(this.color.line,mxUtils.bind(this,(function(e){this.color.line=e})));break}}}},ze=Le,We=Object(c["a"])(ze,Ue,Re,!1,null,"29ffc728",null),Ae=We.exports,Ie={components:{colorFillLine:Ae},props:["cell"],data:function(){return{changed:!1,bp:{color:{alarm:{fill:"#F00",line:"#FF0"},commErr:{fill:"#F0F",line:"#000"}},lens:[]},originBp:null}},methods:{init:function(){this.bp=this.$pubFunc.deepClone(this.cell.bindProperties);var e=(this.cell.geometry.points?this.cell.geometry.points.length:0)+1,t=this.bp.lens.length;if(e<t)this.changed=!0,this.bp.lens[e-1]=this.bp.lens[t-1],this.bp.lens.length=e;else if(e>t){this.changed=!0;for(var r=t;r<e-1;r++)this.bp.lens.push(0);t>0?(this.bp.lens.push(this.bp.lens[t-1]),this.bp.lens[t-1]=0):this.bp.lens.push(0)}this.originBp=this.$pubFunc.deepClone(this.bp)},isChanged:function(){if(this.changed)return!0;if(this.bp.color.alarm.fill!==this.originBp.color.alarm.fill)return!0;if(this.bp.color.alarm.line!==this.originBp.color.alarm.line)return!0;if(this.bp.color.commErr.fill!==this.originBp.color.commErr.fill)return!0;if(this.bp.color.commErr.line!==this.originBp.color.commErr.line)return!0;if(this.bp.lens.length!==this.originBp.lens.length)return!0;for(var e=0;e<this.bp.lens.length;e++)if(parseFloat(this.bp.lens[e])!==parseFloat(this.originBp.lens[e]))return!0;return!1},save:function(e){for(var t=0,r=0;r<this.bp.lens.length;r++){var i=parseFloat(this.bp.lens[r]);if(i<=0)return this.$message.error("转折点长度必须大于0！请检查"),!1;if(i<=t)return this.$message.error("转折点长度必须递增！请检查"),!1;t=i}return this.bp.varGuid=e,this.$editorUi.updateBindProperties(this.cell,this.bp),!0}}},Xe=Ie,Je=(r("83f4"),Object(c["a"])(Xe,Oe,Me,!1,null,"53c3af9b",null)),He=Je.exports,Qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("colorBorderFillFont",{attrs:{title:"报警状态：",color:e.bp.color.alarm}}),r("colorBorderFillFont",{attrs:{title:"通信错误：",color:e.bp.color.commErr}})],1)},qe=[],Ye={components:{colorBorderFillFont:De},props:["cell"],data:function(){return{bp:{color:{alarm:{border:"#000",fill:"#F00",font:"#FF0"},commErr:{border:"#000",fill:"#F0F",font:"#000"}}},originBp:null}},methods:{init:function(){this.bp=this.$pubFunc.deepClone(this.cell.bindProperties),this.originBp=this.$pubFunc.deepClone(this.bp)},isChanged:function(){return this.bp.color.alarm.border!==this.originBp.color.alarm.border||(this.bp.color.alarm.fill!==this.originBp.color.alarm.fill||(this.bp.color.alarm.font!==this.originBp.color.alarm.font||(this.bp.color.commErr.border!==this.originBp.color.commErr.border||(this.bp.color.commErr.fill!==this.originBp.color.commErr.fill||this.bp.color.commErr.font!==this.originBp.color.commErr.font))))},save:function(e){return this.bp.varGuid=e,this.$editorUi.updateBindProperties(this.cell,this.bp),!0}}},Ke=Ye,Ze=Object(c["a"])(Ke,Qe,qe,!1,null,"ec1b59e6",null),et=Ze.exports,tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"点击按钮时下发的遥控值：","label-width":"200px"}},[e.isPageVar?r("el-input",{class:{changed:e.bp.ykValue!==e.originBp.ykValue},model:{value:e.bp.ykValue,callback:function(t){e.$set(e.bp,"ykValue",t)},expression:"bp.ykValue"}}):r("el-select",{class:{changed:e.bp.ykValue!==e.originBp.ykValue},attrs:{placeholder:"请选择"},model:{value:e.bp.ykValue,callback:function(t){e.$set(e.bp,"ykValue",t)},expression:"bp.ykValue"}},e._l(e.description,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)],1)},rt=[],it={props:["cell","varGuid","isPageVar"],data:function(){return{description:[{value:0,label:"断开"},{value:1,label:"闭合"}],bp:{ykValue:1},originBp:null}},watch:{varGuid:function(e){this.getDescription(e)}},created:function(){this.originBp=this.$pubFunc.deepClone(this.bp)},methods:{getDescription:function(e){var t=this.$coreData.g.getVarDescription(e);t&&(this.description[0].label=t[0],this.description[1].label=t[1])},init:function(){this.getDescription(this.varGuid),this.bp=this.$pubFunc.deepClone(this.cell.bindProperties),this.originBp=this.$pubFunc.deepClone(this.bp)},isChanged:function(){return this.bp.ykValue!==this.originBp.ykValue},save:function(e){return this.bp.varGuid=e,this.$editorUi.updateBindProperties(this.cell,this.bp),!0}}},nt=it,at=Object(c["a"])(nt,tt,rt,!1,null,"749d8511",null),ot=at.exports,st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"流动时的变量值：","label-width":"140px"}},[e.isPageVar?r("div",{staticClass:"box"},[e._v("写值1开始正向流动，写值0停止流动，写值-1开始反向流动")]):r("el-select",{class:{changed:e.bp.flowValue!==e.originBp.flowValue},attrs:{placeholder:"请选择"},model:{value:e.bp.flowValue,callback:function(t){e.$set(e.bp,"flowValue",t)},expression:"bp.flowValue"}},e._l(e.description,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"线条颜色：","label-width":"140px"}},[e._v(" 报警状态"),r("el-button",{style:{backgroundColor:e.bp.color.alarm},on:{click:function(t){return e.changeColor(1)}}}),e._v(" 通信错误"),r("el-button",{style:{backgroundColor:e.bp.color.commErr},on:{click:function(t){return e.changeColor(2)}}})],1)],1)],1)],1)},lt=[],ct={props:["cell","varGuid","isPageVar"],data:function(){return{description:[{value:0,label:"断开"},{value:1,label:"闭合"}],bp:{flowValue:1,color:{alarm:"#F00",commErr:"#F0F"}},originBp:null}},watch:{varGuid:function(e){this.getDescription(e)}},created:function(){this.originBp=this.$pubFunc.deepClone(this.bp)},methods:{changeColor:function(e){switch(e){case 1:this.$editorUi.pickColor(this.bp.color.alarm,mxUtils.bind(this,(function(e){this.bp.color.alarm=e})));break;case 2:this.$editorUi.pickColor(this.bp.color.commErr,mxUtils.bind(this,(function(e){this.bp.color.commErr=e})));break}},getDescription:function(e){if(!e.startsWith("@")){var t=this.$coreData.g.getVarDescription(e);t&&(this.description[0].label=t[0],this.description[1].label=t[1])}},init:function(){this.getDescription(this.varGuid);var e=this.cell.bindProperties;e.flowValue&&(this.bp.flowValue=e.flowValue),e.color?(e.color.alarm&&(this.bp.color.alarm=e.color.alarm),e.color.commErr&&(this.bp.color.commErr=e.color.commErr)):(this.bp.color.alarm="#F00",this.bp.color.commErr="#F0F"),this.originBp=this.$pubFunc.deepClone(this.bp)},isChanged:function(){return!this.isPageVar&&this.bp.flowValue!==this.originBp.flowValue||(this.bp.color.alarm!==this.originBp.color.alarm||this.bp.color.commErr!==this.originBp.color.commErr)},save:function(e){var t={varGuid:e,color:this.bp.color};return this.isPageVar||(t.flowValue=this.bp.flowValue),this.$editorUi.updateBindProperties(this.cell,t),!0}}},ut=ct,pt=(r("db5b"),Object(c["a"])(ut,st,lt,!1,null,"620a1757",null)),dt=pt.exports,ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"旋转时的变量值：","label-width":"140px"}},[e.isPageVar?r("div",{staticClass:"box"},[e._v("写值1开始正向转动，写值0停止转动，写值-1开始反向转动")]):r("el-select",{class:{changed:e.bp.rotateValue!==e.originBp.rotateValue},attrs:{placeholder:"请选择"},model:{value:e.bp.rotateValue,callback:function(t){e.$set(e.bp,"rotateValue",t)},expression:"bp.rotateValue"}},e._l(e.description,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)],1)},ft=[],mt={props:["cell","varGuid","isPageVar"],data:function(){return{description:[{value:0,label:"断开"},{value:1,label:"闭合"}],bp:{rotateValue:1},originBp:null}},watch:{varGuid:function(e){this.getDescription(e)}},created:function(){this.originBp=this.$pubFunc.deepClone(this.bp)},methods:{getDescription:function(e){if(!e.startsWith("@")){var t=this.$coreData.g.getVarDescription(e);t&&(this.description[0].label=t[0],this.description[1].label=t[1])}},init:function(){this.getDescription(this.varGuid),this.bp=this.$pubFunc.deepClone(this.cell.bindProperties),this.originBp=this.$pubFunc.deepClone(this.bp)},isChanged:function(){return!this.isPageVar&&this.bp.rotateValue!==this.originBp.rotateValue},save:function(e){var t={varGuid:e};return this.isPageVar||(t.rotateValue=this.bp.rotateValue),this.$editorUi.updateBindProperties(this.cell,t),!0}}},bt=mt,gt=(r("79dd"),Object(c["a"])(bt,ht,ft,!1,null,"30c1538c",null)),vt=gt.exports,xt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"显示方式：","label-width":"100px"}},[r("el-radio-group",{model:{value:e.bp.showType,callback:function(t){e.$set(e.bp,"showType",t)},expression:"bp.showType"}},[r("el-radio-button",{attrs:{label:0}},[e._v("百分比")]),r("el-radio-button",{attrs:{label:1}},[e._v("原始值")])],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"进度起始值：","label-width":"100px"}},[r("el-input",{class:{changed:e.bp.mr0!=e.originBp.mr0},model:{value:e.bp.mr0,callback:function(t){e.$set(e.bp,"mr0",e._n(t))},expression:"bp.mr0"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"进度满幅值：","label-width":"100px"}},[r("el-input",{class:{changed:e.bp.mr1!=e.originBp.mr1},model:{value:e.bp.mr1,callback:function(t){e.$set(e.bp,"mr1",e._n(t))},expression:"bp.mr1"}})],1)],1)],1)],1)},wt=[],yt=(r("c975"),r("d3b7"),r("25f0"),{props:["cell"],data:function(){return{bp:{showType:0,mr0:0,mr1:100},originBp:null}},created:function(){this.originBp=this.$pubFunc.deepClone(this.bp)},methods:{init:function(){this.bp=this.$pubFunc.deepClone(this.cell.bindProperties),this.originBp=this.$pubFunc.deepClone(this.bp)},isChanged:function(){return this.bp.showType!==this.originBp.showType||(this.bp.mr0!==this.originBp.mr0||this.bp.mr1!==this.originBp.mr1)},save:function(e){var t=this;return this.bp.varGuid=e,this.$editorUi.updateBindProperties(this.cell,this.bp,(function(e){if(t.bp.showType){var r=parseFloat(t.bp.mr0),i=parseFloat(t.bp.mr1),n=i.toString(),a=n.indexOf("."),o=0;a>=0&&(o=n.length-a-1);var s=parseFloat(e.style.size)*(i-r)+r;t.cell.value=s.toFixed(o)}else t.cell.value=Math.round(100*parseFloat(e.style.size))+"%"})),!0}}}),$t=yt,kt=Object(c["a"])($t,xt,wt,!1,null,"fd165586",null),Ct=kt.exports,Vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"默认选择：","label-width":"160px"}},[r("el-select",{class:{changed:e.bp.defaultSel!==e.originBp.defaultSel},attrs:{placeholder:"请选择"},model:{value:e.bp.defaultSel,callback:function(t){e.$set(e.bp,"defaultSel",t)},expression:"bp.defaultSel"}},e._l(e.description,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)],1)},Gt=[],Pt={props:["cell","varGuid"],data:function(){return{description:[{value:0,label:"0"},{value:1,label:"1"}],bp:{defaultSel:1},originBp:null}},created:function(){this.originBp=this.$pubFunc.deepClone(this.bp)},methods:{init:function(){this.cell.children[0].value.length>0?this.description[0].label=this.cell.children[0].value:this.description[0].label="0",this.cell.children[1].value.length>0?this.description[1].label=this.cell.children[1].value:this.description[1].label="1",this.bp=this.$pubFunc.deepClone(this.cell.bindProperties),this.originBp=this.$pubFunc.deepClone(this.bp)},isChanged:function(){return this.bp.defaultSel!==this.originBp.defaultSel},save:function(e){return this.bp.varGuid=e,this.$editorUi.updateBindProperties(this.cell,this.bp),!0}}},_t=Pt,Bt=Object(c["a"])(_t,Vt,Gt,!1,null,"09e4933e",null),Et=Bt.exports,Ft={data:function(){return{dialogVisible:!1,propertiesComponent:null,tree:null,rwMode:-1,varType:-1,cell:null,varName:"",varGuid:"",originVarGuid:"",isPageVar:!1,pVarName:"",originPVarName:""}},methods:{open:function(e){this.cell=e;var t=this.cell.bindProperties.varGuid;switch(t.startsWith("@")?(this.isPageVar=!0,this.pVarName=t.substring(1),this.originPVarName=this.pVarName,this.varGuid="",this.varName="",this.originVarGuid=""):(this.isPageVar=!1,this.varGuid=t,this.originVarGuid=this.varGuid,this.pVarName="",this.originPVarName=""),!this.isPageVar&&this.varGuid&&this.varGuid.length>0&&(this.varName=this.$coreData.g.getVarQualifiedName(this.varGuid)),this.cell.type2){case"指针表1":this.rwMode=1,this.varType=1,this.propertiesComponent=je;break;case"风扇1":this.rwMode=1,this.varType=2,this.propertiesComponent=vt;break;case"文本1":this.rwMode=1,this.varType=0,this.propertiesComponent=et;break;case"水浸绳1":this.rwMode=1,this.varType=1,this.propertiesComponent=He;break;case"流动1":this.rwMode=1,this.varType=2,this.propertiesComponent=dt;break;case"遥控1":this.rwMode=2,this.varType=2,this.propertiesComponent=ot;break;case"进度条1":this.rwMode=1,this.varType=1,this.propertiesComponent=Ct;break;case"选项二1":this.rwMode=2,this.varType=2,this.propertiesComponent=Et;break;default:return}this.dialogVisible=!0},onDialogOpened:function(){this.createVarTree(),this.$refs.propertiesComponent&&this.$refs.propertiesComponent.init()},isChanged:function(){return!!(!this.isPageVar&&this.varGuid!==this.originVarGuid||this.isPageVar&&this.pVarName!==this.originPVarName)||this.$refs.propertiesComponent.isChanged()},handleOk:function(){if(!this.isPageVar&&(!this.varGuid||0===this.varGuid.length)||this.isPageVar&&(!this.pVarName||0===this.pVarName.length))return this.$message.error("没有指定变量！");if(this.isChanged()){var e=this.isPageVar?"@"+this.pVarName:this.varGuid;this.$refs.propertiesComponent.save(e)&&(this.dialogVisible=!1)}else this.dialogVisible=!1},handleClose:function(e){this.isChanged()?this.$msgBox.confirm("参数已经被修改，确认关闭？").then((function(t){e()})).catch((function(e){})):e()},createVarTree:function(){var e=this;if(this.tree&&this.rwMode===this.tree.rwMode&&this.varType===this.tree.varType){if(this.varGuid!==(this.tree.curSel?this.tree.curSel.id:""))if(this.tree.curSel&&(this.tree.curSel.textNode.style.color="#000",this.tree.curSel.textNode.style.fontWeight="normal"),this.varGuid&&this.varGuid.length>0){var t=this.tree.get(this.varGuid);t&&(this.tree.curSel=t,t.textNode.style.color="#00F",t.textNode.style.fontWeight="bold"),this.varName=this.$coreData.g.getVarQualifiedName(this.varGuid)}else this.varName=""}else this.varGuid&&this.varGuid.length>0?this.varName=this.$coreData.g.getVarQualifiedName(this.varGuid):this.varName="",this.$refs.varTree.innerHTML="",this.tree=this.$coreData.createVarTree(this.$refs.varTree,this.rwMode,this.varType,(function(t,r,i){r.id=i.guid,r.id===e.varGuid&&(t.curSel=r,r.textNode.style.color="#00F",r.textNode.style.fontWeight="bold"),r.onmousedown=function(r,i){t.curSel&&(t.curSel.textNode.style.color="#000",t.curSel.textNode.style.fontWeight="normal"),t.curSel=r,r.textNode.style.color="#00F",r.textNode.style.fontWeight="bold",e.varGuid=r.id,e.varName=e.$coreData.g.getVarQualifiedName(e.varGuid)}}),(function(t){if(e.tree=t,e.tree.rwMode=e.rwMode,e.tree.varType=e.varType,e.varGuid&&e.varGuid.length>0){var r=t.get(e.varGuid);r&&(t.curSel=r,r.textNode.style.color="#00F",r.textNode.style.fontWeight="bold")}})),this.tree.rwMode=this.rwMode,this.tree.varType=this.varType}}},Dt=Ft,St=(r("2617"),Object(c["a"])(Dt,ke,Ce,!1,null,"65c4d3d7",null)),Tt=St.exports,Nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{width:"400px",center:"",title:"日期时间图元绑定属性",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",[r("el-row",[r("el-tooltip",{attrs:{placement:"top",effect:"light"}},[r("div",{attrs:{slot:"content"},slot:"content"},[e._v("使用说明： "),r("br"),e._v("y年份，M月份，d日期，h小时，m分钟，s秒，W星期； "),r("br"),e._v("其中：WW显示周？，WWW显示星期？ "),r("br"),e._v("yyyy显示2021，yy显示21，MM显示01，M显示1 "),r("br"),e._v("其他类推，分隔符任意定义，可以是汉字或连接字符等 ")]),r("el-form-item",{attrs:{label:"格式：","label-width":"60px"}},[r("el-input",{class:{changed:e.bp.format!=e.originBp.format},model:{value:e.bp.format,callback:function(t){e.$set(e.bp,"format",t)},expression:"bp.format"}})],1)],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{staticStyle:{"margin-left":"100px"},attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确 定")])],1)],1)},jt=[],Ot={data:function(){return{dialogVisible:!1,bp:{format:""},originBp:null,cell:null}},created:function(){this.originBp=this.$pubFunc.deepClone(this.bp)},methods:{open:function(e){this.cell=e,e.bindProperties.format?this.bp.format=e.bindProperties.format:this.bp.format="",this.originBp=this.$pubFunc.deepClone(this.bp),this.dialogVisible=!0},isChanged:function(){return this.bp.format!==this.originBp.format},handleOk:function(){this.isChanged()&&(this.cell.value=(new Date).format(this.bp.format),this.$editorUi.updateBindProperties(this.cell,this.bp)),this.dialogVisible=!1},handleClose:function(e){this.isChanged()?this.$msgBox.confirm("参数已经被修改，确认关闭？").then((function(t){e()})).catch((function(e){})):e()}}},Mt=Ot,Ut=Object(c["a"])(Mt,Nt,jt,!1,null,"57a2de2a",null),Rt=Ut.exports,Lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{width:"400px",center:"",title:"外部扩展图元绑定属性",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",[r("el-row",[r("el-form-item",{attrs:{label:"图元名：","label-width":"120px"}},[r("el-input",{class:{changed:e.bp.name!=e.originBp.name},model:{value:e.bp.name,callback:function(t){e.$set(e.bp,"name","string"===typeof t?t.trim():t)},expression:"bp.name"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{staticStyle:{"margin-left":"100px"},attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确 定")])],1)],1)},zt=[],Wt={data:function(){return{dialogVisible:!1,bp:{name:""},originBp:null,cell:null}},created:function(){this.originBp=this.$pubFunc.deepClone(this.bp)},methods:{open:function(e){this.cell=e,e.bindProperties.name?this.bp.name=e.bindProperties.name:this.bp.name="",this.originBp=this.$pubFunc.deepClone(this.bp),this.dialogVisible=!0},isChanged:function(){return this.bp.name!==this.originBp.name},handleOk:function(){this.isChanged()&&this.$editorUi.updateBindProperties(this.cell,this.bp),this.dialogVisible=!1},handleClose:function(e){this.isChanged()?this.$msgBox.confirm("参数已经被修改，确认关闭？").then((function(t){e()})).catch((function(e){})):e()}}},At=Wt,It=Object(c["a"])(At,Lt,zt,!1,null,"fbcbbd94",null),Xt=It.exports,Jt=r("d4ec"),Ht=r("bee2");function Qt(e,t){return t.startsWith("@")?t:e.$coreData.g.getVarQualifiedName(t)}var qt={"普通":function(e,t,r){1===r.type?e.$message.success("跳转到目标页面: "+r.jumpToPage):2===r.type&&e.$message.success("鼠标点击入口参数: "+r.onClickPara)},"变量":{"指针表1":function(e,t,r){e.$message.success("click "+t+" 指针表1: "+Qt(e,r.varGuid))},"风扇1":function(e,t,r){e.$message.success("click "+t+" 风扇1: "+Qt(e,r.varGuid)+"->"+r.rotateValue)},"文本1":function(e,t,r){e.$message.success("click "+t+" 文本1: "+Qt(e,r.varGuid))},"水浸绳1":function(e,t,r){e.$message.success("click "+t+" 水浸绳1: "+Qt(e,r.varGuid))},"流动1":function(e,t,r){e.$message.success("click "+t+" 流动1: "+Qt(e,r.varGuid)+"->"+r.flowValue)},"遥控1":function(e,t,r){e.$message.success("click "+t+" 遥控1: "+Qt(e,r.varGuid)+"->"+r.ykValue)},"进度条1":function(e,t,r){e.$message.success("click "+t+" 进度条1: "+Qt(e,r.varGuid))},"选项二1":function(e,t,r){e.$message.success("click "+t+" 选项二1: "+Qt(e,r.varGuid)+"->"+r.curSel)}},"外部扩展":function(e,t,r){e.$message.success("click "+t+" 外部扩展: "+r.name)}},Yt={"普通":function(e,t){},"变量":{"指针表1":function(e,t){e.$message.success("mouseenter 指针表1: "+Qt(e,t.varGuid))},"风扇1":function(e,t){e.$message.success("mouseenter 风扇1: "+Qt(e,t.varGuid)+"->"+t.rotateValue)},"文本1":function(e,t){e.$message.success("mouseenter 文本1: "+Qt(e,t.varGuid))},"水浸绳1":function(e,t){e.$message.success("mouseenter 水浸绳1:"+Qt(e,t.varGuid))},"流动1":function(e,t){e.$message.success("mouseenter 流动1: "+Qt(e,t.varGuid)+"->"+t.flowValue)},"遥控1":function(e,t){e.$message.success("mouseenter 遥控1: "+Qt(e,t.varGuid)+"->"+t.ykValue)},"进度条1":function(e,t){e.$message.success("mouseenter 进度条1: "+Qt(e,t.varGuid))},"选项二1":function(e,t){e.$message.success("mouseenter 选项二1: "+Qt(e,t.varGuid))}},"外部扩展":function(e,t){e.$message.success("mouseenter 外部扩展: "+t.name)}},Kt={"普通":function(e,t){},"变量":{"指针表1":function(e,t){e.$message.success("mouseleave 指针表1: "+Qt(e,t.varGuid))},"风扇1":function(e,t){e.$message.success("mouseleave 风扇1: "+Qt(e,t.varGuid)+"->"+t.rotateValue)},"文本1":function(e,t){e.$message.success("mouseleave 文本1: "+Qt(e,t.varGuid))},"水浸绳1":function(e,t){e.$message.success("mouseleave 水浸绳1:"+Qt(e,t.varGuid))},"流动1":function(e,t){e.$message.success("mouseleave 流动1: "+Qt(e,t.varGuid)+"->"+t.flowValue)},"遥控1":function(e,t){e.$message.success("mouseleave 遥控1: "+Qt(e,t.varGuid)+"->"+t.ykValue)},"进度条1":function(e,t){e.$message.success("mouseleave 进度条1: "+Qt(e,t.varGuid))},"选项二1":function(e,t){e.$message.success("mouseleave 选项二1: "+Qt(e,t.varGuid))}},"外部扩展":function(e,t){e.$message.success("mouseleave 外部扩展: "+t.name)}};function Zt(e,t){return!1}var er=function(){function e(t,r){var i=this;Object(Jt["a"])(this,e),this.self=r,this.enableMouseEvent=!1,this.showUi=new GE.ShowUi(t),this.extCells={},this.showUi.extCellProcess=function(e,t){var r=t.name,n=i.extCells[r];return n?(console.log("组态图中有重名的外部扩展图元！"),!1):(i.extCells[r]=n={name:r},Zt(e,n))},this.showUi.onClick=function(e,t){var r;i.enableMouseEvent&&(console.log(window.event),t.type1?(r=qt[t.type1],t.type2&&(r=r[t.type2])):r=qt.普通,r&&r(i.self,e,t.bindProperties))},this.showUi.onMouseEnter=function(e){var t;i.enableMouseEvent&&(e.type1?(t=Yt[e.type1],e.type2&&(t=t[e.type2])):t=Yt.普通,t&&t(i.self,e.bindProperties))},this.showUi.onMouseLeave=function(e){var t;i.enableMouseEvent&&(e.type1?(t=Kt[e.type1],e.type2&&(t=t[e.type2])):t=Kt.普通,t&&t(i.self,e.bindProperties))}}return Object(Ht["a"])(e,[{key:"zoom",value:function(e){this.showUi.zoom(e)}},{key:"zoomWidth",value:function(e){this.showUi.zoomWidth(e)}},{key:"zoomHeight",value:function(e){this.showUi.zoomHeight(e)}},{key:"setGraphXml",value:function(e,t){this.dispose(),this.showUi.setGraphXml(e,t)}},{key:"setVarData",value:function(e){this.showUi.setVarData(e)}},{key:"dispose",value:function(){for(var e in this.showUi.dispose(),this.extCells){var t=this.extCells[e];t.dispose&&t.dispose(),delete this.extCells[e]}}}]),e}(),tr={components:{graphTreeCtxMenu:oe,graphDebug:K,generalBindProperties:$e,varBindProperties:Tt,dateTimeBindProperties:Rt,extBindProperties:Xt,graphThemes:de},data:function(){return{viewMode:!0,zoomFactor:1,graphShow:null,readableVarList:[],showEditorDrawer:!1,curGraph:null,graphs:{id:0,name:"主画面",children:[]},images:null,timer:null}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.getJsonFile("/Graph");case 2:return r=t.sent,r&&(e.graphs.children=r),t.next=6,e.$http.getJsonFile("/Image");case 6:r=t.sent,r&&(e.images=r),e.$comm.$on("editGraph",(function(t){e.curGraph=t,e.showEditorDrawer=!0}));case 9:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.graphShow&&this.graphShow.dispose(),n["default"].prototype.$editorUi=null},methods:{hightlightCurGraph:function(){var e=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.curGraph&&(this.timer=setTimeout((function(){e.$refs.graphTree.setCurrentKey(e.curGraph.id),e.timer=null}),10))},onViewMode:function(e){this.$comm.$emit("changeViewMode",e),this.hightlightCurGraph()},addReadableVar:function(e,t){if(e.startsWith("@")){var r={guid:e,name:e,value:t,alarm:{level:0,text:"无报警"},commErr:!1};this.readableVarList.push(r)}else{var i=this.$coreData.g.getVar(e);if(!i)return;var n={guid:e,name:this.$coreData.v.getVarQualifiedName(i),value:t,alarm:{level:0,text:"无报警"},commErr:!1},a=this.$coreData.v.getVarDescription(i);a&&(n.description=[{value:0,label:a[0]},{value:1,label:a[1]}]),this.readableVarList.push(n)}},onTreeChanged:function(e,t,r,n){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={tree:JSON.stringify(a.$pubFunc.deepClone(a.graphs.children,"xml"))},e.next=3,a.$http.post("/Graph/saveTree",t);case 3:r=e.sent,0!==r.code?a.$message.error("保存组态图树失败"):a.$message.success("保存组态图树成功");case 5:case"end":return e.stop()}}),e)})))()},isTreeAllowDrop:function(e,t,r){return!this.viewMode&&(0!==t.data.id||"inner"===r)},isTreeAllowDrag:function(e){return!this.viewMode&&"主画面"!==e.data.name},onTreeNodeCurrentChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.curGraph||t.curGraph.id!==e.id){r.next=2;break}return r.abrupt("return");case 2:if(t.curGraph=e,e.xml){r.next=8;break}return r.next=6,t.$http.get("/Graph/getXml?id="+e.id);case 6:i=r.sent,0===i.code&&t.$set(e,"xml",i.data);case 8:t.hightlightCurGraph(),n=e.xml?e.xml:'<mxGraphModel pageWidth="300" pageHeight="100" background="#FFFFCC">\n  <root>\n    <mxCell id="0" />\n    <mxCell id="1" parent="0" />\n    <mxCell id="9" value="" style="image;labelBackgroundColor=#ffffff;image=/html/favicon.ico" vertex="1" parent="1">\n      <mxGeometry x="10" y="10" width="80" height="80" as="geometry" />\n    </mxCell>\n    <mxCell id="10" value="'+e.name+'不存在" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=22;fontColor=#4C0099;fontStyle=1" vertex="1" parent="1">\n      <mxGeometry x="97" y="27" width="213" height="46" as="geometry" />\n    </mxCell>\n  </root>\n</mxGraphModel>',t.graphShow||(t.graphShow=new er(t.$refs.graphShow,t)),t.readableVarList.splice(0),t.graphShow.setGraphXml(n,t.addReadableVar);case 13:case"end":return r.stop()}}),r)})))()},onTreeNodeCtxMenu:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!r.viewMode){i.next=2;break}return i.abrupt("return");case 2:return r.$refs.graphTreeCtxMenu.open(e,t),i.next=5,r.onTreeNodeCurrentChange(t);case 5:case"end":return i.stop()}}),i)})))()},saveGraph:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i={id:e.id,xml:e.xml},r.next=3,t.$http.post("/Graph/saveXml",i);case 3:n=r.sent,0!==n.code?t.$message.error("保存组态图失败"):t.$message.success("保存组态图成功");case 5:case"end":return r.stop()}}),r)})))()},onEditorDrawerOpened:function(){var e=this;if(!this.$editorUi){console.log("create editor");var t=new GE.EditorUi(this.$refs.editorUi,(function(t,r){e.$coreData.createVarTree(t,1,0,(function(t,i,n){var a=r({guid:n.guid,value:e.$coreData.v.getVarDefaultValue(n),color:{normal:{border:"#000",fill:"#FFF2CC",font:"#000"},alarm:{border:"#000",fill:"#F00",font:"#FF0"},commErr:{border:"#000",fill:"#F0F",font:"#000"}}});i.onmousedown=function(e,r){t.curSel&&(t.curSel.textNode.style.color="#000",t.curSel.textNode.style.fontWeight="normal"),t.curSel=e,e.textNode.style.color="#00F",e.textNode.style.fontWeight="bold",a(r)}}))}),this.images);t.tooltip=function(t){var r,i=function(e){var t='<div style="max-width:360px;"><table border="1" style="border-color:#ccc;background-color:#FFF;border-collapse:collapse;">';for(var r in e)t+="<tr><td>",t+=r,t+="</td><td>",t+=e[r],t+="</td></tr>";return t+="</table></div>",t},n="";if(t.bindProperties&&(t.type1?(r=be[t.type1],t.type2&&(r=r[t.type2])):r=be.普通,r&&"function"===typeof r)){var a={};t.type1&&"变量"===t.type1&&(t.bindProperties.varGuid.length>0?t.bindProperties.varGuid.startsWith("@")?a.页变量=t.bindProperties.varGuid:(a.GUID=t.bindProperties.varGuid,a.变量名=""!==t.bindProperties.varGuid?e.$coreData.g.getVarQualifiedName(t.bindProperties.varGuid):"未绑定"):a.变量="未绑定"),r(e,t,a),n=i(a)}return n},t.save=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r,i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r&&(e.curGraph.xml=r,e.saveGraph(e.curGraph),e.readableVarList.splice(0),e.graphShow.setGraphXml(r,e.addReadableVar)),i&&(e.showEditorDrawer=!1,e.hightlightCurGraph());case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),t.bindProperties=function(t){if(t.type1)switch(t.type1){case"变量":e.$refs.varBindProperties.open(t);break;case"日期时间":e.$refs.dateTimeBindProperties.open(t);break;case"外部扩展":e.$refs.extBindProperties.open(t);break}else e.$refs.generalBindProperties.open(t)},t.selectGraphThemes=function(t,r){e.$refs.graphThemes.open(t,r)},t.insertImage=function(e,t){var r=mxUtils.prompt("请输入图片链接",e);t(r)},n["default"].prototype.$editorUi=t}this.$editorUi.setGraphXml(this.curGraph.xml)}}},rr=tr,ir=(r("5bf1"),Object(c["a"])(rr,I,X,!1,null,"8b6a7a12",null)),nr=ir.exports,ar=d["a"].prototype.push;d["a"].prototype.push=function(e){return ar.call(this,e).catch((function(e){return e}))},n["default"].use(d["a"]);var or=[{path:"/",redirect:"/login"},{path:"/login",component:w},{path:"/home",component:A,children:[{path:"graphEdit",component:nr}]}],sr=new d["a"]({routes:or,scrollBehavior:function(){history.pushState(null,null,document.URL)}});sr.beforeEach((function(e,t,r){if("/login"===e.path)return r();var i=window.sessionStorage.getItem("user");if(!i)return r("/login");r()}));var lr=sr,cr=(r("aede"),r("9e1f"),r("450d"),r("6ed5")),ur=r.n(cr),pr=(r("0fb7"),r("f529")),dr=r.n(pr),hr=(r("46a1"),r("e5f2")),fr=r.n(hr),mr=(r("f225"),r("89a9")),br=r.n(mr),gr=(r("e612"),r("dd87")),vr=r.n(gr),xr=(r("075a"),r("72aa")),wr=r.n(xr),yr=(r("5e32"),r("6721")),$r=r.n(yr),kr=(r("0c67"),r("299c")),Cr=r.n(kr),Vr=(r("cbb5"),r("8bbc")),Gr=r.n(Vr),Pr=(r("5466"),r("ecdf")),_r=r.n(Pr),Br=(r("38a0"),r("ad41")),Er=r.n(Br),Fr=(r("ce18"),r("f58e")),Dr=r.n(Fr),Sr=(r("1f1a"),r("4e4b")),Tr=r.n(Sr),Nr=(r("e960"),r("b35b")),jr=r.n(Nr),Or=(r("7a0f"),r("0f6c")),Mr=r.n(Or),Ur=(r("fe07"),r("6ac5")),Rr=r.n(Ur),Lr=(r("3c52"),r("0d7b")),zr=r.n(Lr),Wr=(r("b5d8"),r("f494")),Ar=r.n(Wr),Ir=(r("6b30"),r("c284")),Xr=r.n(Ir),Jr=(r("672e"),r("101e")),Hr=r.n(Jr),Qr=(r("6611"),r("e772")),qr=r.n(Qr),Yr=(r("8bd8"),r("4cb2")),Kr=r.n(Yr),Zr=(r("4ca3"),r("443e")),ei=r.n(Zr),ti=(r("de31"),r("c69e")),ri=r.n(ti),ii=(r("fd71"),r("a447")),ni=r.n(ii),ai=(r("9d4c"),r("e450")),oi=r.n(ai),si=(r("10cb"),r("f3ad")),li=r.n(si),ci=(r("a673"),r("7b31")),ui=r.n(ci),pi=(r("eca7"),r("3787")),di=r.n(pi),hi=(r("425f"),r("4105")),fi=r.n(hi),mi=(r("960d"),r("defb")),bi=r.n(mi),gi=(r("bd49"),r("18ff")),vi=r.n(gi),xi=(r("cb70"),r("b370")),wi=r.n(xi),yi=(r("0fb4"),r("9944")),$i=r.n(yi),ki=(r("e3ea"),r("7bc3")),Ci=r.n(ki),Vi=(r("a7cc"),r("df33")),Gi=r.n(Vi),Pi=(r("adec"),r("3d2d")),_i=r.n(Pi),Bi=(r("f4f9"),r("c2cc")),Ei=r.n(Bi),Fi=(r("c526"),r("1599")),Di=r.n(Fi),Si=(r("560b"),r("dcdc")),Ti=r.n(Si),Ni=(r("28b2"),r("c7ad")),ji=r.n(Ni),Oi=(r("b8e0"),r("a4c4")),Mi=r.n(Oi),Ui=(r("ae26"),r("845f")),Ri=r.n(Ui),Li=(r("1951"),r("eedf")),zi=r.n(Li),Wi=(r("b84d"),r("c216")),Ai=r.n(Wi),Ii=(r("8f24"),r("76b9")),Xi=r.n(Ii),Ji=(r("e2f3"),r("06f9")),Hi=r.n(Ji),Qi=(r("a769"),r("5cc3")),qi=r.n(Qi);r("d858"),r("932c"),r("d4c7"),r("9e6b"),r("4740"),r("b1a7"),r("d5f0"),r("e4e7"),r("f496"),r("38b6");n["default"].use(qi.a),n["default"].use(Hi.a),n["default"].use(Xi.a),n["default"].use(Ai.a),n["default"].use(zi.a),n["default"].use(Ri.a),n["default"].use(Mi.a),n["default"].use(ji.a),n["default"].use(Ti.a),n["default"].use(Di.a),n["default"].use(Ei.a),n["default"].use(_i.a),n["default"].use(Gi.a),n["default"].use(Ci.a),n["default"].use($i.a),n["default"].use(wi.a),n["default"].use(vi.a),n["default"].use(bi.a),n["default"].use(fi.a),n["default"].use(di.a),n["default"].use(ui.a),n["default"].use(li.a),n["default"].use(oi.a),n["default"].use(ni.a),n["default"].use(ri.a),n["default"].use(ei.a),n["default"].use(Kr.a),n["default"].use(qr.a),n["default"].use(Hr.a),n["default"].use(Xr.a),n["default"].use(Ar.a),n["default"].use(zr.a),n["default"].use(Rr.a),n["default"].use(Mr.a),n["default"].use(jr.a),n["default"].use(Tr.a),n["default"].use(Dr.a),n["default"].use(Er.a),n["default"].use(_r.a),n["default"].use(Gr.a),n["default"].use(Cr.a),n["default"].use($r.a),n["default"].use(wr.a),n["default"].use(vr.a),n["default"].use(br.a),n["default"].prototype.$notify=fr.a,n["default"].prototype.$message=dr.a,n["default"].prototype.$msgBox=ur.a;r("caad"),r("2532");n["default"].directive("dialogDrag",{bind:function(e,t,r,i){var n=e.querySelector(".el-dialog__header"),a=e.querySelector(".el-dialog");n.style.cursor="move";var o=a.currentStyle||window.getComputedStyle(a,null);n.onmousedown=function(e){var t,r,i=e.clientX-n.offsetLeft,s=e.clientY-n.offsetTop;o.left.includes("%")?(t=+document.body.clientWidth*(+o.left.replace(/\%/g,"")/100),r=+document.body.clientHeight*(+o.top.replace(/\%/g,"")/100)):(t=+o.left.replace(/\px/g,""),r=+o.top.replace(/\px/g,"")),document.onmousemove=function(e){var n=e.clientX-i,o=e.clientY-s;a.style.left="".concat(n+t,"px"),a.style.top="".concat(o+r,"px")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}}),n["default"].directive("dialogDragWidth",{bind:function(e,t,r,i){var n=t.value.$el.querySelector(".el-dialog");e.onmousedown=function(t){var r=t.clientX-e.offsetLeft;document.onmousemove=function(e){e.preventDefault();var t=e.clientX-r;n.style.width="".concat(t,"px")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}});var Yi=r("bc3a"),Ki=r.n(Yi);r("4d63"),r("1276");function Zi(e){return"[object Object]"===Object.prototype.toString.call(e)}function en(e){return Array.isArray(e)}function tn(e){var t=new RegExp("^[0-9]*$");return!!t.test(e)&&!!/^[0-9]+$/.test(e)}function rn(e,t){if(void 0===e||null===e)return e;if(en(e)){for(var r=[],i=0;i<e.length;i++)r.push(rn(e[i],t));return r}if(Zi(e)){var n={};for(var a in e)t&&t.indexOf(a)>=0||(n[a]=rn(e[a],t));return n}return e}function nn(e,t){var r=e.indexOf(t);return r>-1&&(e.splice(r,1),!0)}function an(e){return"undefined"===typeof e||null===e||""===e}function on(){var e,t,r="";for(e=0;e<32;e++)t=16*Math.random()|0,r+=(12===e?4:16===e?3&t|8:t).toString(16);return r}function sn(e,t){return ln.apply(this,arguments)}function ln(){return ln=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$msgBox.confirm("提示",{title:"提示",message:r,showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(){return!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),ln.apply(this,arguments)}function cn(e,t){return un.apply(this,arguments)}function un(){return un=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var i,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(o in i=r.split("\n"),n=[],a=t.$createElement,i)n.push(a("p",null,i[o]));return e.next=6,t.$msgBox.confirm("提示",{title:"提示",message:a("div",null,n),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(){return!1}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),un.apply(this,arguments)}var pn={isObj:Zi,isNum:tn,deepClone:rn,arrayRemove:nn,isEmpty:an,guid:on,confirm:sn,confirmMultiLine:cn},dn=(r("4160"),r("498a"),r("159b"),r("ade3"));function hn(e){return""===e?null:JSON.parse(e)}var fn=function(){function e(t){var r=this;Object(Jt["a"])(this,e),Object(dn["a"])(this,"g",{getVarQualifiedName:function(e){if(null===e)return null;for(var t in r.stations)for(var i=r.stations[t],n=0;n<i.devices.length;n++)for(var a=i.devices[n],o=0;o<a.variables.length;o++){var s=a.variables[o];if(s.guid===e)return i.name+"."+a.name+"."+s.name}return null},getVarDescription:function(e){if(null===e)return null;for(var t in r.stations)for(var i=r.stations[t],n=0;n<i.devices.length;n++)for(var a=i.devices[n],o=0;o<a.variables.length;o++){var s=a.variables[o];if(s.guid===e)return 2===s.varType?s.reg.description?s.reg.description:["断开","闭合"]:null}return null},getVar:function(e){if(null===e)return null;for(var t in r.stations)for(var i=r.stations[t],n=0;n<i.devices.length;n++)for(var a=i.devices[n],o=0;o<a.variables.length;o++){var s=a.variables[o];if(s.guid===e)return s}return null}}),Object(dn["a"])(this,"v",{getVarQualifiedName:function(e){if(null===e)return null;var t=r.devices[e.devId];if(!t)return"";var i=r.stations[t.stationId];return i?i.name+"."+t.name+"."+e.name:""},getVarDescription:function(e){return null===e?null:2===e.varType?e.reg.description?e.reg.description:["断开","闭合"]:null},getVarDefaultValue:function(e){switch(e.varType){case 1:var t=2;e.reg.decimalDigits&&(t=e.reg.decimalDigits);var r=0;return e.reg.initValue&&(r=e.reg.initValue),r.toFixed(t);case 2:var i=0;return e.reg.initState&&(i=e.reg.initState),e.reg.description?e.reg.description[i]:["断开","闭合"][i];case 3:return e.reg.initString?e.reg.initString:""}}}),this.vue=t,this.clearAll()}return Object(Ht["a"])(e,[{key:"clearAll",value:function(){this.stations={0:{id:0,name:"本机",devices:[]}},this.devices={},this.variables={}}},{key:"getAll",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,i,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.clearAll(),this.progress.set(0),e.next=4,this.vue.$http.get("/Station");case 4:return t=e.sent,0===t.code&&(r=JSON.parse(t.data),r.forEach((function(e){a.stations[e.id]=e,e.devices=[]}))),e.next=8,this.vue.$http.get("/Device");case 8:if(t=e.sent,0===t.code){e.next=11;break}return e.abrupt("return",!1);case 11:return i=JSON.parse(t.data),i.forEach((function(e){e.para=hn(e.para),""!==e.tag?e.tag=e.tag.split(","):e.tag=[],e.variables=[];var t=a.stations[e.stationId];t?(a.devices[e.id]=e,t.devices.push(e)):a.vue.$msgBox.alert("设备(ID="+e.id+")原先挂在站点(ID="+e.stationId+")下，现在该站点不存在了！")})),this.progress.set(20),e.next=16,this.vue.$http.get("/Variable");case 16:if(t=e.sent,0===t.code){e.next=19;break}return e.abrupt("return",!1);case 19:return n=JSON.parse(t.data),n.forEach((function(e){var t=a.devices[e.devId];void 0===t?a.vue.$msgBox.alert("变量(ID="+e.id+")原先挂在设备(ID="+e.devId+")下，现在该设备不存在了！"):(e.reg=hn(e.reg),e.alarm=hn(e.alarm),e.save=hn(e.save),t.variables.push(e),a.variables[e.id]=e)})),this.progress.set(100),e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setProgress",value:function(e){this.progress=e}},{key:"createVarTree",value:function(e,t,r,i,n){var a,o=this,s=function(e){var n=[];for(var s in o.stations){for(var l=o.stations[s],c={name:l.name,devices:[]},u=0;u<l.devices.length;u++){var p=l.devices[u];if(!(""!==f&&p.name.indexOf(f)<0)){for(var d={name:p.name,variables:[]},m=0;m<p.variables.length;m++){var b=p.variables[m];if(!(""!==h&&b.name.indexOf(h)<0)){var g=b.reg.rwMode?b.reg.rwMode:1;0!==t&&t!==g&&3!==g||0!==r&&r!==b.varType&&(4!==r||3===b.varType)||d.variables.push(b)}}d.variables.length>0&&c.devices.push(d)}}c.devices.length>0&&n.push(c)}a=new GE.Tree("var-tree");for(var v=0;v<n.length;v++){var x=n[v],w=new GE.TreeNode({name:x.name,open:!0});a.append(w);for(var y=0;y<x.devices.length;y++){var $=x.devices[y],k=new GE.TreeNode({name:$.name,open:!0});w.append(k);for(var C=0;C<$.variables.length;C++){var V=$.variables[C],G=new GE.TreeNode({name:V.name,open:!1});k.append(G),i(a,G,V)}}}a.show(e)},l=document.createElement("div");l.style.overflow="hidden",l.style.width="100%",l.style.padding="0px",e.appendChild(l);var c=document.createElement("div");c.style.whiteSpace="nowrap",c.style.textOverflow="clip",c.style.paddingBottom="4px",c.style.cursor="default";var u=document.createElement("input");u.setAttribute("placeholder",mxResources.get("searchDevs")),u.setAttribute("type","text"),u.style.fontSize="12px",u.style.overflow="hidden",u.style.boxSizing="border-box",u.style.border="solid 1px #d5d5d5",u.style.borderRightWidth="0px",u.style.width="40%",u.style.outline="none",u.style.padding="6px",c.appendChild(u);var p=document.createElement("input");p.setAttribute("placeholder",mxResources.get("searchVars")),p.setAttribute("type","text"),p.style.fontSize="12px",p.style.overflow="hidden",p.style.boxSizing="border-box",p.style.border="solid 1px #d5d5d5",p.style.borderLeftStyle="dashed",p.style.width="60%",p.style.outline="none",p.style.padding="6px",p.style.paddingRight="20px",c.appendChild(p);var d=document.createElement("img");d.setAttribute("src",GE.Sidebar.prototype.searchImage),d.setAttribute("title",mxResources.get("search")),d.style.position="relative",d.style.left="-18px",d.style.top="1px",c.appendChild(d),l.appendChild(c);var h="",f="",m=function(){var e=p.value.trim(),t=u.value.trim();h===e&&f===t||(h=e,f=t,s(b),n&&n(a))};mxEvent.addListener(d,"click",(function(){m(),p.focus()})),mxEvent.addListener(p,"keydown",mxUtils.bind(this,(function(e){13===e.keyCode&&(m(),mxEvent.consume(e))}))),mxEvent.addListener(u,"keydown",mxUtils.bind(this,(function(e){13===e.keyCode&&(m(),mxEvent.consume(e))})));var b=document.createElement("div");return b.style.overflow="auto",b.style.width="100%",b.style.height="300px",b.style.padding="0px",e.appendChild(b),s(b),a}}]),e}();Ki.a.defaults.baseURL="/",Ki.a.withCredentials=!0,n["default"].prototype.$http={user:{username:"",passsword:""},post:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i++<2)){e.next=23;break}return e.next=4,Ki.a.post(t,r);case 4:if(a=e.sent,200===a.status){e.next=8;break}return n["default"].prototype.$message.error(a.statusText),e.abrupt("return",{code:a.status});case 8:if(a=a.data,101!==a.code){e.next=19;break}return e.next=12,n["default"].prototype.$http.login();case 12:if(o=e.sent,o){e.next=16;break}return n["default"].prototype.$message.error(a.msg),e.abrupt("return",a);case 16:return e.abrupt("continue",1);case 19:0!==a.code&&n["default"].prototype.$message.error(a.msg);case 20:return e.abrupt("return",a);case 23:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),get:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r++<2)){e.next=23;break}return e.next=4,Ki.a.get(t);case 4:if(i=e.sent,200===i.status){e.next=8;break}return n["default"].prototype.$message.error(i.statusText),e.abrupt("return",{code:i.status});case 8:if(i=i.data,101!==i.code){e.next=19;break}return e.next=12,n["default"].prototype.$http.login();case 12:if(a=e.sent,a){e.next=16;break}return n["default"].prototype.$message.error(i.msg),e.abrupt("return",i);case 16:return e.abrupt("continue",1);case 19:0!==i.code&&i.msg&&n["default"].prototype.$message.error(i.msg);case 20:return e.abrupt("return",i);case 23:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getJsonFile:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ki.a.get(t);case 2:if(r=e.sent,200===r.status){e.next=6;break}return n["default"].prototype.$message.error(r.statusText),e.abrupt("return",null);case 6:return e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ki.a.post("Login",n["default"].prototype.$http.user);case 2:if(t=e.sent,200===t.status){e.next=6;break}return n["default"].prototype.$message.error(t.statusText),e.abrupt("return",!1);case 6:if(t=t.data,0===t.code){e.next=10;break}return n["default"].prototype.$message.error(t.msg),e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},n["default"].prototype.$pubFunc=pn,n["default"].prototype.$coreData=new fn(n["default"].prototype),n["default"].prototype.$comm=new n["default"],n["default"].config.productionTip=!1,document.oncontextmenu=function(){return!1},window.onbeforeunload=function(e){return!1},window.addEventListener("popstate",(function(){history.pushState(null,null,document.URL)})),new n["default"]({router:lr,render:function(e){return e(p)}}).$mount("#app")},"5bf1":function(e,t,r){"use strict";var i=r("f67e"),n=r.n(i);n.a},"5d67":function(e,t,r){"use strict";var i=r("9d05"),n=r.n(i);n.a},"6db3":function(e,t,r){},"70ba":function(e,t,r){"use strict";var i=r("b7b8"),n=r.n(i);n.a},"72a6":function(e,t,r){},"79dd":function(e,t,r){"use strict";var i=r("0124"),n=r.n(i);n.a},"83f4":function(e,t,r){"use strict";var i=r("07b7"),n=r.n(i);n.a},"85ec":function(e,t,r){},8993:function(e,t,r){(function(e){var i,n,a;r("99af"),r("4de4"),r("4160"),r("a15b"),r("d81d"),r("b64b"),r("d3b7"),r("ac1f"),r("5319"),r("159b");var o=r("7037");!function(r,s){"object"===o(t)&&"object"===o(e)?e.exports=s():(n=[],i=s,a="function"===typeof i?i.apply(t,n):i,void 0===a||(e.exports=a))}(0,(function(){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=10)}([function(e,t,r){r(7);var i=r(5)(r(2),r(6),null,null);e.exports=i.exports},function(e,t,r){"use strict";e.exports=function(e){function t(t){t.preventDefault(),"function"===typeof e&&e(t)}function r(e){27===e.keyCode&&t(e)}var i=!1;return{get isListening(){return i},start:function(e){window.addEventListener("click",t,!0),window.addEventListener("keyup",r,!0),i=!0,"function"===typeof e&&e()},stop:function(e){window.removeEventListener("click",t,!0),window.removeEventListener("keyup",r,!0),i=!1,"function"===typeof e&&e()}}}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=i(n);t.default={name:"context-menu",props:{id:{type:String,default:"default-ctx"}},data:function(){var e=this;return{locals:{},align:"left",ctxTop:0,ctxLeft:0,ctxVisible:!1,bodyClickListener:(0,a.default)((function(t){var r=!!e.ctxVisible,i=r&&!e.$el.contains(t.target);if(i){if(1!==t.which)return t.preventDefault(),t.stopPropagation(),!1;e.ctxVisible=!1,e.$emit("ctx-cancel",e.locals),t.stopPropagation()}else e.ctxVisible=!1,e.$emit("ctx-close",e.locals)}))}},methods:{setPositionFromEvent:function(e){var t=this;e=e||window.event;var r=document.scrollingElement||document.documentElement;return e.pageX||e.pageY?(this.ctxLeft=e.pageX,this.ctxTop=e.pageY-r.scrollTop):(e.clientX||e.clientY)&&(this.ctxLeft=e.clientX+r.scrollLeft,this.ctxTop=e.clientY+r.scrollTop),this.$nextTick((function(){var e=t.$el,r=(e.style.minHeight||e.style.height).replace("px","")||32,i=(e.style.minWidth||e.style.width).replace("px","")||32,n=e.scrollHeight||r,a=e.scrollWidth||i,o=window.innerHeight-n-25,s=window.innerWidth-a-25;t.ctxTop>o&&(t.ctxTop=o),t.ctxLeft>s&&(t.ctxLeft=s)})),e},open:function(e,t){return this.ctxVisible&&(this.ctxVisible=!1),this.ctxVisible=!0,this.$emit("ctx-open",this.locals=t||{}),this.setPositionFromEvent(e),this.$el.setAttribute("tab-index",-1),this.bodyClickListener.start(),this}},watch:{ctxVisible:function(e,t){!0===t&&!1===e&&this.bodyClickListener.stop((function(e){}))}},computed:{ctxStyle:function(){return{display:this.ctxVisible?"block":"none",top:(this.ctxTop||0)+"px",left:(this.ctxLeft||0)+"px"}}}}},function(e,t,r){t=e.exports=r(4)(void 0),t.push([e.i,'.ctx{position:relative}.ctx-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:130px;padding:5px 0;margin:2px 0 0;font-size:.9rem;color:#373a3c;text-align:left;list-style:none;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem;-moz-box-shadow:0 0 5px #ccc;-webkit-box-shadow:0 0 5px #ccc;box-shadow:0 0 5px #ccc}.ctx-divider{height:1px;margin:.5rem 0;overflow:hidden;background-color:#e5e5e5}.ctx-item{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.5;color:#373a3c;text-align:inherit;white-space:nowrap;background:none;border:0;cursor:default}.ctx-item:focus,.ctx-item:hover{color:#e3fc0a;text-decoration:none;background-color:#0d03ba;cursor:normal}.ctx-item.active,.ctx-item.active:focus,.ctx-item.active:hover{color:#fff;text-decoration:none;background-color:#0275d8;outline:0}.ctx-item.disabled,.ctx-item.disabled:focus,.ctx-item.disabled:hover{color:#818a91}.ctx-item.disabled:focus,.ctx-item.disabled:hover{text-decoration:none;cursor:not-allowed;background-color:transparent;background-image:none;filter:"progid:DXImageTransform.Microsoft.gradient(enabled = false)"}.open>.ctx-menu{display:block}.open>a{outline:0}.ctx-menu-right{right:0;left:auto}.ctx-menu-left{right:auto;left:0}.ctx-header{display:block;padding:3px 20px;font-size:.9rem;line-height:1.5;color:#818a91;white-space:nowrap}.ctx-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:990}.pull-right>.ctx-menu{right:0;left:auto}.ctx-menu-container{position:fixed;padding:0;border:1px solid #bbb;background-color:#f5f5f5;z-index:99999;box-shadow:0 5px 11px 0 rgba(0,0,0,.18),0 4px 15px 0 rgba(0,0,0,.15)}',""])},function(e,t){function r(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"===typeof btoa){var a=i(n),o=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(o).concat([a]).join("\n")}return[r].join("\n")}function i(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,"+t;return"/*# "+r+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=r(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,r){"string"===typeof e&&(e=[[null,e,""]]);for(var i={},n=0;n<this.length;n++){var a=this[n][0];"number"===typeof a&&(i[a]=!0)}for(n=0;n<e.length;n++){var o=e[n];"number"===typeof o[0]&&i[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),t.push(o))}},t}},function(e,t){e.exports=function(e,t,r,i){var n,a=e=e||{},s=o(e.default);"object"!==s&&"function"!==s||(n=e,a=e.default);var l="function"===typeof a?a.options:a;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),r&&(l._scopeId=r),i){var c=l.computed||(l.computed={});Object.keys(i).forEach((function(e){var t=i[e];c[e]=function(){return t}}))}return{esModule:n,exports:a,options:l}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"contextMenu",staticClass:"ctx-menu-container",style:e.ctxStyle,attrs:{id:e.id},on:{click:function(e){e.stopPropagation()},contextmenu:function(e){e.stopPropagation()}}},[r("div",{staticClass:"ctx open",staticStyle:{"background-color":"transparent"}},[r("ul",{staticClass:"ctx-menu",class:{"ctx-menu-right":"right"===e.align,"ctx-menu-left":"left"===e.align},attrs:{role:"menu"}},[e._t("default")],2)])])},staticRenderFns:[]}},function(e,t,r){var i=r(3);"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),r(8)("0df30a58",i,!0)},function(e,t,r){function i(e){for(var t=0;t<e.length;t++){var r=e[t],i=u[r.id];if(i){i.refs++;for(var n=0;n<i.parts.length;n++)i.parts[n](r.parts[n]);for(;n<r.parts.length;n++)i.parts.push(o(r.parts[n]));i.parts.length>r.parts.length&&(i.parts.length=r.parts.length)}else{var a=[];for(n=0;n<r.parts.length;n++)a.push(o(r.parts[n]));u[r.id]={id:r.id,refs:1,parts:a}}}}function n(e,t){for(var r=[],i={},n=0;n<t.length;n++){var a=t[n],o=a[0],s=a[1],l=a[2],c=a[3],u={css:s,media:l,sourceMap:c};i[o]?(u.id=e+":"+i[o].parts.length,i[o].parts.push(u)):(u.id=e+":0",r.push(i[o]={id:o,parts:[u]}))}return r}function a(){var e=document.createElement("style");return e.type="text/css",p.appendChild(e),e}function o(e){var t,r,i=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]'),n=null!=i;if(n&&f)return m;if(b){var o=h++;i=d||(d=a()),t=s.bind(null,i,o,!1),r=s.bind(null,i,o,!0)}else i=i||a(),t=l.bind(null,i),r=function(){i.parentNode.removeChild(i)};return n||t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else r()}}function s(e,t,r,i){var n=r?"":i.css;if(e.styleSheet)e.styleSheet.cssText=g(t,n);else{var a=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function l(e,t){var r=t.css,i=t.media,n=t.sourceMap;if(i&&e.setAttribute("media",i),n&&(r+="\n/*# sourceURL="+n.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var c="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n=r(9),u={},p=c&&(document.head||document.getElementsByTagName("head")[0]),d=null,h=0,f=!1,m=function(){},b="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,r){f=r;var a=n(e,t);return i(a),function(t){for(var r=[],o=0;o<a.length;o++){var s=a[o],l=u[s.id];l.refs--,r.push(l)}t?(a=n(e,t),i(a)):a=[];for(o=0;o<r.length;o++){l=r[o];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete u[l.id]}}}};var g=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var r=[],i={},n=0;n<t.length;n++){var a=t[n],o=a[0],s=a[1],l=a[2],c=a[3],u={id:e+":"+n,css:s,media:l,sourceMap:c};i[o]?i[o].parts.push(u):r.push(i[o]={id:o,parts:[u]})}return r}},function(e,t,r){"use strict";var i=r(0);i.install=function(e){var t=e.component("context-menu",i);return t},window.VueContextMenu=i,e.exports=e.exports.default=i}])}))}).call(this,r("62e4")(e))},"8b58":function(e,t,r){"use strict";var i=r("c6e1"),n=r.n(i);n.a},"932c":function(e,t,r){},"9d05":function(e,t,r){},"9e6b":function(e,t,r){},ac14:function(e,t,r){},aede:function(e,t,r){},af72:function(e,t,r){},b1a7:function(e,t,r){},b597:function(e,t,r){"use strict";var i=r("6db3"),n=r.n(i);n.a},b640:function(e,t,r){e.exports=r.p+"img/logo.69c9b7ef.jpg"},b7b8:function(e,t,r){},be08:function(e,t,r){"use strict";var i=r("ac14"),n=r.n(i);n.a},c48c:function(e,t,r){},c6e1:function(e,t,r){},c8a7:function(e,t,r){},d4c7:function(e,t,r){},d5f0:function(e,t,r){},d858:function(e,t,r){},db5b:function(e,t,r){"use strict";var i=r("fbde"),n=r.n(i);n.a},e4e7:function(e,t,r){},f496:function(e,t,r){},f67e:function(e,t,r){},fbde:function(e,t,r){},fe3c:function(e,t,r){"use strict";var i=r("2540"),n=r.n(i);n.a}});