GE.Tree=function(e){this.first=null,this.last=null,this.depth=0,this.width=0,this.childs=[],this.selected=[],this.number=0,this.id=e,GE.Tree.init_instance||(GE.Tree.prototype.create=function(){this.node=GE.Tree.document.createElement("div"),this.node.style.textAlign="left",this.node.style.cursor="default",void 0===GE.Tree.type&&(GE.Tree.type="default"),void 0===GE.Tree.trees&&(GE.Tree.trees=[]);for(var e=0,t=GE.Tree.trees.length;e<t;e++)if(GE.Tree.trees[e].id==this.id){GE.Tree.trees.splice(e,1);break}GE.Tree.trees.push(this)},GE.Tree.prototype.append=function(e,t){e.child=e.child||0!==e.number,this.depth=this.depth>1?this.depth:1,e.depth=1,e.totalWidth>this.width&&(this.width=e.totalWidth,this.node.style.width=this.width+"px"),void 0!==t?"number"==typeof t?this.childs.insert(e,t):(t=this.getIndex(t),this.childs.insert(e,t)):(t=this.number,this.childs.push(e));var i=e.node,o=e.openNode;this.number++,e.parent=this,e.setRoot(this),1==this.number?(this.node.appendChild(i),e.checkNode&&(e.checkNode.checked=e.checkbox.checked||!1),this.first=this.last=e,o.src=GE.Tree.path+(e.child?e.open?"minus_top.gif":"plus_top.gif":"join_top.gif")):t==this.number-1?(this.node.appendChild(i),e.checkNode&&(e.checkNode.checked=e.checkbox.checked||!1),this.last=e,this.childs[t-1].after=e,e.before=this.childs[t-1],o.src=GE.Tree.path+(e.child?e.open?"minus_bottom.gif":"plus_bottom.gif":"join_bottom.gif"),t--,(e=this.childs[t]).openNode.src=GE.Tree.path+(0===t?e.child?e.open?"minus_top_.gif":"plus_top_.gif":"join_top_.gif":e.child?e.open?"minus.gif":"plus.gif":"join.gif"),this.number>1&&e.setLine()):(this.node.insertBefore(i,this.childs[t+1].node),e.checkNode&&(e.checkNode.checked=e.checkbox.checked||!1),0===t?(this.first=e,e.after=this.childs[1],this.childs[1].before=e,o.src=GE.Tree.path+(e.child?e.open?"minus_top_.gif":"plus_top_.gif":"join_top_.gif"),t+=1,(e=this.childs[t]).openNode.src=GE.Tree.path+(e.open?e==this.last?e.child?"minus_bottom.gif":"join_bottom.gif":e.child?"minus.gif":"join.gif":e==this.last?e.child?"plus_bottom.gif":"join_bottom.gif":e.child?"plus.gif":"join.gif")):(e.before=this.childs[t-1],e.after=this.childs[t+1],this.childs[t-1].after=e,this.childs[t+1].before=e,o.src=GE.Tree.path+(e.child?e.open?"minus.gif":"plus.gif":"join.gif"),t-=1,(e=this.childs[t]).openNode.src=GE.Tree.path+(0===t?e.child?e.open?"minus_top_.gif":"plus_top_.gif":"join_top_.gif":e.child?e.open?"minus.gif":"plus.gif":"join.gif"),e.setLine()))},GE.Tree.prototype.move=function(e,t){var i;e instanceof Number?(nodeIndex=e,i=this.childs[e]):e instanceof String?(nodeIndex=this.getIndex(e),i=this.get(e)):(nodeIndex=this.getIndex(e),i=e);var o=i.clone();this.remove(i),this.append(o,t)},GE.Tree.prototype.remove=function(e){var t=e instanceof String?this.get(e):e,i=this.getIndex(t);this.childs.splice(i,1),this.number--,this.node.removeChild(t.node),0===this.number?this.first=this.last=null:1==this.number?(t=this.childs[0],this.first=this.last=t,t.openNode.src=GE.Tree.path+(t.child?t.open?"minus_top.gif":"plus_top.gif":"join_top.gif")):0===i?(t=this.childs[0],this.first=t,t.openNode.src=GE.Tree.path+(t.child?t.open?"minus_top_.gif":"plus_top_.gif":"join_top_.gif")):i==this.number&&(t=this.childs[this.number-1],this.last=i,t.openNode.src=GE.Tree.path+(t.child?t.open?"minus_bottom.gif":"plus_bottom.gif":"join_bottom.gif"))},GE.Tree.prototype.get=function(e,t){for(var i=parseInt(this.number%2==0?this.number/2:this.number/2+1),o=0;o<i;o++){if(this.childs[o].id&&this.childs[o].id==e)return this.childs[o];if(this.childs[this.number-o-1].id&&this.childs[this.number-o-1].id==e)return this.childs[this.number-o-1]}if(void 0===t||t){var n;for(o=0;o<i;o++){if(null!=(n=this.childs[o].get(e,t)))return n;if(null!=(n=this.childs[this.number-o-1].get(e,t)))return n}}return null},GE.Tree.prototype.getIndex=function(e){for(var t=parseInt(this.number%2==0?this.number/2:this.number/2+1),i=0;i<t;i++)if("string"==typeof e){if(this.childs[i].id&&this.childs[i].id==e)return i;if(this.childs[this.number-i-1].id&&this.childs[this.number-i-1].id==e)return this.number-i-1}else{if(this.childs[i]==e)return i;if(this.childs[this.number-i-1]==e)return this.number-i-1}return-1},GE.Tree.prototype.clone=function(e){var t=new GE.Tree(e);for(var i in this)this[i]instanceof Function||(t[i]="node"==i?this[i].cloneNode(!0):this[i]);return t},GE.Tree.prototype.show=function(e){this.node.style.width=this.width+"px",e.innerHTML="",e.appendChild(this.node),e.style.overflow="auto"},GE.Tree.prototype.getSelected=function(){for(var e=0;e<this.number;e++)this.childs[e].getSelected();var t=this.selected;return this.selected=[],t},GE.Tree.prototype.getSelectedString=function(){for(var e=0;e<this.number;e++)this.childs[e].getSelected();var t=this.selected;this.selected=[];for(var i=[],o=[],n=(e=0,t.length);e<n;e++)i.push(t[e].id),o.push(t[e].name);return[i.join(","),o.join(",")]},GE.Tree.prototype.checked=function(e,t,i){for(var o=this.childs.length,n=0;n<o;n++)this.childs[n].checked(e,t,i)},GE.Tree.prototype.initChecked=function(){for(var e=0;e<this.number;e++)this.childs[e].initChecked()},GE.Tree.init_instance=!0),this.create(),GE.Tree.path=GE.SYS_ROOT+"images/tree/"},GE.Tree.getTree=function(e){if(!GE.Tree.trees)return null;for(var t=0,i=GE.Tree.trees.length;t<i;t++)if(GE.Tree.trees[t].id==e)return GE.Tree.trees[t]},GE.TreeNode=function(e){var t=this;this.parent=null,this.childs=new Array,this.first=null,this.last=null,this.before=null,this.after=null,this.number=0,this.depth=0,this.width=0,this.totalWidth=0,this.root=null,this.passOpen=!1,this.openNode=null,this.selectNode=null,this.checkNode=null,GE.TreeNode.init_instance||(GE.TreeNode.prototype.create=function(e){for(const e in GE.Tree)void 0===GE.Tree[e]||GE.Tree[e]instanceof Function||(this[e]=GE.Tree[e]);for(const t in e)this[t]=e[t];var t,i,o,n,s;void 0===this.type&&(this.type="default"),this.propertys=e,this.node=GE.Tree.document.createElement("div"),this.node.style.cssText="font-size:12px;position:static;text-align:left;line-height:18px;background-color:"+(this.background||"#FFFFFF")+";",this.openNode=GE.Tree.document.createElement("img"),this.openNode.style.cssText="width:18px;vertical-align: middle;",this.openNode.src=GE.Tree.path+"empty.gif",this.node.appendChild(this.openNode),this.checkbox&&(this.checkNode=GE.Tree.document.createElement("input"),this.checkNode.type="checkbox",this.checkNode.id=this.checkbox.id||"",this.checkNode.name=this.checkbox.name||"",this.checkNode.value=this.checkbox.value||"",this.checkNode.style.cssText="width:18px;height:18px;vertical-align: middle;margin:0px;padding:0px;",this.node.appendChild(this.checkNode),this.checkNode.checked=this.checkbox.checked||!1,this.checkNode.disabled=this.checkbox.disabled||!1,this.width+=20),this.selectNode=GE.Tree.document.createElement("span"),this.selectNode.style.cssText="height:18px;vertical-align: middle;border:1px solid "+(this.background||"#FFFFFF")+";display:inline-block;",this.selectNode.setAttribute("userbg",this.background||"#FFFFFF"),this.node.appendChild(this.selectNode),this.fileNode=GE.Tree.document.createElement("img"),this.fileNode.style.cssText="width:18px;vertical-align: middle;",this.fileNode.src=GE.Tree.path+this.type+(this.open?this.child?"_folder_open.gif":"_file_node.gif":this.child?"_folder_close.gif":"_file_node.gif"),this.selectNode.appendChild(this.fileNode),this.textNode=GE.Tree.document.createElement("a"),this.name=this.name||"",this.width+=50;for(var r=0,d=this.name.length;r<d;r++)t=this.name.charCodeAt(r),this.width+=t>256?14:t>=65&&t<=90?10:8;if(this.totalWidth=this.width,this.textNode.innerHTML=this.name||"",this.textNode.target=this.target||"_self",this.textNode.href=this.href||"javascript:;",this.textNode.style.cssText="margin:0px 5px 0px 5px;text-decoration: none;vertical-align: middle;cursor:pointer",this.textNode.style.color=this.nameColor||"#000000",this.node.style.width=this.width,this.selectNode.appendChild(this.textNode),this.other)for(var h in this.otherNode=GE.Tree.document.createElement("span"),this.otherNode.innerHTML="&nbsp;",this.otherNode.style.color="green",this.width+=13,this.node.appendChild(this.otherNode),this.other){for(r=0,d=h.length;r<d;r++)t=h.charCodeAt(r),this.width+=t>256?14:t>=65&&t<=90?10:8;if((i=GE.Tree.document.createElement("span")).innerHTML=h+"ï¼š",this.width+=13,this.otherNode.appendChild(i),o=this.other[h].type,s=this.other[h].defaultValue,"select"==o){var l;(i=GE.Tree.document.createElement("select")).disabled=this.other[h].disabled||!1,i.style.fontSize="10px",i.style.verticalAlign="middle",i.style.color="green",this.otherNode.appendChild(i);var c=0,p=0;for(r=0,d=this.other[h].keys.length;r<d;r++){n=this.other[h].values[r],l=new Option(n,this.other[h].keys[r]),s&&s==this.other[h].keys[r]&&(l.selected=!0),i.add(l),p=0;for(var f=0,a=n.length;f<a;f++)t=n.charCodeAt(f),this.width+=t>256?14:t>=65&&t<=90?10:8;c<p&&(c=p)}this.width+=c+20}}},GE.TreeNode.prototype.append=function(e,t){this.child=!0,e.depth=this.depth+1,e.parent=this,e.setRoot(this.root),this.root.depth=this.root.depth>e.depth?this.root.depth:e.depth,e.setWidth(e.depth),void 0!==t?"number"==typeof t?this.childs.insert(e,t):(t=this.getIndex(t),this.childs.insert(e,t)):(t=this.number,this.childs.push(e));var i=this.parent.getIndex(this,!1);i==this.parent.number-1?this.parent==this.root?this.openNode.src=0==i?GE.Tree.path+(this.open?"minus_top.gif":"plus_top.gif"):GE.Tree.path+(this.open?"minus_bottom.gif":"plus_bottom.gif"):this.openNode.src=GE.Tree.path+(this.open?"minus_bottom.gif":"plus_bottom.gif"):this.openNode.src=GE.Tree.path+(e.open?"minus_bottom.gif":"plus_bottom.gif");var o=e.node,n=e.openNode;this.number++,o.style.display=this.open?"":"none",1==this.number?(this.node.appendChild(o),this.first=this.last=e,n.src=GE.Tree.path+(e.child?e.open?"minus_bottom.gif":"plus_bottom.gif":"join_bottom.gif"),this.fileNode.src=GE.Tree.path+this.type+(this.open?"_folder_open.gif":"_folder_close.gif"),e.setLine2()):t==this.number-1?(this.node.appendChild(o),e.checkNode&&(e.checkNode.checked=e.checkbox.checked||!1),this.last=e,this.childs[t-1].after=e,e.before=this.childs[t-1],n.src=GE.Tree.path+(e.child?e.open?"minus_bottom.gif":"plus_bottom.gif":"join_bottom.gif"),e.setLine2(),t--,(e=this.childs[t]).openNode.src=GE.Tree.path+(e.child?e.open?"minus.gif":"plus.gif":"join.gif"),e.setLine()):(this.node.insertBefore(o,this.childs[t+1].node),e.checkNode&&(e.checkNode.checked=e.checkbox.checked||!1),0===t?(this.first=e,e.after=this.childs[1],this.childs[1].before=e,n.src=GE.Tree.path+(e.child?e.open?"minus.gif":"plus.gif":"join.gif"),e.setLine2(),t++,(e=this.childs[t]).openNode.src=GE.Tree.path+(e.open?e==this.last?e.child?"minus_bottom.gif":"join_bottom.gif":e.child?"minus.gif":"join.gif":e==this.last?e.child?"plus_bottom.gif":"join_bottom.gif":e.child?"plus.gif":"join.gif")):(e.before=this.childs[t-1],e.after=this.childs[t+1],this.childs[t-1].after=e,this.childs[t+1].before=e,n.src=GE.Tree.path+(e.child?e.open?"minus.gif":"plus.gif":"join.gif"),e.setLine2(),t--,(e=this.childs[t]).openNode.src=GE.Tree.path+(e.child?e.open?"minus.gif":"plus.gif":"join.gif"),e.setLine()))},GE.TreeNode.prototype.setWidth=function(e,t){var i,o;this.width+=18*this.getEmptyNumber(),this.totalWidth=this.width;for(var n=0;n<this.number;n++)(i=this.childs[n]).setWidth(e,t),i.totalWidth>this.totalWidth&&(this.totalWidth=i.totalWidth);if(this.node.style.width=this.width+"px",e=this.getEmptyNumber(),void 0===t||t)for(n=0;n<e;n++)(o=GE.Tree.document.createElement("img")).style.cssText="width:18px;vertical-align: middle;",this.node.insertBefore(o,this.openNode),o.src=GE.Tree.path+"empty.gif";void 0!==this.root&&this.root&&this.root.width<this.totalWidth&&(this.root.width=this.totalWidth,this.root.node.style.width=this.root.width+"px")},GE.TreeNode.prototype.setLine=function(e){if(void 0!==e){for(let t=0;t<this.number;t++)this.childs[t].node.childNodes[e].src=GE.Tree.path+"line.gif",this.childs[t].setLine(e);return!1}{const e=this.getEmptyNumber();for(let t=0;t<this.number;t++)this.childs[t].node.childNodes[e].src=GE.Tree.path+"line.gif",this.childs[t].setLine(e)}},GE.TreeNode.prototype.setLine2=function(){var e,t=this;do{if((t=t.parent).after){e=t.checkbox?2*t.depth-1:t.depth-1,this.node.childNodes[e].src=GE.Tree.path+"line.gif";for(var i=0;i<this.number;i++)this.childs[i].setLine2(e)}}while(t.parent!=t.root)},GE.TreeNode.prototype.setEmpty=function(e){for(var t=0;t<this.number;t++)this.childs[t].node.childNodes[e].src=GE.Tree.path+"empty.gif",this.childs[t].setEmpty(e)},GE.TreeNode.prototype.getEmptyNumber=function(){for(var e=this,t=0;e.parent!=e.root;)t+=e.parent.checkbox?2:1,e=e.parent;return t},GE.TreeNode.prototype.getIndex=function(e){for(var t=this.number%2==0?this.number/2:this.number/2+1,i=0;i<t;i++)if("string"==typeof e){if(this.childs[i].id==e)return i;if(this.childs[this.number-i-1].id==e)return this.number-i-1}else{if(this.childs[i]==e)return i;if(this.childs[this.number-i-1]==e)return this.number-i-1}return-1},GE.TreeNode.prototype.get=function(e,t){for(var i=parseInt(this.number%2==0?this.number/2:this.number/2+1),o=0;o<i;o++){if(this.childs[o].id==e)return this.childs[o];if(this.childs[this.number-o-1].id==e)return this.childs[this.number-o-1]}if(void 0===t||t){var n;for(o=0;o<i;o++){if(null!=(n=this.childs[o].get(e,t)))return n;if(null!=(n=this.childs[this.number-o-1].get(e,t)))return n}}return null},GE.TreeNode.prototype.setRoot=function(e){if(e){this.root=e;for(var t=0;t<this.number;t++)this.childs[t].setRoot(e)}},GE.TreeNode.prototype.openClick=function(){if(0!=this.number)if(this.open){for(var e=0;e<this.number;e++)this.childs[e].node.style.display="none";this.openNode.src=this.openNode.src.replace(/minus/g,"plus"),this.fileNode.src=GE.Tree.path+this.type+(this.number>0||this.child?"_folder_close.gif":"_file_node.gif"),this.open=!1}else{for(e=0;e<this.number;e++)this.childs[e].node.style.display="";this.openNode.src=this.openNode.src.replace(/plus/g,"minus"),this.fileNode.src=GE.Tree.path+this.type+(this.number>0||this.child?"_folder_open.gif":"_file_node.gif"),this.open=!0}},GE.TreeNode.prototype.setChecked=function(){this.checkNode&&(this.checkNode.checked=this.checkbox.checked||!1)},GE.TreeNode.prototype.initChecked=function(){this.checkNode&&(this.checkNode.checked=this.checkbox.checked||!1);for(var e=0;e<this.number;e++)this.childs[e].initChecked()},GE.TreeNode.prototype.checked=function(e,t,i){if(void 0===i||this!=i){if(this.checkNode&&(e=void 0===e?!this.checkNode.checked:e,this.checkNode.checked=e),void 0===t||t)for(var o=0;o<this.number;o++)this.childs[o].checked(e,t,i)}else if(void 0===t||t)for(o=0;o<this.number;o++)this.childs[o].checked(e,t,i);if(this.checkNode)return this.checkNode.checked},GE.TreeNode.prototype.disabled=function(e){this.checkNode&&(this.checkNode.disabled=e||!0)},GE.TreeNode.prototype.getSelected=function(){this.checkNode&&this.checkNode.checked&&this.root.selected.push(this);for(var e=0;e<this.number;e++)this.childs[e].getSelected()},GE.TreeNode.prototype.remove=function(e){if("string"==typeof e){for(var t=0;t<this.number;t++)if(this.childs[t].id==e){this.node.removeChild(this.childs[t].node),this.childs.splice(t,1),t==this.number-1?((e=this.childs[t-1]).openNode.src=GE.Tree.path+(e.child?e.open?"minus_bottom.gif":"plus_bottom.gif":"join_bottom.gif"),e.setEmpty(e.depth-1),this.last=e):0==t&&(this.first=this.childs[0]);break}}else for(t=0;t<this.number;t++)if(this.childs[t]==e){this.node.removeChild(this.childs[t].node),this.childs.splice(t,1),t==this.number-1&&0!=t?((e=this.childs[t-1]).openNode.src=GE.Tree.path+(e.child?e.open?"minus_bottom.gif":"plus_bottom.gif":"join_bottom.gif"),e.setEmpty(e.depth-1),this.last=e):0==t&&(this.first=this.childs[0]);break}this.number--},GE.TreeNode.prototype.removeTo=function(){this.parent.remove(this)},GE.TreeNode.prototype.removeAll=function(){for(var e=0;e<this.number;e++)this.node.removeChild(this.childs[e].node);this.childs=[],this.first=this.last=null,this.number=0},GE.TreeNode.prototype.initEvent=function(e){var t=this;switch(e){case"open":this.openNode.onclick=function(e){void 0!==t.openclick&&t.openclick?t.openclick(t,e||window.event):t.openClick()};break;case"contextmenu":this.selectNode.oncontextmenu=function(e){if(void 0!==t.contextmenu&&t.contextmenu)return t.contextmenu(t,e||window.event)};break;case"onmousedown":this.selectNode.onmousedown=function(e){void 0!==t.onmousedown&&t.onmousedown&&t.onmousedown(t,e||window.event)};break;case"dblclick":this.selectNode.ondblclick=function(){void 0!==t.openclick&&t.openclick?t.openclick(t,event||window.event):t.openClick(),void 0!==t.dblclick&&t.dblclick&&t.dblclick(t,event||window.event)}}},GE.TreeNode.prototype.replaceEvent=function(e,t){var i=this;switch(e){case"open":this.openNode.onclick=function(e){t(i,e||window.event)};break;case"contextmenu":this.selectNode.oncontextmenu=function(e){return t(i,e||window.event)};break;case"onmousedown":this.selectNode.onmousedown=function(e){t(i,e||window.event)};break;case"dblclick":this.selectNode.ondblclick=function(){void 0!==i.openclick&&i.openclick?i.openclick(i,event||window.event):i.openClick(),t(i,event||window.event)}}},GE.TreeNode.prototype.removeEvent=function(e){switch(e){case"open":this.openNode.onclick=function(){};break;case"contextmenu":this.selectNode.oncontextmenu=function(){};break;case"onmousedown":this.selectNode.onmousedown=function(){};break;case"dblclick":this.selectNode.ondblclick=function(){}}},GE.TreeNode.prototype.clone=function(){return new GE.TreeNode(this.propertys)},GE.TreeNode.prototype.changeName=function(e,t){for(var i=0,o=this.name.length;i<o;i++)this.name.charCodeAt(i)>256?this.width-=13:this.width-=7;for(i=0,o=e.length;i<o;i++)e.charCodeAt(i)>256?this.width+=13:this.width+=7;this.node.style.width=this.width+"px",this.name=e||"",this.textNode.innerHTML=this.name,t&&(this.textNode.style.color=t),this.setWidth(this.depth,!1)},GE.TreeNode.prototype.changeType=function(e){this.type=e,this.fileNode.src=GE.Tree.path+this.type+(this.open?this.child?"_folder_open.gif":"_file_node.gif":this.child?"_folder_close.gif":"_file_node.gif")},GE.TreeNode.prototype.isParent=function(e){return this.parent==e||this.parent!=this.root&&e.parent.isParent(e)},GE.TreeNode.prototype.isChild=function(e){for(var t=0;t<this.number;t++){if(this.childs[t]==e)return!0;if(this.childs[t].isChild(e))return!0}return!1},GE.TreeNode.init_instance=!0),this.create(e),this.openNode.onclick=function(e){(e=e||window.event)&&(e.returnValue=!1,e.cancelBubble=!0),void 0!==t.openclick&&t.openclick?t.openclick(t,e||window.event):t.openClick()},this.selectNode.onmouseover=function(e){var i=this.getAttribute("userbg");"#FFFFFF"==i?(this.style.border="1px solid #b9d7fc",this.style.backgroundColor="#fbfdff"):(this.style.border="1px solid #b9d7fc",this.style.backgroundColor=i),GE.Tree.candidates=t},this.selectNode.onmouseout=function(e){var t=this.getAttribute("userbg");this.style.border="1px solid "+t,this.style.backgroundColor=t},this.selectNode.onmousedown=function(e){var i,o;if((e=e||window.event)&&(e.returnValue=!1,e.cancelBubble=!0),void 0!==t.mousedown&&!t.mousedown(t,e||window.event))return!1;t.move&&(e=e||window.event,GE.Tree.moveNode||(GE.Tree.moveNode=this.cloneNode(!0)),GE.Tree.moveNode.style.position="absolute",GE.Tree.moveNode.style.display="none",GE.Tree.moveNode.style.zIndex="0",GE.Tree.moveNode.style.backgroundColor="",GE.Tree.moveNode.style.filter="alpha(opacity=50)",GE.Tree.moveNode.style.MozOpacity=.5,GE.Tree.moveNode.style.opacity=.5,GE.Tree.document.body.appendChild(GE.Tree.moveNode),t.root.node.onmousemove=function(e){e=e||window.event,i=e.clientX,o=e.clientY,GE.Tree.moveNode.style.top=o,GE.Tree.moveNode.style.left=i,GE.Tree.movestate||(GE.Tree.moveNode.style.display="",GE.Tree.movetreenode=node,GE.Tree.movestate=!0,GE.Tree.document.body.onmousedown=function(){GE.Tree.document.body.removeChild(GE.Tree.moveNode),node.root.node.onmousemove=function(){return!1},GE.Tree.document.body.onmousedown=function(){return!1}})});var n=t.root;void 0!==n.selectClick&&(n.selectClick.style.border="1px solid "+(t.background||"#FFFFFF"),n.selectClick.style.backgroundColor=t.background||"#FFFFFF",n.selectClick.onmouseover=function(e){this.style.border="1px solid #b9d7fc",this.style.backgroundColor="#fbfdff"},n.selectClick.onmouseout=function(e){this.style.border="1px solid "+(t.background||"#FFFFFF"),this.style.backgroundColor=t.background||"#FFFFFF"}),this.style.border="1px solid #84acdd",this.style.backgroundColor="#e6f2ff",this.onmouseout=function(e){return!1},this.onmouseover=function(e){return!1},n.selectClick=this},this.selectNode.onmousedown=function(e){if((e=e||window.event)&&(e.returnValue=!1,e.cancelBubble=!0),node=t||GE.Tree.candidates,void 0!==node.onmousedown&&node.onmousedown(node,e||window.event),GE.Tree.movestate&&node!=GE.Tree.movetreenode){if(GE.Tree.movetreenode.isChild(node))return!1;var i=GE.Tree.movetreenode.clone(),o=GE.Tree.movetreenode.parent.getIndex(GE.Tree.movetreenode);if(void 0!==GE.Tree.movetreenode.movebefore&&!GE.Tree.movetreenode.movebefore(GE.Tree.movetreenode,GE.Tree.movetreenode.parent,o,i,node.parent))return!1;"similar"==GE.Tree.movetreenode.move||"similar-before"==GE.Tree.movetreenode.move?node.parent==GE.Tree.movetreenode.parent&&(GE.Tree.movetreenode.removeTo(),node.parent.append(i,node.id),void 0!==GE.Tree.movetreenode.moveafter&&GE.Tree.movetreenode.moveafter(GE.Tree.movetreenode,GE.Tree.movetreenode.parent,o,i,node.parent)):"similar-after"==GE.Tree.movetreenode.move?node.parent==GE.Tree.movetreenode.parent&&(GE.Tree.movetreenode.removeTo(),node.parent.append(i,node.parent.getIndex(node.id)+1),void 0!==GE.Tree.movetreenode.moveafter&&GE.Tree.movetreenode.moveafter(GE.Tree.movetreenode,GE.Tree.movetreenode.parent,o,i,node.parent)):"brother"==GE.Tree.movetreenode.move||"brother-before"==GE.Tree.movetreenode.move?(GE.Tree.movetreenode.removeTo(),node.parent.append(i,node.id),void 0!==GE.Tree.movetreenode.moveafter&&GE.Tree.movetreenode.moveafter(GE.Tree.movetreenode,GE.Tree.movetreenode.parent,o,i,node.parent)):"brother-after"==GE.Tree.movetreenode.move?(GE.Tree.movetreenode.removeTo(),node.parent.append(i,node.parent.getIndex(node.id)+1),void 0!==GE.Tree.movetreenode.moveafter&&GE.Tree.movetreenode.moveafter(GE.Tree.movetreenode,GE.Tree.movetreenode.parent,o,i,node.parent)):"onlypss"==GE.Tree.movetreenode.move||"onlypss-before"==GE.Tree.movetreenode.move?(GE.Tree.movetreenode.isParent(node)||node.parent==GE.Tree.movetreenode.parent||GE.Tree.movetreenode.isParent(node.parent))&&(GE.Tree.movetreenode.removeTo(),node.parent.append(i,node.parent.getIndex(node.id)),void 0!==GE.Tree.movetreenode.moveafter&&GE.Tree.movetreenode.moveafter(GE.Tree.movetreenode,GE.Tree.movetreenode.parent,o,i,node.parent)):"onlypss-after"==GE.Tree.movetreenode.move?(GE.Tree.movetreenode.isParent(node)||node.parent==GE.Tree.movetreenode.parent||GE.Tree.movetreenode.isParent(node.parent))&&(GE.Tree.movetreenode.removeTo(),node.parent.append(i,node.parent.getIndex(node.id)+1),void 0!==GE.Tree.movetreenode.moveafter&&GE.Tree.movetreenode.moveafter(GE.Tree.movetreenode,GE.Tree.movetreenode.parent,o,i,node.parent)):"onlypss-child"==GE.Tree.movetreenode.move?(GE.Tree.movetreenode.isParent(node)||node.parent==GE.Tree.movetreenode.parent||GE.Tree.movetreenode.isParent(node.parent))&&(GE.Tree.movetreenode.removeTo(),node.append(i),void 0!==GE.Tree.movetreenode.moveafter&&GE.Tree.movetreenode.moveafter(GE.Tree.movetreenode,GE.Tree.movetreenode.parent,o,i,node.parent)):(GE.Tree.movetreenode.removeTo(),node.append(i),void 0!==GE.Tree.movetreenode.moveafter&&GE.Tree.movetreenode.moveafter(GE.Tree.movetreenode,GE.Tree.movetreenode.parent,o,i,node)),GE.Tree.movetreenode=null,GE.Tree.movestate=!1}node.root.node.onmousemove=function(){return!1}},this.selectNode.oncontextmenu=function(e){if((e=e||window.event)&&(e.returnValue=!1,e.cancelBubble=!0),void 0!==t.contextmenu&&t.contextmenu)return t.contextmenu(t,e||window.event)},this.selectNode.ondblclick=function(e){(e=e||window.event)&&(e.returnValue=!1,e.cancelBubble=!0);var i=!0;void 0!==t.dblclick&&t.dblclick&&(i=t.dblclick(t,e||window.event)),i&&(void 0!==t.openclick&&t.openclick?t.openclick(t,e||window.event):t.openClick())},this.checkNode&&(this.checkNode.onmousedown=function(e){var i=!0;if(t.checkbox.onmousedown&&(i=t.checkbox.onmousedown(t,e,this)),i)for(var o=0;o<t.number;o++)t.childs[o].checkbox&&t.childs[o].checked(!this.checked,!0)})},Array.prototype.insert=function(e,t){var i=e instanceof Array?e.length:1;if(t==this.length){if(e instanceof Array)for(var o=0;o<i;o++)this.push(e[o]);else this.push(e);return!1}if(t>this.length){for(var n=0;n<t;n++)this[n]=null;if(e instanceof Array)for(o=0;o<i;o++)this.push(e[o]);else this.push(e)}for(n=this.length-1;n>=t;n--)if(this[n+i]=this[n],t==n)if(e instanceof Array)for(o=0;o<i;o++)this[n+o]=e[o];else this[n]=e},GE.Tree.contextmenu=function(e,t,i,o,n){t&&(t.returnValue=!1,t.cancelBubble=!0);for(var s,r,d,h=0,l=0,c=i.length;l<c;l++)for(var p=0,f=i[l].length;p<f;p++)h=h<(s=GE.Tree.strWidth(i[l][p].name))?s:h;GE.Tree.document.body.onclick=function(e){GE.Tree.bodyInit?(GE.Tree.offcontextmenu(),GE.Tree.bodyInit=!1):GE.Tree.bodyInit=!0},GE.Tree.bodyInit=!0,GE.Tree.menu?(GE.Tree.menu.style.display="",GE.Tree.menu.innerHTML=""):(GE.Tree.menu=GE.Tree.document.createElement("div"),GE.Tree.menu.style.zIndex="100000",GE.Tree.menu.style.position="absolute",GE.Tree.menu.style.backgroundColor="#e6f2ff",GE.Tree.menu.style.border="1px solid #84acdd",GE.Tree.menu.style.padding="3px",GE.Tree.menu.style.fontSize="12px",GE.Tree.document.body.appendChild(GE.Tree.menu)),GE.Tree.menu.style.top=o||t.clientY+"px",GE.Tree.menu.style.left=n||t.clientX+"px",GE.Tree.menu.style.width=h+60;var a,u,m=null;for(l=0,c=i.length;l<c;l++)for(p=0,f=i[l].length;p<f;p++)(r=GE.Tree.document.createElement("div")).customClick=i[l][p].onmousedown,r.childs=i[l][p].childs,i[l][p].title&&(r.title=i[l][p].title||null),r.onclick=function(t){var i;if((t=t||window.event).returnValue=!1,t.cancelBubble=!0,this.customClick&&void 0!==(i=this.customClick(e,this.childNodes[1].id,this.childNodes[1].innerHTML,t))&&!i)return!1;GE.Tree.offcontextmenu()},r.onmouseover=function(){this.style.border="1px solid #aecff7",this.style.backgroundColor="#e6f2ff";for(var t,i=this.childNodes,o=0,n=i.length;o<n;o++)1==i[o].nodeType&&(t=i[o].offsetHeight-2)>0&&(i[o].style.height=t,i[o].style.lineHeight=t+"px");t=this.offsetHeight-2,this.style.height=t<0?0:t,this.childs&&GE.Tree.createChildAction(e,this,this.childs,1)},r.onmouseout=function(){this.style.border="0px",this.style.borderLeft="1px solid #e6f2ff",this.style.borderRight="1px solid #e6f2ff",this.style.backgroundColor="#e6f2ff";for(var e,t=this.childNodes,i=0,o=t.length;i<o;i++)1==t[i].nodeType&&(e=t[i].offsetHeight+2,t[i].style.height=e,t[i].style.lineHeight=e+"px")},r.oncontextmenu=function(){return!1},r.style.height="20px",r.style.backgroundColor="#e6f2ff",r.style.borderLeft="1px solid #e6f2ff",r.style.borderRight="1px solid #e6f2ff",(d=GE.Tree.document.createElement("div")).style.styleFloat="left",d.style.width="18px",d.style.height="20px",d.style.lineHeight="20px",d.style.borderRight="1px solid #e0e0e0",i[l][p].ico?((u=GE.Tree.document.createElement("image")).src=GE.Tree.path+i[l][p].ico,u.style.width="18px",u.style.height="18px",d.appendChild(u)):d.innerHTML="&nbsp;",(m=GE.Tree.document.createElement("div")).id=i[l][p].id,m.innerHTML=i[l][p].name,m.style.styleFloat="left",m.style.textAlign="left",m.style.width=h+10,m.style.paddingLeft="5px",m.style.paddingRight="5px",m.style.height="20px",m.style.lineHeight="20px",m.style.borderLeft="1px solid #FFFFFF",m.style.cursor="default",(a=GE.Tree.document.createElement("div")).style.styleFloat="left",a.style.width="18px",a.style.height="20px",a.style.lineHeight="20px",i[l][p].childs?((u=GE.Tree.document.createElement("image")).src=GE.Tree.path+"tree-menu-next.gif",u.style.width="18px",u.style.height="18px",a.appendChild(u)):a.innerHTML="&nbsp;",r.appendChild(d),r.appendChild(m),r.appendChild(a),GE.Tree.menu.appendChild(r)},GE.Tree.offcontextmenu=function(e){if(GE.Tree.menu){if(GE.Tree.menu.style.display="none",GE.Tree.actiondept)for(var t=0;t<GE.Tree.actiondept;t++)GE.Tree["childAction_"+(t+1)].style.display="none";GE.Tree.actiondept=0}},GE.Tree.createChildAction=function(e,t,i,o){GE.Tree.actiondept?GE.Tree.actiondept=GE.Tree.actiondept>o?GE.Tree.actiondept:o:GE.Tree.actiondept=o;for(var n,s=0,r=0,d=t;d;)s+=d.offsetTop,r+=d.offsetLeft,d=d.offsetParent;(r+=t.offsetWidth,GE.Tree["childAction_"+o])?((n=GE.Tree["childAction_"+o]).style.top=s,n.style.left=r+5,n.style.display="",n.innerHTML=""):((n=GE.Tree.document.createElement("div")).style.zIndex=1e5+o,n.style.position="absolute",n.style.backgroundColor="#e6f2ff",n.style.border="1px solid #84acdd",n.style.padding="3px",n.style.top=s,n.style.left=r+5,GE.Tree.document.body.appendChild(n),GE.Tree["childAction_"+o]=n);for(var h,l,c,p,f,a,u=0,m=0,v=i.length;m<v;m++)for(var T=0,E=i[m].length;T<E;T++)u=u<(h=GE.Tree.strWidth(i[m][T].name))?h:u;GE.Tree["childAction_"+o].style.width=u+60;for(m=0,v=i.length;m<v;m++)for(T=0,E=i[m].length;T<E;T++)(l=GE.Tree.document.createElement("div")).customClick=i[m][T].onmousedown,l.childs=i[m][T].childs,i[m][T].title&&(l.title=i[m][T].title||null),l.onclick=function(t){var i;if((t=t||window.event).returnValue=!1,t.cancelBubble=!0,this.customClick&&void 0!==(i=this.customClick(e,this.childNodes[1].id,this.childNodes[1].innerHTML,t))&&!i)return!1;GE.Tree.offcontextmenu()},l.onmouseover=function(){this.style.border="1px solid #aecff7",this.style.backgroundColor="#e6f2ff";for(var e,t=this.childNodes,i=0,o=t.length;i<o;i++)1==t[i].nodeType&&(e=t[i].offsetHeight-2)>0&&(t[i].style.height=e,t[i].style.lineHeight=e+"px");e=this.offsetHeight-2,this.style.height=e<0?0:e,this.childs&&GE.Tree.createChildAction(this,this.childs,1)},l.onmouseout=function(){this.style.border="0px",this.style.borderLeft="1px solid #e6f2ff",this.style.borderRight="1px solid #e6f2ff",this.style.backgroundColor="#e6f2ff";for(var e,t=this.childNodes,i=0,o=t.length;i<o;i++)1==t[i].nodeType&&(e=t[i].offsetHeight+2,t[i].style.height=e,t[i].style.lineHeight=e+"px")},l.oncontextmenu=function(){return!1},l.style.height="20px",l.style.backgroundColor="#e6f2ff",l.style.borderLeft="1px solid #e6f2ff",l.style.borderRight="1px solid #e6f2ff",(c=GE.Tree.document.createElement("div")).style.styleFloat="left",c.style.width="18px",c.style.height="20px",c.style.lineHeight="20px",c.style.borderRight="1px solid #e0e0e0",i[m][T].ico?((a=GE.Tree.document.createElement("image")).src=GE.Tree.path+i[m][T].ico,a.style.width="18px",a.style.height="18px",c.appendChild(a)):c.innerHTML="&nbsp;",(p=GE.Tree.document.createElement("div")).id=i[m][T].id,p.innerHTML=i[m][T].name,p.style.styleFloat="left",p.style.width=u+10,p.style.paddingLeft="5px",p.style.paddingRight="5px",p.style.height="20px",p.style.lineHeight="20px",p.style.borderLeft="1px solid #FFFFFF",p.style.cursor="default",(f=GE.Tree.document.createElement("div")).style.styleFloat="left",f.style.width="18px",f.style.height="20px",f.style.lineHeight="20px",i[m][T].childs?((a=GE.Tree.document.createElement("image")).src=GE.Tree.path+"tree-menu-next.gif",a.style.width="18px",a.style.height="18px",f.appendChild(a)):f.innerHTML="&nbsp;",l.appendChild(c),l.appendChild(p),l.appendChild(f),GE.Tree["childAction_"+o].appendChild(l)},GE.Tree.strWidth=function(e){for(var t=e.length,i=0,o=0;o<t;o++)i+=e.charCodeAt(o)>256?13:7;return i},GE.Tree.document=document;