function mxSwimlaneManager(e,t,i,n){this.horizontal=null==t||t,this.addEnabled=null==i||i,this.resizeEnabled=null==n||n,this.addHandler=mxUtils.bind(this,function(e,t){this.isEnabled()&&this.isAddEnabled()&&this.cellsAdded(t.getProperty("cells"))}),this.resizeHandler=mxUtils.bind(this,function(e,t){this.isEnabled()&&this.isResizeEnabled()&&this.cellsResized(t.getProperty("cells"))}),this.setGraph(e)}mxSwimlaneManager.prototype=new mxEventSource,mxSwimlaneManager.prototype.constructor=mxSwimlaneManager,mxSwimlaneManager.prototype.graph=null,mxSwimlaneManager.prototype.enabled=!0,mxSwimlaneManager.prototype.horizontal=!0,mxSwimlaneManager.prototype.addEnabled=!0,mxSwimlaneManager.prototype.resizeEnabled=!0,mxSwimlaneManager.prototype.addHandler=null,mxSwimlaneManager.prototype.resizeHandler=null,mxSwimlaneManager.prototype.isEnabled=function(){return this.enabled},mxSwimlaneManager.prototype.setEnabled=function(e){this.enabled=e},mxSwimlaneManager.prototype.isHorizontal=function(){return this.horizontal},mxSwimlaneManager.prototype.setHorizontal=function(e){this.horizontal=e},mxSwimlaneManager.prototype.isAddEnabled=function(){return this.addEnabled},mxSwimlaneManager.prototype.setAddEnabled=function(e){this.addEnabled=e},mxSwimlaneManager.prototype.isResizeEnabled=function(){return this.resizeEnabled},mxSwimlaneManager.prototype.setResizeEnabled=function(e){this.resizeEnabled=e},mxSwimlaneManager.prototype.getGraph=function(){return this.graph},mxSwimlaneManager.prototype.setGraph=function(e){null!=this.graph&&(this.graph.removeListener(this.addHandler),this.graph.removeListener(this.resizeHandler)),this.graph=e,null!=this.graph&&(this.graph.addListener(mxEvent.ADD_CELLS,this.addHandler),this.graph.addListener(mxEvent.CELLS_RESIZED,this.resizeHandler))},mxSwimlaneManager.prototype.isSwimlaneIgnored=function(e){return!this.getGraph().isSwimlane(e)},mxSwimlaneManager.prototype.isCellHorizontal=function(e){if(this.graph.isSwimlane(e)){var t=this.graph.getCellStyle(e);return 1==mxUtils.getValue(t,mxConstants.STYLE_HORIZONTAL,1)}return!this.isHorizontal()},mxSwimlaneManager.prototype.cellsAdded=function(e){if(null!=e){var t=this.getGraph().getModel();t.beginUpdate();try{for(var i=0;i<e.length;i++)this.isSwimlaneIgnored(e[i])||this.swimlaneAdded(e[i])}finally{t.endUpdate()}}},mxSwimlaneManager.prototype.swimlaneAdded=function(e){for(var t=this.getGraph().getModel(),i=t.getParent(e),n=t.getChildCount(i),a=null,r=0;r<n;r++){var l=t.getChildAt(i,r);if(l!=e&&!this.isSwimlaneIgnored(l)&&null!=(a=t.getGeometry(l)))break}if(null!=a){var o=null!=i?this.isCellHorizontal(i):this.horizontal;this.resizeSwimlane(e,a.width,a.height,o)}},mxSwimlaneManager.prototype.cellsResized=function(e){if(null!=e){var t=this.getGraph().getModel();t.beginUpdate();try{for(var i=0;i<e.length;i++)if(!this.isSwimlaneIgnored(e[i])){var n=t.getGeometry(e[i]);if(null!=n){for(var a=new mxRectangle(0,0,n.width,n.height),r=e[i],l=r;null!=l;){r=l,l=t.getParent(l);var o=this.graph.isSwimlane(l)?this.graph.getStartSize(l):new mxRectangle;a.width+=o.width,a.height+=o.height}var s=null!=l?this.isCellHorizontal(l):this.horizontal;this.resizeSwimlane(r,a.width,a.height,s)}}}finally{t.endUpdate()}}},mxSwimlaneManager.prototype.resizeSwimlane=function(e,t,i,n){var a=this.getGraph().getModel();a.beginUpdate();try{var r=this.isCellHorizontal(e);if(!this.isSwimlaneIgnored(e)){var l=a.getGeometry(e);null!=l&&(n&&l.height!=i||!n&&l.width!=t)&&(l=l.clone(),n?l.height=i:l.width=t,a.setGeometry(e,l))}var o=this.graph.isSwimlane(e)?this.graph.getStartSize(e):new mxRectangle;t-=o.width,i-=o.height;for(var s=a.getChildCount(e),h=0;h<s;h++){var d=a.getChildAt(e,h);this.resizeSwimlane(d,t,i,r)}}finally{a.endUpdate()}},mxSwimlaneManager.prototype.destroy=function(){this.setGraph(null)};