GE.Sidebar=function(e,t,l,r){this.editorUi=e,this.container=t,this.palettes=new Object,this.taglist=new Object,this.showTooltips=!0,this.graph=e.createTemporaryGraph(this.editorUi.editor.graph.getStylesheet()),this.graph.cellRenderer.minSvgStrokeWidth=this.minThumbStrokeWidth,this.graph.cellRenderer.antiAlias=this.thumbAntiAlias,this.graph.container.style.visibility="hidden",this.graph.foldingEnabled=!1,document.body.appendChild(this.graph.container),this.pointerUpHandler=mxUtils.bind(this,function(){this.showTooltips=!0}),mxEvent.addListener(document,GE.IS_POINTER?"pointerup":"mouseup",this.pointerUpHandler),this.pointerDownHandler=mxUtils.bind(this,function(){this.showTooltips=!1,this.hideTooltip()}),mxEvent.addListener(document,GE.IS_POINTER?"pointerdown":"mousedown",this.pointerDownHandler),this.pointerMoveHandler=mxUtils.bind(this,function(e){for(var t=mxEvent.getSource(e);null!=t;){if(t==this.currentElt)return;t=t.parentNode}this.hideTooltip()}),mxEvent.addListener(document,GE.IS_POINTER?"pointermove":"mousemove",this.pointerMoveHandler),this.pointerOutHandler=mxUtils.bind(this,function(e){null==e.toElement&&null==e.relatedTarget&&this.hideTooltip()}),mxEvent.addListener(document,GE.IS_POINTER?"pointerout":"mouseout",this.pointerOutHandler),mxEvent.addListener(t,"scroll",mxUtils.bind(this,function(){this.showTooltips=!0,this.hideTooltip()})),this.init(l,r)},GE.Sidebar.prototype.init=function(e,t){e&&this.addVarTreePalette(e),this.addVarBindPropertiesPalette(!0),this.addDynBindPropertiesPalette(!1),this.addExtBindPropertiesPalette(!1),t&&this.addImagePalette(t),this.addGeneralPalette(!1),this.addMiscPalette(!1),this.addAdvancedPalette(!1),this.addStencilPalette("basic",mxResources.get("basic"),GE.CELL_ROOT+"stencils/basic.xml",";fillColor=#ffffff;strokeColor=#000000;strokeWidth=2"),this.addStencilPalette("arrows",mxResources.get("arrows"),GE.CELL_ROOT+"stencils/arrows.xml",";fillColor=#ffffff;strokeColor=#000000;strokeWidth=2"),this.addUmlPalette(!1),this.addBpmnPalette(!1),this.addStencilPalette("flowchart",mxResources.get("flowchart"),GE.CELL_ROOT+"stencils/flowchart.xml",";fillColor=#ffffff;strokeColor=#000000;strokeWidth=2")},GE.Sidebar.prototype.collapsedImage="data:image/gif;base64,R0lGODlhDQANAIABAJmZmf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNUQyRTJFNjZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNUQyRTJFNzZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFERjc3MEUxNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFERjc3MEUyNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAA0ADQAAAhSMj6lrwAjcC1GyahV+dcZJgeIIFgA7",GE.Sidebar.prototype.expandedImage="data:image/gif;base64,R0lGODlhDQANAIABAJmZmf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxREY3NzBERjZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxREY3NzBFMDZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFERjc3MERENkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFERjc3MERFNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAA0ADQAAAhGMj6nL3QAjVHIu6azbvPtWAAA7",GE.Sidebar.prototype.searchImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAEaSURBVHjabNGxS5VxFIfxz71XaWuQUJCG/gCHhgTD9VpEETg4aMOlQRp0EoezObgcd220KQiXmpretTAHQRBdojlQEJyukPdt+b1ywfvAGc7wnHP4nlZd1yKijQW8xzNc4Su+ZOYfQ3T6/f4YNvEJYzjELXp4VVXVz263+7cR2niBxAFeZ2YPi3iHR/gYERPDwhpOsd6sz8x/mfkNG3iOlWFhFj8y89J9KvzGXER0GuEaD42mgwHqUtoljbcRsTBCeINpfM/MgZLKPpaxFxGbOCqDXmILN7hoJrTKH+axhxmcYRxP0MIDnOBDZv5q1XUNIuJxifJp+UNV7t7BFM6xeic0RMQ4Bpl5W/ol7GISx/eEUUTECrbx+f8A8xhiZht9zsgAAAAASUVORK5CYII=",GE.Sidebar.prototype.dragPreviewBorder="1px dashed black",GE.Sidebar.prototype.enableTooltips=!0,GE.Sidebar.prototype.tooltipBorder=16,GE.Sidebar.prototype.tooltipDelay=300,GE.Sidebar.prototype.dropTargetDelay=200,GE.Sidebar.prototype.gearImage=GE.CELL_ROOT+"inner/Gear.png",GE.Sidebar.prototype.thumbWidth=42,GE.Sidebar.prototype.thumbHeight=42,GE.Sidebar.prototype.minThumbStrokeWidth=1,GE.Sidebar.prototype.thumbAntiAlias=!1,GE.Sidebar.prototype.thumbPadding=document.documentMode>=5?2:3,GE.Sidebar.prototype.thumbBorder=2,GE.Sidebar.prototype.thumbPadding=document.documentMode>=5?0:1,GE.Sidebar.prototype.thumbBorder=1,GE.Sidebar.prototype.thumbWidth=32,GE.Sidebar.prototype.thumbHeight=30,GE.Sidebar.prototype.minThumbStrokeWidth=1.3,GE.Sidebar.prototype.thumbAntiAlias=!0,GE.Sidebar.prototype.sidebarTitleSize=9,GE.Sidebar.prototype.sidebarTitles=!1,GE.Sidebar.prototype.tooltipTitles=!0,GE.Sidebar.prototype.maxTooltipWidth=400,GE.Sidebar.prototype.maxTooltipHeight=400,GE.Sidebar.prototype.addStencilsToIndex=!0,GE.Sidebar.prototype.getTooltipOffset=function(){return new mxPoint(0,0)},GE.Sidebar.prototype.showTooltip=function(e,t,l,r,n,i){if(this.enableTooltips&&this.showTooltips&&this.currentElt!=e){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null);var o=mxUtils.bind(this,function(){null==this.tooltip&&(this.tooltip=document.createElement("div"),this.tooltip.className="geSidebarTooltip",this.tooltip.style.zIndex=mxPopupMenu.prototype.zIndex-1,document.body.appendChild(this.tooltip),this.graph2=new GE.Graph(this.tooltip,null,null,this.editorUi.editor.graph.getStylesheet()),this.graph2.resetViewOnRootChange=!1,this.graph2.foldingEnabled=!1,this.graph2.gridEnabled=!1,this.graph2.autoScroll=!1,this.graph2.setTooltips(!1),this.graph2.setConnectable(!1),this.graph2.setEnabled(!1),GE.IS_SVG||(this.graph2.view.canvas.style.position="relative")),this.graph2.model.clear(),this.graph2.view.setTranslate(this.tooltipBorder,this.tooltipBorder),l>this.maxTooltipWidth||r>this.maxTooltipHeight?this.graph2.view.scale=Math.round(100*Math.min(this.maxTooltipWidth/l,this.maxTooltipHeight/r))/100:this.graph2.view.scale=1,this.tooltip.style.display="block",this.graph2.labelsVisible=null==i||i;var o=GE.NO_FO;GE.NO_FO=GE.Editor.prototype.originalNoForeignObject,this.graph2.addCells(t),GE.NO_FO=o;var a=this.graph2.getGraphBounds(),s=a.width+2*this.tooltipBorder+4,d=a.height+2*this.tooltipBorder;this.tooltip.style.overflow="visible",this.tooltip.style.width=s+"px";var m=s;if(this.tooltipTitles&&null!=n&&n.length>0){null==this.tooltipTitle?(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.style.borderTop="1px solid gray",this.tooltipTitle.style.textAlign="center",this.tooltipTitle.style.width="100%",this.tooltipTitle.style.overflow="hidden",this.tooltipTitle.style.position="absolute",this.tooltipTitle.style.paddingTop="6px",this.tooltipTitle.style.bottom="6px",this.tooltip.appendChild(this.tooltipTitle)):this.tooltipTitle.innerHTML="",this.tooltipTitle.style.display="",mxUtils.write(this.tooltipTitle,n),m=Math.min(this.maxTooltipWidth,Math.max(s,this.tooltipTitle.scrollWidth+4));var h=this.tooltipTitle.offsetHeight+10;d+=h,GE.IS_SVG?this.tooltipTitle.style.marginTop=2-h+"px":(d-=6,this.tooltipTitle.style.top=d-h+"px")}else null!=this.tooltipTitle&&null!=this.tooltipTitle.parentNode&&(this.tooltipTitle.style.display="none");m>s&&(this.tooltip.style.width=m+"px"),this.tooltip.style.height=d+"px";var p=-Math.round(a.x-this.tooltipBorder)+(m>s?(m-s)/2:0),c=-Math.round(a.y-this.tooltipBorder),u=document.body,g=document.documentElement,y=this.getTooltipOffset(),x=Math.max(u.clientHeight||0,g.clientHeight),f=this.container.clientWidth+this.editorUi.splitSize+3+this.editorUi.container.offsetLeft+y.x,E=Math.min(x-d-20,Math.max(0,this.editorUi.container.offsetTop+this.container.offsetTop+e.offsetTop-this.container.scrollTop-d/2+16))+y.y;GE.IS_SVG?0!=p||0!=c?this.graph2.view.canvas.setAttribute("transform","translate("+p+","+c+")"):this.graph2.view.canvas.removeAttribute("transform"):(this.graph2.view.drawPane.style.left=p+"px",this.graph2.view.drawPane.style.top=c+"px"),this.tooltip.style.position="absolute",this.tooltip.style.left=f+"px",this.tooltip.style.top=E+"px"});null!=this.tooltip&&"none"!=this.tooltip.style.display?o():this.thread=window.setTimeout(o,this.tooltipDelay),this.currentElt=e}},GE.Sidebar.prototype.hideTooltip=function(){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null),null!=this.tooltip&&(this.tooltip.style.display="none",this.currentElt=null)},GE.Sidebar.prototype.addDataEntry=function(e,t,l,r,n){return this.addEntry(e,mxUtils.bind(this,function(){return this.createVertexTemplateFromData(n,t,l,r)}))},GE.Sidebar.prototype.addEntries=function(e){for(var t=0;t<e.length;t++)mxUtils.bind(this,function(e){var t=e.data,l=null!=e.title?e.title:"";null!=e.tags&&(l+=" "+e.tags),null!=t&&l.length>0?this.addEntry(l,mxUtils.bind(this,function(){t=this.editorUi.convertDataUri(t);var l="shape=image;verticalLabelPosition=bottom;verticalAlign=top;imageAspect=0;";return"fixed"==e.aspect&&(l+="aspect=fixed;"),this.createVertexTemplate(l+"image="+t,e.w,e.h,"",e.title||"",!1,!1,!0)})):null!=e.xml&&l.length>0&&this.addEntry(l,mxUtils.bind(this,function(){var t=this.editorUi.stringToCells(GE.Graph.decompress(e.xml));return this.createVertexTemplateFromCells(t,e.w,e.h,e.title||"",!0,!1,!0)}))})(e[t])},GE.Sidebar.prototype.addEntry=function(e,t){if(null!=this.taglist&&null!=e&&e.length>0)for(var l=e.toLowerCase().replace(/[\/\,\(\)]/g," ").split(" "),r=mxUtils.bind(this,function(e){if(null!=e&&e.length>1){var l=this.taglist[e];"object"!=typeof l&&(l={entries:[],dict:new mxDictionary},this.taglist[e]=l),null==l.dict.get(t)&&(l.dict.put(t,t),l.entries.push(t))}}),n=0;n<l.length;n++){r(l[n]);var i=l[n].replace(/\.*\d*$/,"");i!=l[n]&&r(i)}return t},GE.Sidebar.prototype.filterTags=function(e){if(null!=e){for(var t=e.split(" "),l=[],r={},n=0;n<t.length;n++)null==r[t[n]]&&(r[t[n]]="1",l.push(t[n]));return l.join(" ")}return null},GE.Sidebar.prototype.cloneCell=function(e,t){var l=e.clone();return null!=t&&(l.value=t),l};const createVarText1Cell=function(e,t,l){let r={border:"#000",fill:"#FFF2CC",font:"#000"};const n={alarm:{border:"#000",fill:"#F00",font:"#FF0"},commErr:{border:"#000",fill:"#F0F",font:"#000"}};let i=0,o=18,a=80,s=30,d="center";if(GE.CELL_CONFIG&&GE.CELL_CONFIG.变量&&GE.CELL_CONFIG.变量.文本1){const e=GE.CELL_CONFIG.变量.文本1;e.color&&(e.color.normal&&(r=e.color.normal),e.color.alarm&&(n.alarm=e.color.alarm),e.color.commErr&&(n.commErr=e.color.commErr)),e.rounded&&(i=e.rounded),e.fontSize&&(o=e.fontSize),e.width&&(a=e.width),e.height&&(s=e.height),e.align&&(d=e.align)}let m="text;align="+d+";verticalAlign=middle;";return m+=r.border&&"none"!==r.border?"strokeColor="+r.border+";":"",m+=r.fill&&"none"!==r.fill?"fillColor="+r.fill+";":"",m+=r.fill2&&"none"!==r.fill2?"gradientColor="+r.fill2+";":"",m+=r.font&&"none"!==r.font?"fontColor="+r.font+";":"",i&&(m+="rounded=1;arcSize="+i+";"),m+="fontSize="+o+";",e.createVertexTemplateEntry(m,a,s,l,"文本1",null,null,"text",{type1:"变量",type2:"文本1"},{varGuid:t,color:n})};GE.Sidebar.prototype.addVarTreePalette=function(e){this.addPalette("vartree","变量树",!0,mxUtils.bind(this,function(t){e(t,e=>{const t=createVarText1Cell(this,e.guid,e.value);return function(e){t().ds.mouseDown(e)}})}))},GE.Sidebar.prototype.addVarBindPropertiesPalette=function(e){var t=[];let l;if(l=!0,GE.CELL_CONFIG&&GE.CELL_CONFIG.变量&&GE.CELL_CONFIG.变量.指针表1&&"show"in GE.CELL_CONFIG.变量.指针表1&&(l=GE.CELL_CONFIG.变量.指针表1.show),l&&(t.push(this.createVertexTemplateEntry("svg=PointerMeter/1;html=1;imageAspect=1;aspect=fixed;overflow=fill;fillColor=none;strokeColor=none;editable=0;",180,180,"0.00","指针表1_1",null,null,!1,{type1:"变量",type2:"指针表1",type3:1},{varGuid:"",mr0:"0",mr1:"100",color:{alarm:{border:"#000",fill:"#F00",font:"#FF0"},commErr:{border:"#000",fill:"#F0F",font:"#000"}}})),t.push(this.createVertexTemplateEntry("svg=PointerMeter/2;html=1;imageAspect=1;aspect=fixed;overflow=fill;fillColor=none;strokeColor=none;editable=0;",180,180,"0.00","指针表1_2",null,null,!1,{type1:"变量",type2:"指针表1",type3:2},{varGuid:"",mr0:"0",mr1:"100",color:{alarm:{border:"#000",fill:"#F00",font:"#FF0"},commErr:{border:"#000",fill:"#F0F",font:"#000"}}}))),l=!0,GE.CELL_CONFIG&&GE.CELL_CONFIG.变量&&GE.CELL_CONFIG.变量.风扇1&&"show"in GE.CELL_CONFIG.变量.风扇1&&(l=GE.CELL_CONFIG.变量.风扇1.show),l&&t.push(this.createVertexTemplateEntry("svg=Fan/1;html=1;imageAspect=1;aspect=fixed;overflow=fill;fillColor=none;strokeColor=none;editable=0;",65,65,"0.00","风扇1",null,null,!1,{type1:"变量",type2:"风扇1"},{varGuid:"",rotateValue:1})),l=!0,GE.CELL_CONFIG&&GE.CELL_CONFIG.变量&&GE.CELL_CONFIG.变量.文本1&&"show"in GE.CELL_CONFIG.变量.文本1&&(l=GE.CELL_CONFIG.变量.文本1.show),l){const e=createVarText1Cell(this,"","变量值");t.push(e)}if(l=!0,GE.CELL_CONFIG&&GE.CELL_CONFIG.变量&&GE.CELL_CONFIG.变量.水浸绳1&&"show"in GE.CELL_CONFIG.变量.水浸绳1&&(l=GE.CELL_CONFIG.变量.水浸绳1.show),l&&t.push(this.addEntry(null,mxUtils.bind(this,function(){var e=new mxCell("",new mxGeometry(0,0,200,84),"shape=waterLeakageRope;rounded=1;strokeWidth=6;strokeColor=#CC0;fillColor=#000;dashed=1;dashPattern=1 2;startArrow=oval;endArrow=classicThin;startSize=9;startFill=0;endFill=1;");e.geometry.setTerminalPoint(new mxPoint(0,84),!0),e.geometry.setTerminalPoint(new mxPoint(200,0),!1),e.edge=!0,e.type1="变量",e.type2="水浸绳1",e.bindProperties={varGuid:"",color:{alarm:{fill:"#FF0",line:"#F00"},commErr:{fill:"#000",line:"#F0F"}},lens:[]};var t=new mxCell("●",new mxGeometry(0,0,100,42),"shape=image;fontColor=#F00;fontSize=10;fontStyle=1;imageAspect=0;image="+GE.CELL_ROOT+"inner/Water.gif");return t.vertex=!0,t.geometry.relative=!0,t.geometry.offset=new mxPoint(-50,-21),t.isSub=!0,t.inactive=!0,e.insert(t),this.createVertexTemplateFromCells([e],200,84,"水浸绳1")}))),l=!0,GE.CELL_CONFIG&&GE.CELL_CONFIG.变量&&GE.CELL_CONFIG.变量.流动1&&"show"in GE.CELL_CONFIG.变量.流动1&&(l=GE.CELL_CONFIG.变量.流动1.show),l&&t.push(this.addEntry(null,mxUtils.bind(this,function(){var e=new mxCell("",new mxGeometry(0,0,200,84),"shape=flow1;endArrow=none;strokeWidth=4;strokeColor=#00F;dashed=1;dashPattern=4 1;jumpStyle=arc;jumpSize=20;");return e.geometry.setTerminalPoint(new mxPoint(0,84),!0),e.geometry.setTerminalPoint(new mxPoint(200,0),!1),e.edge=!0,e.type1="变量",e.type2="流动1",e.bindProperties={varGuid:"",flowValue:1,color:{alarm:"#F00",commErr:"#F0F"},speed:20},this.createVertexTemplateFromCells([e],200,84,"流动1")})),this.addEntry(null,mxUtils.bind(this,function(){var e=new mxCell("",new mxGeometry(0,0,200,84),"shape=flow2;endArrow=none;strokeWidth=4;fillColor=#FF0;strokeColor=#00F;dashed=1;dashPattern=4 1;jumpStyle=arc;jumpSize=20;");return e.geometry.setTerminalPoint(new mxPoint(0,84),!0),e.geometry.setTerminalPoint(new mxPoint(200,0),!1),e.edge=!0,e.type1="变量",e.type2="流动2",e.bindProperties={varGuid:"",flowValue:1,color:{alarm:{fill:"#F0F",line:"#F00"},commErr:{fill:"#FF0",line:"#F0F"}},speed:100,sliderWidth:2,sliderLength:20},this.createVertexTemplateFromCells([e],200,84,"流动2")}))),l=!0,GE.CELL_CONFIG&&GE.CELL_CONFIG.变量&&GE.CELL_CONFIG.变量.遥控1&&"show"in GE.CELL_CONFIG.变量.遥控1&&(l=GE.CELL_CONFIG.变量.遥控1.show),l){let e=0,l=18,r=120,n=40,i="闭合",o={fill:"#39F",font:"#FFC"};if(GE.CELL_CONFIG&&GE.CELL_CONFIG.变量&&GE.CELL_CONFIG.变量.遥控1){const t=GE.CELL_CONFIG.变量.遥控1;t.color&&(o=t.color),t.rounded&&(e=t.rounded),t.fontSize&&(l=t.fontSize),t.width&&(r=t.width),t.height&&(n=t.height),t.text&&(i=t.text)}let a="text;glass=1;align=center;verticalAlign=middle;";a+=o.border&&"none"!==o.border?"strokeColor="+o.border+";":"",a+=o.fill&&"none"!==o.fill?"fillColor="+o.fill+";":"",a+=o.fill2&&"none"!==o.fill2?"gradientColor="+o.fill2+";":"",a+=o.font&&"none"!==o.font?"fontColor="+o.font+";":"",e&&(a+="rounded=1;arcSize="+e+";"),a+="fontSize="+l+";",t.push(this.createVertexTemplateEntry(a,r,n,i,"遥控1",null,null,"button",{type1:"变量",type2:"遥控1"},{varGuid:"",ykValue:1}))}l=!0,GE.CELL_CONFIG&&GE.CELL_CONFIG.变量&&GE.CELL_CONFIG.变量.选项二1&&"show"in GE.CELL_CONFIG.变量.选项二1&&(l=GE.CELL_CONFIG.变量.选项二1.show),l&&t.push(this.addEntry(null,mxUtils.bind(this,function(){var e=new mxCell("",new mxGeometry(0,0,160,26),"fillColor=none;strokeColor=none;");e.vertex=!0,e.type1="变量",e.type2="选项二1",e.inactive=!0,e.autosize=!0,e.bindProperties={varGuid:"",defaultSel:0};var t=new mxCell("值0",new mxGeometry(0,0,75,26),"text;strokeColor=#0295D2;fillColor=#0295D2;fontColor=#FFF;align=center;verticalAlign=middle;rounded=1;fontSize=18;");t.vertex=!0,t.isSub=!0,e.insert(t);var l=new mxCell("值1",new mxGeometry(85,0,75,26),"text;strokeColor=#0295D2;fontColor=#0295D2;align=center;verticalAlign=middle;rounded=1;fontSize=18;");return l.vertex=!0,l.isSub=!0,e.insert(l),this.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"选项二1")}))),l=!0,GE.CELL_CONFIG&&GE.CELL_CONFIG.变量&&GE.CELL_CONFIG.变量.进度条1&&"show"in GE.CELL_CONFIG.变量.进度条1&&(l=GE.CELL_CONFIG.变量.进度条1.show),l&&t.push(this.createVertexTemplateEntry("shape=progress;gradientColor=#3399FF;strokeColor=none;editable=0;fontStyle=1;fontColor=#FF0000;size=0.5;",120,30,"50%","进度条1",null,null,"progress",{type1:"变量",type2:"进度条1"},{varGuid:"",mr0:"0",mr1:"100"})),t.length>0&&this.addPaletteFunctions("varBindProperties","绑定变量",null==e||e,t)},GE.Sidebar.prototype.addDynBindPropertiesPalette=function(e){const t="yyyy年MM月dd日 hh:mm:ss WWW";var l=[this.createVertexTemplateEntry("text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;",140,60,(new Date).format(t),"日期时间",null,null,null,{type1:"日期时间"},{format:t})];this.addPaletteFunctions("dynBindProperties","动态",null==e||e,l)},GE.Sidebar.prototype.addExtBindPropertiesPalette=function(e){var t=[this.createVertexTemplateEntry("text;html=1;strokeColor=#c0c0c0;fillColor=#ffffff;overflow=fill;rounded=0;editable=0;",280,160,"外部扩展图元容器","外部扩展图元",null,null,"extCell",{type1:"外部扩展"},{name:""})];this.addPaletteFunctions("extBindProperties","外部扩展",null==e||e,t)},GE.Sidebar.prototype.addImagePalette=function(e){this.addPalette("image",mxResources.get("image"),!1,mxUtils.bind(this,function(t){for(var l=0;l<e.length;l++){const r=e[l],n=new Image;n.onload=mxUtils.bind(this,function(){var e=Math.max(1,n.width),l=Math.max(1,n.height);const i=this.createVertexTemplateEntry("image;labelBackgroundColor=#ffffff;imageAspect=0;image="+r,e,l,"",null,!1,null,null);t.appendChild(i(t))}),n.src=r}}))},GE.Sidebar.prototype.addGeneralPalette=function(e){var t="line lines connector connectors connection connections arrow arrows ",l=[this.createVertexTemplateEntry("rounded=0;",120,60,"","Rectangle",null,null,"rect rectangle box"),this.createVertexTemplateEntry("rounded=1;",120,60,"","Rounded Rectangle",null,null,"rounded rect rectangle box"),this.createVertexTemplateEntry("text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;",40,20,"描述","description",null,null,"text textbox textarea label"),this.createVertexTemplateEntry("ellipse;",120,80,"","Ellipse",null,null,"oval ellipse state"),this.createVertexTemplateEntry("aspect=fixed;",80,80,"","Square",null,null,"square"),this.createVertexTemplateEntry("ellipse;aspect=fixed;",80,80,"","Circle",null,null,"circle"),this.createVertexTemplateEntry("shape=process;backgroundOutline=1;",120,60,"","Process",null,null,"process task"),this.createVertexTemplateEntry("rhombus;",80,80,"","Diamond",null,null,"diamond rhombus if condition decision conditional question test"),this.createVertexTemplateEntry("shape=parallelogram;perimeter=parallelogramPerimeter;",120,60,"","Parallelogram"),this.createVertexTemplateEntry("shape=hexagon;perimeter=hexagonPerimeter2;",120,80,"","Hexagon",null,null,"hexagon preparation"),this.createVertexTemplateEntry("triangle;",60,80,"","Triangle",null,null,"triangle logic inverter buffer"),this.createVertexTemplateEntry("shape=cylinder;boundedLbl=1;backgroundOutline=1;",60,80,"","Cylinder",null,null,"cylinder data database"),this.createVertexTemplateEntry("ellipse;shape=cloud;",120,80,"","Cloud",null,null,"cloud network"),this.createVertexTemplateEntry("shape=document;boundedLbl=1;",120,80,"","Document"),this.createVertexTemplateEntry("shape=internalStorage;backgroundOutline=1;",80,80,"","Internal Storage"),this.createVertexTemplateEntry("shape=cube;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;",120,80,"","Cube"),this.createVertexTemplateEntry("shape=step;perimeter=stepPerimeter;fixedSize=1;",120,80,"","Step"),this.createVertexTemplateEntry("shape=trapezoid;perimeter=trapezoidPerimeter;",120,60,"","Trapezoid"),this.createVertexTemplateEntry("shape=tape;",120,100,"","Tape"),this.createVertexTemplateEntry("shape=note;backgroundOutline=1;darkOpacity=0.05;",80,100,"","Note"),this.createVertexTemplateEntry("shape=card;",80,100,"","Card"),this.createVertexTemplateEntry("shape=callout;perimeter=calloutPerimeter;",120,80,"","Callout",null,null,"bubble chat thought speech message"),this.createVertexTemplateEntry("shape=umlActor;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;outlineConnect=0;",30,60,"Actor","Actor",!1,null,"user person human stickman"),this.createVertexTemplateEntry("shape=xor;",60,80,"","Or",null,null,"logic or"),this.createVertexTemplateEntry("shape=or;",60,80,"","And",null,null,"logic and"),this.createVertexTemplateEntry("shape=dataStorage;",100,80,"","Data Storage"),this.addEntry("curve",mxUtils.bind(this,function(){var e=new mxCell("",new mxGeometry(0,0,50,50),"curved=1;endArrow=classic;");return e.geometry.setTerminalPoint(new mxPoint(0,50),!0),e.geometry.setTerminalPoint(new mxPoint(50,0),!1),e.geometry.points=[new mxPoint(50,50),new mxPoint(0,0)],e.geometry.relative=!0,e.edge=!0,this.createEdgeTemplateFromCells([e],e.geometry.width,e.geometry.height,"Curve")})),this.createEdgeTemplateEntry("shape=flexArrow;endArrow=classic;startArrow=classic;",50,50,"","Bidirectional Arrow",null,t+"bidirectional"),this.createEdgeTemplateEntry("shape=flexArrow;endArrow=classic;",50,50,"","Arrow",null,t+"directional directed"),this.createEdgeTemplateEntry("shape=link;",50,50,"","Link",null,t+"link"),this.createEdgeTemplateEntry("endArrow=none;dashed=1;",50,50,"","Dashed Line",null,t+"dashed undirected no"),this.createEdgeTemplateEntry("endArrow=none;",50,50,"","Line",null,t+"simple undirected plain blank no"),this.createEdgeTemplateEntry("endArrow=classic;startArrow=classic;",50,50,"","Bidirectional Connector",null,t+"bidirectional"),this.createEdgeTemplateEntry("endArrow=classic;",50,50,"","Directional Connector",null,t+"directional directed"),this.createVertexTemplateEntry("shape=partialRectangle;top=0;bottom=0;fillColor=none;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;right=0;top=0;bottom=0;fillColor=none;routingCenterX=-0.5;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;bottom=0;right=0;fillColor=none;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;top=0;left=0;fillColor=none;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;left=0;right=0;fillColor=none;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;bottom=1;right=1;left=1;top=0;fillColor=none;routingCenterX=-0.5;",120,60,"","Partial Rectangle")];this.addPaletteFunctions("general",mxResources.get("general"),null==e||e,l)},GE.Sidebar.prototype.addMiscPalette=function(e){var t=this,l="line lines connector connectors connection connections arrow arrows ",r=[this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;overflow=hidden;rounded=0;",190,120,"<h1>标题</h1><p>正文内容</p>","Textbox",null,null,"text textbox textarea"),this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;verticalAlign=middle;overflow=hidden;",100,80,"<ul><li>Value 1</li><li>Value 2</li><li>Value 3</li></ul>","Unordered List"),this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;verticalAlign=middle;overflow=hidden;",100,80,"<ol><li>Value 1</li><li>Value 2</li><li>Value 3</li></ol>","Ordered List"),this.addDataEntry("table",180,120,"Table 1","7ZjJTsMwEIafJleUhZZybVgucAFewDTT2pLjiewpaXl6xolLVQFqWBJArZRKns2xv5H7y4myvFxdW1HJWyxAR9lllOUWkdpRucpB6yiNVRFlF1GaxvyL0qsPokkTjSthwVCXgrQteBJ6Ca2ndTha6+BwUlR+SOLRu6aSSl7mRcLDWiqC+0rMfLzmTbDPkbB0r569K2Z7hoaEMmBDzQy1FpVTzWRthlS6uBFrXNLmNRtrGpYHlmD14RYbV9jfNWAJZNecUquCZMiYtBhiCWohN2WBTSxc61i81m6J8SBAex9g1h0gL5mU0HcwI2EWXVi+ZVVYrB6EXQAFR4XKENjLJ6bhgm+utM5Ro0du0PgXEVYhqGG+qX1EIiyDYQOY10kbKKMpP4wpj09G0Yh3k7OdbG1+fLqlHI0jy432c4BwVIPr3MD0aw08/YH+nfbbP2N89rZ/324NMsq5xppNqYoCTFfG2V7G454Qjw4c8WoX7wDEx0fiO3/wAyA/O+pAbzqw3m3TELIwOZQTdPZrsnB+4IiHl4UkPiIfWheS5CgMfQvDZEBhSD5xY/7fZyjZf63u7dD0fKv++5B/QRwO5ia8h3mP6sDm9tNeE9v58vcC"),this.addDataEntry("table",180,120,"Table 2","7ZjBbqMwEIafhmuFISTptbTbS/eyrfbuBie2ZDzITEqyT79jMMlGWVTUBlqVSkTyjGeM+SbDLxPEab67t7yQPyETOojvgji1ANiM8l0qtA6iUGVBfBtEUUi/IPrRMcvq2bDgVhjskxA1CS9cb0XjaRwl7rV3lJIXboj82bluJOa0zVtGw0oqFI8FX7n5ih6CfCVyi4/qj3OFZK/AIFdGWJ+zAq15Uap6sSZCKp098D1ssb1Na7nobW4eKL/00Raqf02/f2FR7DoZ1C4P4F5ALtDuKaRSGUofsWw4hVKojWzTPLyQl41jc8g9IqWBp/p/wnF/wrRlVFz/EivkZtMH9jnMzELxxO1GoHcUoAwKe/dCNFpoa6V1ChpcTQwYdyOEwk9qsW5znwER8ha8B3NYtIaS3NBFmNLwKgkSepqUbHa06XLhFlMwJVr6J7g1BC+xEiX2LWD0tgLOLlC/2Vn9ftfDKGQXLaQxLvpYyHfXCIjpWkNFplRZJkxf2PGrsOcDsU46WV+2aT49690p5xHQzzvRx5NEf3j3j8B+8S0Rg0nE/rRMYyjGsrOVZl+0lRYfphjXnayTabEeXzFY2Ml+Pkn2Y0oGY9+aMbRmLEfUDHZ+EG+bafFFm4m9fiofrHvOD+Ut7eXEaH+AbnSfqK+nCX9A4SDz+DGxnjv51vgX"),this.addDataEntry("table title",180,120,"Table with Title 1","7ZhRb6MwDMc/Da8nAmPdvZbu9nJ7WfcFMnAhUohR4o12n34OpKumrmqlDXa6VqJS/Lcdkp8bWSFK82Z9Z2Vb32MJOkpvozS3iDSMmnUOWkdJrMooXURJEvMvSv4c8IreG7fSgqFTEpIh4UXqZxiUR/mkYVAdbXRQXS1bP6Tem85ranitC8HDrlYEy1YW3t/xTlhzJC0t1auX0piFAg1JZcCGpAK1lq1T/WyLPqJWuvwrN/hM2/dsrfmKs5dhMT5balUZHhe8Sz/lPOwCLMH6IIleChjuABsgu+GQTpVUh4ibgVZcg6rqbVoWROkGoXrP3YHlQWD7Oed0j/NBxLxkUlI/QEHSVKfQ3odZWmwfpa2AgtCi8qhuX5iGC9pKaZ2jRl8Tg8a/iLANTg2rbe4TEmETDBvAvE/aQ8nm/DCmPP6VRRnvJmdb7Gx+fLilHI0jy/8EPwdIRx04OrWAyecF3ATEoUzH6nn1DeW8GrecxvjoXTm/XClksiuNHZu1KkswpyJPj56Z65EQZ2eOeP0R7wTEry/E+4RkOuSzS1sYuy3MJmwLN+dygmY/1hZ+nzni6duCiC/Ip+4LQlwaw9iNQYgJO4PYv2j/p4dIHL9mj3ZqRr5l//uQf6A7nM1V+AjzEdsDm7svgr3vwwfDNw=="),this.addDataEntry("table title",180,150,"Table with Title 2","7Zhdb5swFIZ/DbcTHyVrbiFdb7Kbptq9Cw5YMj7IPi1kv37HYJK1FDWbQoOmSUSyz4dt3id+L/CitGrvNavL75Bz6UV3XpRqAOxHVZtyKb3QF7kXbbww9Onnhd8mskGX9WumucJzGsK+4YXJZ95HHtmT5H3U4EG6qClZbYfYZaOkxIrOuglo2JQC+a5mmc039CYUM8g07sRPG4p8CmSgkAnFtWvKQEpWG9GttukqSiHzLTvAMw77DLNkL1qeP0BjXLeGZkuLGde6p8V37qw2zaQoFI0zEsHumLiX5Bp5OylUF3Iq3XOoOOoDlTQix9JV3PZi+iUXRTm0xS7ITB8ojr0n3WngpH8fQzTCMEmAjoyCyQeeIVPFOTDGWuca6kemC44uUIOwUt29kBpHVYWUKUiwyBQouxFC7ZKS74feJ0CEaiDjhDku2okSJ/SQTKn/JfZiepuU5sFpTo8t15iCMqjpj2LX4Mxgww2eCzB8H+DBSewwfcQzugDOmxHO4KI8lbLVJ55/jMp/gwpI2r2EhqalyHOuztU8+vDS3MykcTzS+Ec3DP2Faz24U1+bGNpQqGLbd65mgNG+BvH7BZgLzupf8LO34JblZ6tP9LOvI5yX5bkcP1tdzc9uJ/1s4VrP52cTMK7gZ+v/fja3n60/0c8Cf8QzWvYl++s7tL6aoQXBpKMtXOz5HG2CxvyORtPTR4Uu9+qbwy8="),this.addDataEntry("crossfunctional cross-functional cross functional flowchart swimlane table",400,400,"Cross-Functional Flowchart","7ZhRb5swEMc/DY+bMCRt97jQpi+tVC2fwINbbMnYyD4C6aefjaHpBrTRlNCoTALJPp9t+P25O5kgTvL6XtOCPaoMRBDfBXGilULfyusEhAiikGdBfBtEUWjvIFqPjJJmNCyoBonHTIj8hB0VJXiL3dyYL+tSpsiVpM55LVSVMqrROxvci9bZMFq4JtKfzrRKGRfZA92rEjtr11tpVT1wCcYOhM5ViTKXry0G7RYb/uwWXDgDw9wCuSW2WTGOsClo6gYri8uvIGhheLN1s4KGtNSG7+AHGL+Os0JdUJm1nUJxiaDvdhZQt/EvJXHTvpTbjAq+lbadgnO1hhYSaIR6FHRjainfg8oB9d66VDxD5j0WoRcjZMC3DP8yUuMN25e5B91so5VuWMa4J+P3FJW2JtLXrOK5oNLJxZTmz/blqXhNp3mO5cpe9smS8OsyWNp5ie2TQ99ezl1joqRBTXmDAajBCgxejprHKBcNK7fvBPIz3hOSRCcQctET8olRA+8JmSopIW2j8GOD6Sji8TDxepT4C9yTE1+OEo/mQ5xcTYn8ahR5PB/k0c2UyK9HC8SbX/mnLBAnqAlD8XK+onDTE+/fw+TiQF9fTin4Nl/O0xYAEs6X9LR5n5Ae6S7xv1lr/yf+4cQ/pN75Ej/pH88/UZyQkRPzR6R+0j9Bz4f0xMm/f8adD+qzZn/bPfw5bMb++LH4Gw=="),this.createVertexTemplateEntry("text;html=1;strokeColor=#c0c0c0;fillColor=#ffffff;overflow=fill;rounded=0;",280,160,'<table border="1" width="100%" height="100%" cellpadding="4" style="width:100%;height:100%;border-collapse:collapse;"><tr style="background-color:#A7C942;color:#ffffff;border:1px solid #98bf21;"><th align="left">Title 1</th><th align="left">Title 2</th><th align="left">Title 3</th></tr><tr style="border:1px solid #98bf21;"><td>Value 1</td><td>Value 2</td><td>Value 3</td></tr><tr style="background-color:#EAF2D3;border:1px solid #98bf21;"><td>Value 4</td><td>Value 5</td><td>Value 6</td></tr><tr style="border:1px solid #98bf21;"><td>Value 7</td><td>Value 8</td><td>Value 9</td></tr><tr style="background-color:#EAF2D3;border:1px solid #98bf21;"><td>Value 10</td><td>Value 11</td><td>Value 12</td></tr></table>',"HTML Table 1"),this.createVertexTemplateEntry("text;html=1;strokeColor=#c0c0c0;fillColor=none;overflow=fill;",180,140,'<table border="0" width="100%" height="100%" style="width:100%;height:100%;border-collapse:collapse;"><tr><td align="center">Value 1</td><td align="center">Value 2</td><td align="center">Value 3</td></tr><tr><td align="center">Value 4</td><td align="center">Value 5</td><td align="center">Value 6</td></tr><tr><td align="center">Value 7</td><td align="center">Value 8</td><td align="center">Value 9</td></tr></table>',"HTML Table 2"),this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;overflow=fill;",180,140,'<table border="1" width="100%" height="100%" style="width:100%;height:100%;border-collapse:collapse;"><tr><td align="center">Value 1</td><td align="center">Value 2</td><td align="center">Value 3</td></tr><tr><td align="center">Value 4</td><td align="center">Value 5</td><td align="center">Value 6</td></tr><tr><td align="center">Value 7</td><td align="center">Value 8</td><td align="center">Value 9</td></tr></table>',"HTML Table 3"),this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;overflow=fill;",160,140,'<table border="1" width="100%" height="100%" cellpadding="4" style="width:100%;height:100%;border-collapse:collapse;"><tr><th align="center"><b>Title</b></th></tr><tr><td align="center">Section 1.1\nSection 1.2\nSection 1.3</td></tr><tr><td align="center">Section 2.1\nSection 2.2\nSection 2.3</td></tr></table>',"HTML Table 4"),this.createVertexTemplateEntry("shape=ext;double=1;rounded=0;",120,80,"","Double Rectangle",null,null,"rect rectangle box double"),this.createVertexTemplateEntry("shape=ext;double=1;rounded=1;",120,80,"","Double Rounded Rectangle",null,null,"rounded rect rectangle box double"),this.createVertexTemplateEntry("ellipse;shape=doubleEllipse;",100,60,"","Double Ellipse",null,null,"oval ellipse start end state double"),this.createVertexTemplateEntry("shape=ext;double=1;aspect=fixed;",80,80,"","Double Square",null,null,"double square"),this.createVertexTemplateEntry("ellipse;shape=doubleEllipse;aspect=fixed;",80,80,"","Double Circle",null,null,"double circle"),this.createEdgeTemplateEntry("rounded=0;comic=1;strokeWidth=2;endArrow=blockThin;fontFamily=Comic Sans MS;fontStyle=1;",50,50,"","Comic Arrow"),this.createVertexTemplateEntry("comic=1;strokeWidth=2;fontFamily=Comic Sans MS;fontStyle=1;",120,60,"RECTANGLE","Comic Rectangle",!0,null,"comic rectangle rect box text retro"),this.createVertexTemplateEntry("rhombus;align=center;comic=1;strokeWidth=2;fontFamily=Comic Sans MS;fontStyle=1;",100,100,"DIAMOND","Comic Diamond",!0,null,"comic diamond rhombus if condition decision conditional question test retro"),this.createVertexTemplateEntry("aspect=fixed;shape=isoRectangle;",150,90,"","Isometric Square",!0,null,"rectangle rect box iso isometric"),this.createVertexTemplateEntry("aspect=fixed;shape=isoCube;backgroundOutline=1;",90,100,"","Isometric Cube",!0,null,"cube box iso isometric"),this.createEdgeTemplateEntry("edgeStyle=isometricEdgeStyle;endArrow=none;",50,100,"","Isometric Edge 1"),this.createEdgeTemplateEntry("edgeStyle=isometricEdgeStyle;endArrow=none;elbow=vertical;",50,100,"","Isometric Edge 2"),this.createVertexTemplateEntry("shape=curlyBracket;rounded=1;",20,120,"","Curly Bracket"),this.createVertexTemplateEntry("line;strokeWidth=2;",160,10,"","Horizontal Line"),this.createVertexTemplateEntry("line;strokeWidth=2;direction=south;",10,160,"","Vertical Line"),this.createVertexTemplateEntry("line;strokeWidth=4;perimeter=backbonePerimeter;points=[];outlineConnect=0;",160,10,"","Horizontal Backbone",!1,null,"backbone bus network"),this.createVertexTemplateEntry("line;strokeWidth=4;direction=south;perimeter=backbonePerimeter;points=[];outlineConnect=0;",10,160,"","Vertical Backbone",!1,null,"backbone bus network"),this.createVertexTemplateEntry("shape=crossbar;rounded=1;",120,20,"","Crossbar",!1,null,"crossbar distance measure dimension unit"),this.createVertexTemplateEntry("shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;imageAspect=1;aspect=fixed;image="+this.gearImage,52,61,"","Image (Fixed Aspect)",!1,null,"fixed image icon symbol"),this.createVertexTemplateEntry("shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;imageAspect=0;image="+this.gearImage,50,60,"","Image (Variable Aspect)",!1,null,"strechted image icon symbol"),this.createVertexTemplateEntry("icon;image="+this.gearImage,60,60,"Icon","Icon",!1,null,"icon image symbol"),this.createVertexTemplateEntry("label;image="+this.gearImage,140,60,"Label","Label 1",null,null,"label image icon symbol"),this.createVertexTemplateEntry("label;align=center;verticalAlign=bottom;spacingLeft=0;spacingBottom=4;imageAlign=center;imageVerticalAlign=top;image="+this.gearImage,120,80,"Label","Label 2",null,null,"label image icon symbol"),this.addEntry("shape group container",function(){var e=new mxCell("Label",new mxGeometry(0,0,160,70),"container=1;recursiveResize=0;collapsible=0;");e.vertex=!0;var l=new mxCell("",new mxGeometry(20,20,20,30),"triangle;");return l.vertex=!0,e.insert(l),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Shape Group")}),this.createEdgeTemplateEntry("edgeStyle=segmentEdgeStyle;endArrow=classic;",50,50,"","Manual Line",null,l+"manual"),this.createEdgeTemplateEntry("shape=filledEdge;rounded=0;fixDash=1;endArrow=none;strokeWidth=10;fillColor=#ffffff;edgeStyle=orthogonalEdgeStyle;",60,40,"","Filled Edge"),this.createEdgeTemplateEntry("edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;",50,50,"","Horizontal Elbow",null,l+"elbow horizontal"),this.createEdgeTemplateEntry("edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=classic;",50,50,"","Vertical Elbow",null,l+"elbow vertical")];this.addPaletteFunctions("misc",mxResources.get("misc"),null==e||e,r)},GE.Sidebar.prototype.addAdvancedPalette=function(e){this.addPaletteFunctions("advanced",mxResources.get("advanced"),null!=e&&e,this.createAdvancedShapes())},GE.Sidebar.prototype.createAdvancedShapes=function(){var e=this,t=new mxCell("List Item",new mxGeometry(0,0,60,26),"text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;");return t.vertex=!0,[this.createVertexTemplateEntry("shape=tapeData;perimeter=ellipsePerimeter;",80,80,"","Tape Data"),this.createVertexTemplateEntry("shape=manualInput;",80,80,"","Manual Input"),this.createVertexTemplateEntry("shape=loopLimit;",100,80,"","Loop Limit"),this.createVertexTemplateEntry("shape=offPageConnector;",80,80,"","Off Page Connector"),this.createVertexTemplateEntry("shape=delay;",80,40,"","Delay"),this.createVertexTemplateEntry("shape=display;",80,40,"","Display"),this.createVertexTemplateEntry("shape=singleArrow;direction=west;",100,60,"","Arrow Left"),this.createVertexTemplateEntry("shape=singleArrow;",100,60,"","Arrow Right"),this.createVertexTemplateEntry("shape=singleArrow;direction=north;",60,100,"","Arrow Up"),this.createVertexTemplateEntry("shape=singleArrow;direction=south;",60,100,"","Arrow Down"),this.createVertexTemplateEntry("shape=doubleArrow;",100,60,"","Double Arrow"),this.createVertexTemplateEntry("shape=doubleArrow;direction=south;",60,100,"","Double Arrow Vertical",null,null,"double arrow"),this.createVertexTemplateEntry("shape=actor;",40,60,"","User",null,null,"user person human"),this.createVertexTemplateEntry("shape=cross;",80,80,"","Cross"),this.createVertexTemplateEntry("shape=corner;",80,80,"","Corner"),this.createVertexTemplateEntry("shape=tee;",80,80,"","Tee"),this.createVertexTemplateEntry("shape=datastore;",60,60,"","Data Store",null,null,"data store cylinder database"),this.createVertexTemplateEntry("shape=orEllipse;perimeter=ellipsePerimeter;backgroundOutline=1;",80,80,"","Or",null,null,"or circle oval ellipse"),this.createVertexTemplateEntry("shape=sumEllipse;perimeter=ellipsePerimeter;backgroundOutline=1;",80,80,"","Sum",null,null,"sum circle oval ellipse"),this.createVertexTemplateEntry("shape=lineEllipse;perimeter=ellipsePerimeter;backgroundOutline=1;",80,80,"","Ellipse with horizontal divider",null,null,"circle oval ellipse"),this.createVertexTemplateEntry("shape=lineEllipse;line=vertical;perimeter=ellipsePerimeter;backgroundOutline=1;",80,80,"","Ellipse with vertical divider",null,null,"circle oval ellipse"),this.createVertexTemplateEntry("shape=sortShape;perimeter=rhombusPerimeter;",80,80,"","Sort",null,null,"sort"),this.createVertexTemplateEntry("shape=collate;",80,80,"","Collate",null,null,"collate"),this.createVertexTemplateEntry("shape=switch;",60,60,"","Switch",null,null,"switch router"),this.addEntry("process bar",function(){return e.createVertexTemplateFromData("zZXRaoMwFIafJpcDjbNrb2233rRQ8AkyPdPQaCRJV+3T7yTG2rUVBoOtgpDzn/xJzncCIdGyateKNeVW5iBI9EqipZLS9KOqXYIQhAY8J9GKUBrgT+jbRDZ02aBhCmrzEwPtDZ9MHKBXdkpmoDWKCVN9VptO+Kw+8kqwGqMkK7nIN6yTB7uTNizbD1FSSsVPsjYMC1qFKHxwIZZSSIVxLZ1/nJNar5+oQPMT7IYCrqUta1ENzuqGaeOFTArBGs3f3Vmtoo2Se7ja1h00kSoHK4bBIKUNy3hdoPYU0mF91i9mT8EEL2ocZ3gKa00ayWujLZY4IfHKFonVDLsRGgXuQ90zBmWgneyTk3yT1iArMKrDKUeem9L3ajHrbSXwohxsQd/ggOleKM7ese048J2/fwuim1uQGmhQCW8vQMkacP3GCQgBFMftHEsr7cYYe95CnmKTPMFbYD8CQ++DGQy+/M5X4ku5wHYmdIktfvk9tecpavThqS3m/0YtnqIWPTy1cD77K2wYjo+Ay317I74A",296,100,"Process Bar")}),this.createVertexTemplateEntry("swimlane;",200,200,"Container","Container",null,null,"container swimlane lane pool group"),this.addEntry("list group erd table",function(){var l=new mxCell("List",new mxGeometry(0,0,140,110),"swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;");return l.vertex=!0,l.insert(e.cloneCell(t,"Item 1")),l.insert(e.cloneCell(t,"Item 2")),l.insert(e.cloneCell(t,"Item 3")),e.createVertexTemplateFromCells([l],l.geometry.width,l.geometry.height,"List")})]},GE.Sidebar.prototype.addUmlPalette=function(e){var t=this,l=new mxCell("+ field: type",new mxGeometry(0,0,100,26),"text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;");l.vertex=!0;var r=new mxCell("",new mxGeometry(0,0,40,8),"line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;");r.vertex=!0;var n="uml static class ",i=[this.createVertexTemplateEntry("",110,50,"Object","Object",null,null,n+"object instance"),this.createVertexTemplateEntry("html=1;",110,50,"&laquo;interface&raquo;<br><b>Name</b>","Interface",null,null,n+"interface object instance annotated annotation"),this.addEntry(n+"object instance",function(){var e=new mxCell("Classname",new mxGeometry(0,0,160,90),"swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;");return e.vertex=!0,e.insert(l.clone()),e.insert(r.clone()),e.insert(t.cloneCell(l,"+ method(type): type")),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Class")}),this.addEntry(n+"section subsection",function(){var e=new mxCell("Classname",new mxGeometry(0,0,140,110),"swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;");return e.vertex=!0,e.insert(l.clone()),e.insert(l.clone()),e.insert(l.clone()),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Class 2")}),this.addEntry(n+"item member method function variable field attribute label",function(){return t.createVertexTemplateFromCells([t.cloneCell(l,"+ item: attribute")],l.geometry.width,l.geometry.height,"Item 1")}),this.addEntry(n+"item member method function variable field attribute label",function(){var e=new mxCell("item: attribute",new mxGeometry(0,0,120,l.geometry.height),"label;fontStyle=0;strokeColor=none;fillColor=none;align=left;verticalAlign=top;overflow=hidden;spacingLeft=28;spacingRight=4;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;imageWidth=16;imageHeight=16;image="+t.gearImage);return e.vertex=!0,t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Item 2")}),this.addEntry(n+"divider hline line separator",function(){return t.createVertexTemplateFromCells([r.clone()],r.geometry.width,r.geometry.height,"Divider")}),this.createVertexTemplateEntry("text;align=center;fontStyle=1;verticalAlign=middle;spacingLeft=3;spacingRight=3;strokeColor=none;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;",80,26,"Title","Title",null,null,n+"title label"),this.addEntry(n+"component",function(){var e=new mxCell("&laquo;Annotation&raquo;<br/><b>Component</b>",new mxGeometry(0,0,180,90),"html=1;dropTarget=0;");e.vertex=!0;var l=new mxCell("",new mxGeometry(1,0,20,20),"shape=component;jettyWidth=8;jettyHeight=4;");return l.vertex=!0,l.geometry.relative=!0,l.geometry.offset=new mxPoint(-27,7),e.insert(l),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Component")}),this.addEntry(n+"component",function(){var e=new mxCell('<p style="margin:0px;margin-top:6px;text-align:center;"><b>组件</b></p><hr/><p style="margin:0px;margin-left:8px;">+ 特性1: ????<br/>+ 特性2: xxxx</p>',new mxGeometry(0,0,180,90),"html=1;align=left;overflow=fill;dropTarget=0;");e.vertex=!0;var l=new mxCell("",new mxGeometry(1,0,20,20),"shape=component;jettyWidth=8;jettyHeight=4;");return l.vertex=!0,l.geometry.relative=!0,l.geometry.offset=new mxPoint(-24,4),e.insert(l),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Component with Attributes")}),this.createVertexTemplateEntry("verticalAlign=top;align=left;spacingTop=8;spacingLeft=2;spacingRight=12;shape=cube;size=10;direction=south;fontStyle=4;",180,120,"Block","Block",null,null,n+"block"),this.createVertexTemplateEntry("shape=module;align=left;spacingLeft=20;align=center;verticalAlign=top;",100,50,"Module","Module",null,null,n+"module component"),this.createVertexTemplateEntry("shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;",70,50,"package","Package",null,null,n+"package"),this.createVertexTemplateEntry("html=1;verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=宋体;",160,90,'<p style="margin:0px;margin-top:4px;text-align:center;text-decoration:underline;"><b>Object:Type</b></p><hr/><p style="margin:0px;margin-left:8px;">field1 = value1<br/>field2 = value2<br>field3 = value3</p>',"Object",null,null,n+"object instance"),this.createVertexTemplateEntry("html=1;verticalAlign=top;align=left;overflow=fill;",180,90,'<div style="box-sizing:border-box;width:100%;background:#e4e4e4;padding:2px;">Tablename</div><table style="width:100%;font-size:1em;" cellpadding="2" cellspacing="0"><tr><td>PK</td><td>uniqueId</td></tr><tr><td>FK1</td><td>foreignKey</td></tr><tr><td></td><td>fieldname</td></tr></table>',"Entity",null,null,"er entity table"),this.addEntry(n+"object instance",function(){var e=new mxCell('<p style="margin:0px;margin-top:4px;text-align:center;"><b>Class</b></p><hr size="1"/><div style="height:2px;"></div>',new mxGeometry(0,0,140,60),"html=1;verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=宋体;");return e.vertex=!0,t.createVertexTemplateFromCells([e.clone()],e.geometry.width,e.geometry.height,"Class 3")}),this.addEntry(n+"object instance",function(){var e=new mxCell('<p style="margin:0px;margin-top:4px;text-align:center;"><b>Class</b></p><hr size="1"/><div style="height:2px;"></div><hr size="1"/><div style="height:2px;"></div>',new mxGeometry(0,0,140,60),"html=1;verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=宋体;");return e.vertex=!0,t.createVertexTemplateFromCells([e.clone()],e.geometry.width,e.geometry.height,"Class 4")}),this.addEntry(n+"object instance",function(){var e=new mxCell('<p style="margin:0px;margin-top:4px;text-align:center;"><b>Class</b></p><hr size="1"/><p style="margin:0px;margin-left:4px;">+ field: Type</p><hr size="1"/><p style="margin:0px;margin-left:4px;">+ method(): Type</p>',new mxGeometry(0,0,160,90),"html=1;verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=宋体;");return e.vertex=!0,t.createVertexTemplateFromCells([e.clone()],e.geometry.width,e.geometry.height,"Class 5")}),this.addEntry(n+"object instance",function(){var e=new mxCell('<p style="margin:0px;margin-top:4px;text-align:center;"><i>&lt;&lt;Interface&gt;&gt;</i><br/><b>Interface</b></p><hr size="1"/><p style="margin:0px;margin-left:4px;">+ field1: Type<br/>+ field2: Type</p><hr size="1"/><p style="margin:0px;margin-left:4px;">+ method1(Type): Type<br/>+ method2(Type, Type): Type</p>',new mxGeometry(0,0,190,140),"html=1;verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=宋体;");return e.vertex=!0,t.createVertexTemplateFromCells([e.clone()],e.geometry.width,e.geometry.height,"Interface 2")}),this.createVertexTemplateEntry("shape=providedRequiredInterface;verticalLabelPosition=bottom;",20,20,"","Provided/Required Interface",null,null,"uml provided required interface lollipop notation"),this.createVertexTemplateEntry("shape=requiredInterface;verticalLabelPosition=bottom;",10,20,"","Required Interface",null,null,"uml required interface lollipop notation"),this.addEntry("uml lollipop notation provided required interface",function(){return t.createVertexTemplateFromData("zVTBrptADPyavVYEkt4b0uQd3pMq5dD2uAUD27dgZJwE8vX1spsQlETtpVWRIjFjex3PmFVJWvc70m31hjlYlXxWSUqI7N/qPgVrVRyZXCUbFceR/FS8fRJdjNGo1QQN/0lB7AuO2h7AM57oeLCBIDw0Obj8SCVrJK6wxEbbV8RWyIWQP4F52Juzq9AHRqEqrm2IQpN/IsKTwAYb8MzWWBuO9B0hL2E2BGsqIQyxvJ9rzApD7QBrYBokhcBqNsf5UbrzsLzmXUu/oJET42jwGat5QYcHyiDkTDLKy03TiRrFfSx08m+FrrQtUkOZvZdbFKThmwMfVhf4fQ43/W3uZriiPPT+KKhjwnf4anKuQv//wsg+NPJ7/9d9Xf7eVykwbeeMOFWGYd/qzEVO8tHP/Suw4a2ujXV/+gXsEdhkOgSC8os44BQt0tggicZHeG1N2QiXibhAV48epRayEDd8MT7Ct06TUaXVWq027tCuhcx5VZjebeeaoDNn/WMcb/p+j0AM/dNr6InLl4Lgzylsk6OCgRWYsuI592gNZh5OhgmcblPv7+1l+ws=",40,10,"Lollipop Notation")}),this.createVertexTemplateEntry("shape=umlBoundary;",100,80,"Boundary Object","Boundary Object",null,null,"uml boundary object"),this.createVertexTemplateEntry("ellipse;shape=umlEntity;",80,80,"Entity Object","Entity Object",null,null,"uml entity object"),this.createVertexTemplateEntry("ellipse;shape=umlControl;",70,80,"Control Object","Control Object",null,null,"uml control object"),this.createVertexTemplateEntry("shape=umlActor;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;",30,60,"Actor","Actor",!1,null,"uml actor"),this.createVertexTemplateEntry("ellipse;",140,70,"Use Case","Use Case",null,null,"uml use case usecase"),this.addEntry("uml activity state start",function(){var e=new mxCell("",new mxGeometry(0,0,30,30),"ellipse;shape=startState;fillColor=#000000;strokeColor=#ff0000;");e.vertex=!0;var l=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;");return l.geometry.setTerminalPoint(new mxPoint(15,90),!1),l.geometry.relative=!0,l.edge=!0,e.insertEdge(l,!0),t.createVertexTemplateFromCells([e,l],30,90,"Start")}),this.addEntry("uml activity state",function(){var e=new mxCell("Activity",new mxGeometry(0,0,120,40),"rounded=1;arcSize=40;fontColor=#000000;fillColor=#ffffc0;strokeColor=#ff0000;");e.vertex=!0;var l=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;");return l.geometry.setTerminalPoint(new mxPoint(60,100),!1),l.geometry.relative=!0,l.edge=!0,e.insertEdge(l,!0),t.createVertexTemplateFromCells([e,l],120,100,"Activity")}),this.addEntry("uml activity composite state",function(){var e=new mxCell("Composite State",new mxGeometry(0,0,160,60),"swimlane;fontStyle=1;align=center;verticalAlign=middle;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=0;resizeLast=1;container=0;fontColor=#000000;collapsible=0;rounded=1;arcSize=30;strokeColor=#ff0000;fillColor=#ffffc0;swimlaneFillColor=#ffffc0;dropTarget=0;");e.vertex=!0;var l=new mxCell("Subtitle",new mxGeometry(0,0,200,26),"text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;fontColor=#000000;");l.vertex=!0,e.insert(l);var r=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;");return r.geometry.setTerminalPoint(new mxPoint(80,120),!1),r.geometry.relative=!0,r.edge=!0,e.insertEdge(r,!0),t.createVertexTemplateFromCells([e,r],160,120,"Composite State")}),this.addEntry("uml activity condition",function(){var e=new mxCell("Condition",new mxGeometry(0,0,80,40),"rhombus;fillColor=#ffffc0;strokeColor=#ff0000;");e.vertex=!0;var l=new mxCell("no",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;");l.geometry.setTerminalPoint(new mxPoint(180,20),!1),l.geometry.relative=!0,l.geometry.x=-1,l.edge=!0,e.insertEdge(l,!0);var r=new mxCell("yes",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=top;endArrow=open;endSize=8;strokeColor=#ff0000;");return r.geometry.setTerminalPoint(new mxPoint(40,100),!1),r.geometry.relative=!0,r.geometry.x=-1,r.edge=!0,e.insertEdge(r,!0),t.createVertexTemplateFromCells([e,l,r],180,100,"Condition")}),this.addEntry("uml activity fork join",function(){var e=new mxCell("",new mxGeometry(0,0,200,10),"shape=line;strokeWidth=6;strokeColor=#ff0000;");e.vertex=!0;var l=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;");return l.geometry.setTerminalPoint(new mxPoint(100,80),!1),l.geometry.relative=!0,l.edge=!0,e.insertEdge(l,!0),t.createVertexTemplateFromCells([e,l],200,80,"Fork/Join")}),this.createVertexTemplateEntry("ellipse;shape=endState;fillColor=#000000;strokeColor=#ff0000;",30,30,"","End",null,null,"uml activity state end"),this.createVertexTemplateEntry("shape=umlLifeline;perimeter=lifelinePerimeter;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;",100,300,":Object","Lifeline",null,null,"uml sequence participant lifeline"),this.createVertexTemplateEntry("shape=umlLifeline;participant=umlActor;perimeter=lifelinePerimeter;container=1;collapsible=0;recursiveResize=0;verticalAlign=top;spacingTop=36;labelBackgroundColor=#ffffff;outlineConnect=0;",20,300,"","Actor Lifeline",null,null,"uml sequence participant lifeline actor"),this.createVertexTemplateEntry("shape=umlLifeline;participant=umlBoundary;perimeter=lifelinePerimeter;container=1;collapsible=0;recursiveResize=0;verticalAlign=top;spacingTop=36;labelBackgroundColor=#ffffff;outlineConnect=0;",50,300,"","Boundary Lifeline",null,null,"uml sequence participant lifeline boundary"),this.createVertexTemplateEntry("shape=umlLifeline;participant=umlEntity;perimeter=lifelinePerimeter;container=1;collapsible=0;recursiveResize=0;verticalAlign=top;spacingTop=36;labelBackgroundColor=#ffffff;outlineConnect=0;",40,300,"","Entity Lifeline",null,null,"uml sequence participant lifeline entity"),this.createVertexTemplateEntry("shape=umlLifeline;participant=umlControl;perimeter=lifelinePerimeter;container=1;collapsible=0;recursiveResize=0;verticalAlign=top;spacingTop=36;labelBackgroundColor=#ffffff;outlineConnect=0;",40,300,"","Control Lifeline",null,null,"uml sequence participant lifeline control"),this.createVertexTemplateEntry("shape=umlFrame;",300,200,"frame","Frame",null,null,"uml sequence frame"),this.createVertexTemplateEntry("shape=umlDestroy;strokeWidth=3;",30,30,"","Destruction",null,null,"uml sequence destruction destroy"),this.createVertexTemplateEntry("shape=note;size=14;verticalAlign=top;align=left;spacingTop=-6;",100,70,"Note","Note",null,null,"uml note"),this.addEntry("uml sequence invoke invocation call activation",function(){var e=new mxCell("",new mxGeometry(0,0,10,80),"points=[];perimeter=orthogonalPerimeter;");e.vertex=!0;var l=new mxCell("dispatch",new mxGeometry(0,0,0,0),"verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;");return l.geometry.setTerminalPoint(new mxPoint(-60,0),!0),l.geometry.relative=!0,l.edge=!0,e.insertEdge(l,!1),t.createVertexTemplateFromCells([e,l],10,80,"Found Message")}),this.addEntry("uml sequence invoke call delegation synchronous invocation activation",function(){var e=new mxCell("",new mxGeometry(0,0,10,80),"points=[];perimeter=orthogonalPerimeter;");e.vertex=!0;var l=new mxCell("dispatch",new mxGeometry(0,0,0,0),"verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;");l.geometry.setTerminalPoint(new mxPoint(-70,0),!0),l.geometry.relative=!0,l.edge=!0,e.insertEdge(l,!1);var r=new mxCell("return",new mxGeometry(0,0,0,0),"verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;");return r.geometry.setTerminalPoint(new mxPoint(-70,76),!1),r.geometry.relative=!0,r.edge=!0,e.insertEdge(r,!0),t.createVertexTemplateFromCells([e,l,r],10,80,"Synchronous Invocation")}),this.addEntry("uml sequence self call recursion delegation activation",function(){var e=new mxCell("",new mxGeometry(0,20,10,40),"points=[];perimeter=orthogonalPerimeter;");e.vertex=!0;var l=new mxCell("self call",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;");return l.geometry.setTerminalPoint(new mxPoint(5,0),!0),l.geometry.points=[new mxPoint(30,0)],l.geometry.relative=!0,l.edge=!0,e.insertEdge(l,!1),t.createVertexTemplateFromCells([e,l],10,60,"Self Call")}),this.addEntry("uml sequence invoke call delegation callback activation",function(){return t.createVertexTemplateFromData("xZRNT8MwDIZ/Ta6oaymD47rBTkiTuMAxW6wmIm0q19s6fj1OE3V0Y2iCA4dK8euP2I+riGxedUuUjX52CqzIHkU2R+conKpuDtaKNDFKZAuRpgl/In264J303qSRCDVdk5CGhJ20WwhKEFo62ChoqritxURkReNMTa2X80LkC68AmgoIkEWHpF3pamlXR7WIFwASdBeb7KXY4RIc5+KBQ/ZGkY4RYY5Egyl1zLqLmmyDXQ6Zx4n5EIf+HkB2BmAjrV3LzftPIPw4hgNn1pQ1a2tH5Cp2QK1miG7vNeu4iJe4pdeY2BtvbCQDGlAljMCQxBJotJ8rWCFYSWY3LvUdmZi68rvkkLiU6QnL1m1xAzHoBOdw61WEb88II9AW67/ydQ2wq1Cy1aAGvOrFfPh6997qDA3g+dxzv3nIL6MPU/8T+kMw8+m4QPgdfrEJNo8PSQj/+s58Ag==",10,60,"Callback")}),this.createVertexTemplateEntry("points=[];perimeter=orthogonalPerimeter;",10,80,"","Activation",null,null,"uml sequence activation"),this.createEdgeTemplateEntry("verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;",60,0,"dispatch","Found Message 1",null,"uml sequence message call invoke dispatch"),this.createEdgeTemplateEntry("verticalAlign=bottom;startArrow=circle;startFill=1;endArrow=open;startSize=6;endSize=8;",80,0,"dispatch","Found Message 2",null,"uml sequence message call invoke dispatch"),this.createEdgeTemplateEntry("verticalAlign=bottom;endArrow=block;",80,0,"dispatch","Message",null,"uml sequence message call invoke dispatch"),this.addEntry("uml sequence return message",function(){var e=new mxCell("return",new mxGeometry(0,0,0,0),"verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;");return e.geometry.setTerminalPoint(new mxPoint(80,0),!0),e.geometry.setTerminalPoint(new mxPoint(0,0),!1),e.geometry.relative=!0,e.edge=!0,t.createEdgeTemplateFromCells([e],80,0,"Return")}),this.addEntry("uml relation",function(){var e=new mxCell("name",new mxGeometry(0,0,0,0),"endArrow=block;endFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=top;");e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(160,0),!1),e.geometry.relative=!0,e.geometry.x=-1,e.edge=!0;var l=new mxCell("1",new mxGeometry(-1,0,0,0),"resizable=0;align=left;verticalAlign=bottom;labelBackgroundColor=#ffffff;fontSize=10;");return l.geometry.relative=!0,l.setConnectable(!1),l.vertex=!0,e.insert(l),t.createEdgeTemplateFromCells([e],160,0,"Relation 1")}),this.addEntry("uml association",function(){var e=new mxCell("",new mxGeometry(0,0,0,0),"endArrow=none;edgeStyle=orthogonalEdgeStyle;");e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(160,0),!1),e.geometry.relative=!0,e.edge=!0;var l=new mxCell("parent",new mxGeometry(-1,0,0,0),"resizable=0;align=left;verticalAlign=bottom;labelBackgroundColor=#ffffff;fontSize=10;");l.geometry.relative=!0,l.setConnectable(!1),l.vertex=!0,e.insert(l);var r=new mxCell("child",new mxGeometry(1,0,0,0),"resizable=0;align=right;verticalAlign=bottom;labelBackgroundColor=#ffffff;fontSize=10;");return r.geometry.relative=!0,r.setConnectable(!1),r.vertex=!0,e.insert(r),t.createEdgeTemplateFromCells([e],160,0,"Association 1")}),this.addEntry("uml aggregation",function(){var e=new mxCell("1",new mxGeometry(0,0,0,0),"endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;");return e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(160,0),!1),e.geometry.relative=!0,e.geometry.x=-1,e.geometry.y=3,e.edge=!0,t.createEdgeTemplateFromCells([e],160,0,"Aggregation 1")}),this.addEntry("uml composition",function(){var e=new mxCell("1",new mxGeometry(0,0,0,0),"endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;");return e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(160,0),!1),e.geometry.relative=!0,e.geometry.x=-1,e.geometry.y=3,e.edge=!0,t.createEdgeTemplateFromCells([e],160,0,"Composition 1")}),this.addEntry("uml relation",function(){var e=new mxCell("Relation",new mxGeometry(0,0,0,0),"endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;");e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(160,0),!1),e.geometry.relative=!0,e.edge=!0;var l=new mxCell("0..n",new mxGeometry(-1,0,0,0),"resizable=0;align=left;verticalAlign=top;labelBackgroundColor=#ffffff;fontSize=10;");l.geometry.relative=!0,l.setConnectable(!1),l.vertex=!0,e.insert(l);var r=new mxCell("1",new mxGeometry(1,0,0,0),"resizable=0;align=right;verticalAlign=top;labelBackgroundColor=#ffffff;fontSize=10;");return r.geometry.relative=!0,r.setConnectable(!1),r.vertex=!0,e.insert(r),t.createEdgeTemplateFromCells([e],160,0,"Relation 2")}),this.createEdgeTemplateEntry("endArrow=open;endSize=12;dashed=1;",160,0,"Use","Dependency",null,"uml dependency use"),this.createEdgeTemplateEntry("endArrow=block;endSize=16;endFill=0;",160,0,"Extends","Generalization",null,"uml generalization extend"),this.createEdgeTemplateEntry("endArrow=block;startArrow=block;endFill=1;startFill=1;",160,0,"","Association 2",null,"uml association"),this.createEdgeTemplateEntry("endArrow=open;startArrow=circlePlus;endFill=0;startFill=0;endSize=8;",160,0,"","Inner Class",null,"uml inner class"),this.createEdgeTemplateEntry("endArrow=open;startArrow=cross;endFill=0;startFill=0;endSize=8;startSize=10;",160,0,"","Terminate",null,"uml terminate"),this.createEdgeTemplateEntry("endArrow=block;dashed=1;endFill=0;endSize=12;",160,0,"","Implementation",null,"uml realization implementation"),this.createEdgeTemplateEntry("endArrow=diamondThin;endFill=0;endSize=24;",160,0,"","Aggregation 2",null,"uml aggregation"),this.createEdgeTemplateEntry("endArrow=diamondThin;endFill=1;endSize=24;",160,0,"","Composition 2",null,"uml composition"),this.createEdgeTemplateEntry("endArrow=open;endFill=1;endSize=12;",160,0,"","Association 3",null,"uml association")];this.addPaletteFunctions("uml",mxResources.get("uml"),e||!1,i)},GE.Sidebar.prototype.addBpmnPalette=function(e){var t=this,l=[this.createVertexTemplateEntry("shape=ext;rounded=1;",120,80,"Task","Process",null,null,"bpmn task process"),this.createVertexTemplateEntry("shape=ext;rounded=1;double=1;",120,80,"Transaction","Transaction",null,null,"bpmn transaction"),this.createVertexTemplateEntry("shape=ext;rounded=1;dashed=1;dashPattern=1 4;",120,80,"Event\nSub-Process","Event Sub-Process",null,null,"bpmn event subprocess sub process sub-process"),this.createVertexTemplateEntry("shape=ext;rounded=1;strokeWidth=3;",120,80,"Call Activity","Call Activity",null,null,"bpmn call activity"),this.addEntry("bpmn subprocess sub process sub-process",function(){var e=new mxCell("Sub-Process",new mxGeometry(0,0,120,80),"rounded=1;dropTarget=0;");e.vertex=!0;var l=new mxCell("",new mxGeometry(.5,1,14,14),"shape=plus;outlineConnect=0;");return l.vertex=!0,l.geometry.relative=!0,l.geometry.offset=new mxPoint(-7,-14),e.insert(l),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Sub-Process")}),this.addEntry(this.getTagsForStencil("mxgraph.bpmn","loop","subprocess sub process sub-process looped").join(" "),function(){var e=new mxCell("Looped\nSub-Process",new mxGeometry(0,0,120,80),"rounded=1;dropTarget=0;");e.vertex=!0;var l=new mxCell("",new mxGeometry(.5,1,14,14),"shape=mxgraph.bpmn.loop;outlineConnect=0;");l.vertex=!0,l.geometry.relative=!0,l.geometry.offset=new mxPoint(-15,-14),e.insert(l);var r=new mxCell("",new mxGeometry(.5,1,14,14),"shape=plus;");return r.vertex=!0,r.geometry.relative=!0,r.geometry.offset=new mxPoint(1,-14),e.insert(r),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Looped Sub-Process")}),this.addEntry("bpmn receive task",function(){var e=new mxCell("Receive",new mxGeometry(0,0,120,80),"rounded=1;dropTarget=0;");e.vertex=!0;var l=new mxCell("",new mxGeometry(0,0,20,14),"shape=message;outlineConnect=0;");return l.vertex=!0,l.geometry.relative=!0,l.geometry.offset=new mxPoint(7,7),e.insert(l),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Receive Task")}),this.addEntry(this.getTagsForStencil("mxgraph.bpmn","user_task").join(" "),function(){var e=new mxCell("User",new mxGeometry(0,0,120,80),"rounded=1;dropTarget=0;");e.vertex=!0;var l=new mxCell("",new mxGeometry(0,0,14,14),"shape=mxgraph.bpmn.user_task;outlineConnect=0;");l.vertex=!0,l.geometry.relative=!0,l.geometry.offset=new mxPoint(7,7),e.insert(l);var r=new mxCell("",new mxGeometry(.5,1,14,14),"shape=plus;outlineConnect=0;");return r.vertex=!0,r.geometry.relative=!0,r.geometry.offset=new mxPoint(-7,-14),e.insert(r),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"User Task")}),this.addEntry(this.getTagsForStencil("mxgraph.bpmn","timer_start","attached").join(" "),function(){var e=new mxCell("Process",new mxGeometry(0,0,120,80),"rounded=1;dropTarget=0;");e.vertex=!0;var l=new mxCell("",new mxGeometry(1,1,30,30),"shape=mxgraph.bpmn.timer_start;perimeter=ellipsePerimeter;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;outlineConnect=0;");return l.vertex=!0,l.geometry.relative=!0,l.geometry.offset=new mxPoint(-40,-15),e.insert(l),t.createVertexTemplateFromCells([e],120,95,"Attached Timer Event 1")}),this.addEntry(this.getTagsForStencil("mxgraph.bpmn","timer_start","attached").join(" "),function(){var e=new mxCell("Process",new mxGeometry(0,0,120,80),"rounded=1;dropTarget=0;");e.vertex=!0;var l=new mxCell("",new mxGeometry(1,0,30,30),"shape=mxgraph.bpmn.timer_start;perimeter=ellipsePerimeter;labelPosition=right;labelBackgroundColor=#ffffff;align=left;outlineConnect=0;");return l.vertex=!0,l.geometry.relative=!0,l.geometry.offset=new mxPoint(-15,10),e.insert(l),t.createVertexTemplateFromCells([e],135,80,"Attached Timer Event 2")}),this.createVertexTemplateEntry("swimlane;horizontal=0;startSize=20;",320,240,"Pool","Pool",null,null,"bpmn pool"),this.createVertexTemplateEntry("swimlane;horizontal=0;swimlaneLine=0;",300,120,"Lane","Lane",null,null,"bpmn lane"),this.createVertexTemplateEntry("shape=hexagon;perimeter=hexagonPerimeter;rounded=0;",60,50,"","Conversation",null,null,"bpmn conversation"),this.createVertexTemplateEntry("shape=hexagon;perimeter=hexagonPerimeter;strokeWidth=4;rounded=0;",60,50,"","Call Conversation",null,null,"bpmn call conversation"),this.addEntry("bpmn subconversation sub conversation sub-conversation",function(){var e=new mxCell("",new mxGeometry(0,0,60,50),"shape=hexagon;perimeter=hexagonPerimeter;rounded=0;dropTarget=0;");e.vertex=!0;var l=new mxCell("",new mxGeometry(.5,1,14,14),"shape=plus;");return l.vertex=!0,l.geometry.relative=!0,l.geometry.offset=new mxPoint(-7,-14),e.insert(l),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Sub-Conversation")}),this.addEntry("bpmn data object",function(){var e=new mxCell("",new mxGeometry(0,0,40,60),"shape=note;size=16;dropTarget=0;");e.vertex=!0;var l=new mxCell("",new mxGeometry(0,0,14,14),"shape=singleArrow;arrowWidth=0.4;arrowSize=0.4;outlineConnect=0;");l.vertex=!0,l.geometry.relative=!0,l.geometry.offset=new mxPoint(2,2),e.insert(l);var r=new mxCell("",new mxGeometry(.5,1,14,14),"shape=parallelMarker;outlineConnect=0;");return r.vertex=!0,r.geometry.relative=!0,r.geometry.offset=new mxPoint(-7,-14),e.insert(r),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Data Object")}),this.createVertexTemplateEntry("shape=datastore;",60,60,"","Data Store",null,null,"bpmn data store"),this.createVertexTemplateEntry("shape=plus;outlineConnect=0;",140,140,"","Sub-Process Marker",null,null,"bpmn subprocess sub process sub-process marker"),this.createVertexTemplateEntry("shape=mxgraph.bpmn.loop;outlineConnect=0;",140,140,"","Loop Marker",null,null,"bpmn loop marker"),this.createVertexTemplateEntry("shape=parallelMarker;outlineConnect=0;",140,140,"","Parallel MI Marker",null,null,"bpmn parallel mi marker"),this.createVertexTemplateEntry("shape=parallelMarker;direction=south;outlineConnect=0;",14,14,"","Sequential MI Marker",null,null,"bpmn sequential mi marker"),this.createVertexTemplateEntry("shape=mxgraph.bpmn.ad_hoc;fillColor=#000000;outlineConnect=0;",14,14,"","Ad Hoc Marker",null,null,"bpmn ad hoc marker"),this.createVertexTemplateEntry("shape=mxgraph.bpmn.compensation;outlineConnect=0;",14,14,"","Compensation Marker",null,null,"bpmn compensation marker"),this.createVertexTemplateEntry("shape=message;outlineConnect=0;fillColor=#000000;strokeColor=#ffffff;strokeWidth=2;",40,30,"","Send Task",null,null,"bpmn send task"),this.createVertexTemplateEntry("shape=message;outlineConnect=0;",40,30,"","Receive Task",null,null,"bpmn receive task"),this.createVertexTemplateEntry("shape=mxgraph.bpmn.user_task;outlineConnect=0;",140,140,"","User Task",null,null,this.getTagsForStencil("mxgraph.bpmn","user_task").join(" ")),this.createVertexTemplateEntry("shape=mxgraph.bpmn.manual_task;outlineConnect=0;",140,140,"","Manual Task",null,null,this.getTagsForStencil("mxgraph.bpmn","user_task").join(" ")),this.createVertexTemplateEntry("shape=mxgraph.bpmn.business_rule_task;outlineConnect=0;",140,140,"","Business Rule Task",null,null,this.getTagsForStencil("mxgraph.bpmn","business_rule_task").join(" ")),this.createVertexTemplateEntry("shape=mxgraph.bpmn.service_task;outlineConnect=0;",140,140,"","Service Task",null,null,this.getTagsForStencil("mxgraph.bpmn","service_task").join(" ")),this.createVertexTemplateEntry("shape=mxgraph.bpmn.script_task;outlineConnect=0;",140,140,"","Script Task",null,null,this.getTagsForStencil("mxgraph.bpmn","script_task").join(" ")),this.createVertexTemplateEntry("shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;",50,100,"","Annotation",null,null,this.getTagsForStencil("bpmn","annotation_1","bpmn business process model ").join(" ")),this.addDataEntry("container swimlane pool horizontal",480,380,"Horizontal Pool 1","zZRLbsIwEIZP4709TlHXhJYNSEicwCIjbNWJkWNKwumZxA6IlrRUaisWlmb+eX8LM5mXzdyrnV66Ai2TL0zm3rkQrbLJ0VoG3BRMzhgAp8fgdSQq+ijfKY9VuKcAYsG7snuMyso5G8U6tDaJ9cGUVlXkTXUoacuZIHOjjS0WqnX7blYd1OZt8KYea3PE1bCI+CAtVUMq7/o5b46uCmroSn18WFMm+XCdse5GpLq0OPqAzejxvZQun6MrMfiWUg6mCDpmZM8RENdotjqVyUFUdRS259oLSzISztto5Se0i44gcHEn3i9A/IQB3GbQpmi69DskAn4BSTaGBB4Jicj+k8nTGBP5SExg8odMyL38eH3s6kM8AQ=="),this.addDataEntry("container swimlane pool horizontal",480,360,"Horizontal Pool 2","zZTBbsIwDIafJvfU6dDOlI0LSEg8QUQtEi1tUBJGy9PPbcJQWTsxaZs4VLJ//07sT1WYKKpm6eRBrW2JhokXJgpnbYhR1RRoDAOuSyYWDIDTx+B1opr1VX6QDutwTwPEhndpjhiVjbUmij60Jon+pCsja8rmKlQ05SKjcKe0KVeytcfuLh/k7u2SzR16fcbNZZDsRlrLhlTenWedPts6SJMEOseFLTkph6Fj212RbGlwdAGbyeV7KW2+RFthcC1ZTroMKjry5wiIK9R7ldrELInSR2H/2XtlSUHCOY5WfEG76ggCz+7E+w2InzCAcQapIf0fAySzESQZ/AKSfAoJPCKS9mbzf0H0NIVIPDAiyP8QEaXX97CvDZ7LDw=="),this.createVertexTemplateEntry("swimlane;startSize=20;horizontal=0;",320,120,"Lane","Horizontal Swimlane",null,null,"swimlane lane pool"),this.addDataEntry("container swimlane pool horizontal",360,480,"Vertical Pool 1","xZRBbsIwEEVP4709ThFrQssGJKSewCIjbNXGyDEl4fSdxKa0NJFQVTULSzP/e+T5b2EmS9esgjrqja/QMvnMZBm8j6lyTYnWMuCmYnLJADgdBi8jruhdflQBD/GRAUgD78qeMClb720S69jaLNZn46w6ULfQ0dGWS0HlThtbrVXrT91bdVS7t2u3CFibC26vi4g7aaMaUjmpNBbiKxnUQyfkjTBEbEZT9VKOtELvMIaWrpxNFXW6IWcpOddo9jqPFfMsqjoJ+8/ZGyQqMqdhZvIHs3WHBrh4kNvvIsNw5Da7OdgXAgKGCMz+gEAxRgCmINDcxZ2CyNMYETkhESj+jwi1t1+r9759ah8="),this.addDataEntry("container swimlane pool vertical",380,480,"Vertical Pool 2","xZTPbsIwDMafJvf86dDOlI0LSEg8QUQtEi1pUBJGy9PPbdJ1G1TqhXGoZH/219g/RSGitM3ay5PaugoMEW9ElN65mCLblGAM4VRXRKwI5xQ/wt8nqqyv0pP0UMc5Bp4Mn9KcISk750wSQ2xNFsNFWyNrzJYqWpxyxTA8KG2qjWzduTsrRHn4GLKlh6CvsBsGYX+krWxQpaiizcc9FjDnnaCc11dXR2lyxyjsuyPy3/Lg4CM0k8v3Ut58Dc5C9C22XHQVVeoQrwkQVaCPKtuKQZQhCcdv78gSg4zzPlpxg3bTEeSUzcR7Q2bWyvz+ytmQr8NPAow/ikAxRYA/kQAr/hPByxQC8cxLsHggAkzH56uv/XrdvgA="),this.createVertexTemplateEntry("swimlane;startSize=20;",120,320,"Lane","Vertical Swimlane",null,null,"swimlane lane pool"),this.createVertexTemplateEntry("rounded=1;arcSize=10;dashed=1;strokeColor=#000000;fillColor=none;gradientColor=none;dashPattern=8 3 1 3;strokeWidth=2;",200,200,"","Group",null,null,this.getTagsForStencil("bpmn","group","bpmn business process model ").join(" ")),this.createEdgeTemplateEntry("endArrow=block;endFill=1;endSize=6;",100,0,"","Sequence Flow",null,"bpmn sequence flow"),this.createEdgeTemplateEntry("startArrow=dash;startSize=8;endArrow=block;endFill=1;endSize=6;",100,0,"","Default Flow",null,"bpmn default flow"),this.createEdgeTemplateEntry("startArrow=diamondThin;startFill=0;startSize=14;endArrow=block;endFill=1;endSize=6;",100,0,"","Conditional Flow",null,"bpmn conditional flow"),this.createEdgeTemplateEntry("startArrow=oval;startFill=0;startSize=7;endArrow=block;endFill=0;endSize=10;dashed=1;",100,0,"","Message Flow 1",null,"bpmn message flow"),this.addEntry("bpmn message flow",function(){var e=new mxCell("",new mxGeometry(0,0,0,0),"startArrow=oval;startFill=0;startSize=7;endArrow=block;endFill=0;endSize=10;dashed=1;");e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(100,0),!1),e.geometry.relative=!0,e.edge=!0;var l=new mxCell("",new mxGeometry(0,0,20,14),"shape=message;outlineConnect=0;");return l.geometry.relative=!0,l.vertex=!0,l.geometry.offset=new mxPoint(-10,-7),e.insert(l),t.createEdgeTemplateFromCells([e],100,0,"Message Flow 2")}),this.createEdgeTemplateEntry("shape=link;",100,0,"","Link",null,"bpmn link")];this.addPaletteFunctions("bpmn","业务流程",e,l)},GE.Sidebar.prototype.createTitle=function(e){var t=document.createElement("a");return t.setAttribute("title",mxResources.get("sidebarTooltip")),t.className="geTitle",mxUtils.write(t,e),t},GE.Sidebar.prototype.createThumb=function(e,t,l,r,n,i,o,a,s){this.graph.labelsVisible=null==i||i;var d=GE.NO_FO;GE.NO_FO=GE.Editor.prototype.originalNoForeignObject,this.graph.view.scaleAndTranslate(1,0,0),this.graph.addCells(e);var m=this.graph.getGraphBounds(),h=Math.floor(100*Math.min((t-2*this.thumbBorder)/m.width,(l-2*this.thumbBorder)/m.height))/100;this.graph.view.scaleAndTranslate(h,Math.floor((t-m.width*h)/2/h-m.x),Math.floor((l-m.height*h)/2/h-m.y));var p=null;if(this.graph.dialect!=mxConstants.DIALECT_SVG||GE.NO_FO||null==this.graph.view.getCanvas().ownerSVGElement?(p=this.graph.container.cloneNode(!1)).innerHTML=this.graph.container.innerHTML:p=this.graph.view.getCanvas().ownerSVGElement.cloneNode(!0),this.graph.getModel().clear(),GE.NO_FO=d,p.style.position="relative",p.style.overflow="hidden",p.style.left=this.thumbBorder+"px",p.style.top=this.thumbBorder+"px",p.style.width=t+"px",p.style.height=l+"px",p.style.visibility="",p.style.minWidth="",p.style.minHeight="",r.appendChild(p),this.sidebarTitles&&null!=n&&0!=o){r.style.height=this.thumbHeight+this.sidebarTitleSize+8+"px";var c=document.createElement("div");c.style.fontSize=this.sidebarTitleSize+"px",c.style.color="#303030",c.style.textAlign="center",c.style.whiteSpace="nowrap",c.style.paddingTop="4px",mxUtils.write(c,n),r.appendChild(c)}return m},GE.Sidebar.prototype.createItem=function(e,t,l,r,n,i,o){var a=document.createElement("a");a.className="geItem",a.style.overflow="hidden";var s=2*this.thumbBorder;a.style.width=this.thumbWidth+s+"px",a.style.height=this.thumbHeight+s+"px",a.style.padding=this.thumbPadding+"px",mxEvent.addListener(a,"click",function(e){mxEvent.consume(e)}),this.createThumb(e,this.thumbWidth,this.thumbHeight,a,t,l,r,n,i);var d=new mxRectangle(0,0,n,i);if(e.length>1||e[0].vertex){var m=this.createDragSource(a,this.createDropHandler(e,!0,o,d),this.createDragPreview(n,i),e,d);this.addClickHandler(a,m,e),a.ds=m,m.isGuidesEnabled=mxUtils.bind(this,function(){return this.editorUi.editor.graph.graphHandler.guidesEnabled})}else if(null!=e[0]&&e[0].edge){m=this.createDragSource(a,this.createDropHandler(e,!1,o,d),this.createDragPreview(n,i),e,d);this.addClickHandler(a,m,e)}return GE.IS_IOS||mxEvent.addGestureListeners(a,null,mxUtils.bind(this,function(r){mxEvent.isMouseEvent(r)&&this.showTooltip(a,e,d.width,d.height,t,l)})),a},GE.Sidebar.prototype.updateShapes=function(e,t){var l=this.editorUi.editor.graph,r=l.getCellStyle(e),n=[];l.model.beginUpdate();try{for(var i=l.getModel().getStyle(e),o=["shadow","dashed","dashPattern","fontFamily","fontSize","fontColor","align","startFill","startSize","endFill","endSize","strokeColor","strokeWidth","fillColor","gradientColor","html","part","noEdgeStyle","edgeStyle","elbow","childLayout","recursiveResize","container","collapsible","connectable"],a=0;a<t.length;a++){var s=t[a];if(l.getModel().isVertex(s)==l.getModel().isVertex(e)||l.getModel().isEdge(s)==l.getModel().isEdge(e)){var d=l.getCurrentCellStyle(t[a]);if(l.getModel().setStyle(s,i),"1"==mxUtils.getValue(d,"composite","0"))for(var m=l.model.getChildCount(s);m>=0;m--)l.model.remove(l.model.getChildAt(s,m));"umlLifeline"==d[mxConstants.STYLE_SHAPE]&&"umlLifeline"!=r[mxConstants.STYLE_SHAPE]&&(l.setCellStyles(mxConstants.STYLE_SHAPE,"umlLifeline",[s]),l.setCellStyles("participant",r[mxConstants.STYLE_SHAPE],[s]));for(m=0;m<o.length;m++){var h=d[o[m]];null!=h&&l.setCellStyles(o[m],h,[s])}n.push(s)}}}finally{l.model.endUpdate()}return n},GE.Sidebar.prototype.createDropHandler=function(e,t,l,r){return l=null==l||l,mxUtils.bind(this,function(n,i,o,a,s,d){for(var m=d?null:mxEvent.isTouchEvent(i)||mxEvent.isPenEvent(i)?document.elementFromPoint(mxEvent.getClientX(i),mxEvent.getClientY(i)):mxEvent.getSource(i);null!=m&&m!=this.container;)m=m.parentNode;if(null==m&&n.isEnabled()){if((e=n.getImportableCells(e)).length>0){n.stopEditing();var h=null!=o&&!mxEvent.isAltDown(i)&&n.isValidDropTarget(o,e,i),p=null;if(null==o||h||(o=null),!n.isCellLocked(o||n.getDefaultParent())){n.model.beginUpdate();try{if(a=Math.round(a),s=Math.round(s),t&&n.isSplitTarget(o,e,i)){var c=n.view.scale,u=(a+(f=n.view.translate).x)*c,g=(s+f.y)*c,y=n.cloneCells(e);n.splitEdge(o,y,null,a-r.width/2,s-r.height/2,u,g),p=y}else e.length>0&&(p=n.importCells(e,a,s,o));if(null!=n.layoutManager){var x=n.layoutManager.getLayout(o);if(null!=x){c=n.view.scale,u=(a+(f=n.view.translate).x)*c,g=(s+f.y)*c;for(var f,E=0;E<p.length;E++)x.moveCell(p[E],u,g)}}!l||null!=i&&mxEvent.isShiftDown(i)||n.fireEvent(new mxEventObject("cellsInserted","cells",p))}catch(e){this.editorUi.handleError(e)}finally{n.model.endUpdate()}null!=p&&p.length>0&&(n.scrollCellToVisible(p[0]),n.setSelectionCells(p)),n.editAfterInsert&&null!=i&&mxEvent.isMouseEvent(i)&&null!=p&&1==p.length&&window.setTimeout(function(){n.startEditing(p[0])},0)}}mxEvent.consume(i)}})},GE.Sidebar.prototype.createDragPreview=function(e,t){var l=document.createElement("div");return l.style.border=this.dragPreviewBorder,l.style.width=e+"px",l.style.height=t+"px",l},GE.Sidebar.prototype.dropAndConnect=function(e,t,l,r,n){var i=this.getDropAndConnectGeometry(e,t[r],l,t),o=[];if(null!=i){var a=this.editorUi.editor.graph,s=null;a.model.beginUpdate();try{var d=a.getCellGeometry(e),m=a.getCellGeometry(t[r]),h=a.model.getParent(e),p=!0;if(null!=a.layoutManager){var c=a.layoutManager.getLayout(h);if(null!=c&&c.constructor==mxStackLayout)if(p=!1,null!=(o=a.view.getState(h))){var u=new mxPoint(o.x/a.view.scale-a.view.translate.x,o.y/a.view.scale-a.view.translate.y);i.x+=u.x,i.y+=u.y;var g=i.getTerminalPoint(!1);null!=g&&(g.x+=u.x,g.y+=u.y)}}var y=m.x,x=m.y;a.model.isEdge(t[r])&&(y=0,x=0);var f=a.model.isEdge(e)||null!=d&&!d.relative&&p;if(o=t=a.importCells(t,i.x-(f?y:0),i.y-(f?x:0),f?h:null),a.model.isEdge(e))a.model.setTerminal(e,t[r],l==mxConstants.DIRECTION_NORTH);else if(a.model.isEdge(t[r])){a.model.setTerminal(t[r],e,!0);var E=a.getCellGeometry(t[r]);if(E.points=null,null!=E.getTerminalPoint(!1))E.setTerminalPoint(i.getTerminalPoint(!1),!1);else if(f&&a.model.isVertex(h)){var w=a.view.getState(h);u=w.cell!=a.view.currentRoot?new mxPoint(w.x/a.view.scale-a.view.translate.x,w.y/a.view.scale-a.view.translate.y):new mxPoint(0,0);a.cellsMoved(t,u.x,u.y,null,null,!0)}}else m=a.getCellGeometry(t[r]),y=i.x-Math.round(m.x),x=i.y-Math.round(m.y),i.x=Math.round(m.x),i.y=Math.round(m.y),a.model.setGeometry(t[r],i),a.cellsMoved(t,y,x,null,null,!0),o=t.slice(),s=1==o.length?o[0]:null,t.push(a.insertEdge(null,null,"",e,t[r],a.createCurrentEdgeStyle()));null!=n&&mxEvent.isShiftDown(n)||a.fireEvent(new mxEventObject("cellsInserted","cells",t))}catch(e){this.editorUi.handleError(e)}finally{a.model.endUpdate()}a.editAfterInsert&&null!=n&&mxEvent.isMouseEvent(n)&&null!=s&&window.setTimeout(function(){a.startEditing(s)},0)}return o},GE.Sidebar.prototype.getDropAndConnectGeometry=function(e,t,l,r){var n=this.editorUi.editor.graph,i=n.view,o=r.length>1,a=n.getCellGeometry(e),s=n.getCellGeometry(t);if(null!=a&&null!=s)if(s=s.clone(),n.model.isEdge(e)){var d=(p=n.view.getState(e)).absolutePoints,m=d[0],h=d[d.length-1];l==mxConstants.DIRECTION_NORTH?(s.x=m.x/i.scale-i.translate.x-s.width/2,s.y=m.y/i.scale-i.translate.y-s.height/2):(s.x=h.x/i.scale-i.translate.x-s.width/2,s.y=h.y/i.scale-i.translate.y-s.height/2)}else{if(a.relative){var p=n.view.getState(e);(a=a.clone()).x=(p.x-i.translate.x)/i.scale,a.y=(p.y-i.translate.y)/i.scale}var c=n.defaultEdgeLength;if(n.model.isEdge(t)&&null!=s.getTerminalPoint(!0)&&null!=s.getTerminalPoint(!1)){m=s.getTerminalPoint(!0);var u=(h=s.getTerminalPoint(!1)).x-m.x,g=h.y-m.y;c=Math.sqrt(u*u+g*g),s.x=a.getCenterX(),s.y=a.getCenterY(),s.width=1,s.height=1,l==mxConstants.DIRECTION_NORTH?(s.height=c,s.y=a.y-c,s.setTerminalPoint(new mxPoint(s.x,s.y),!1)):l==mxConstants.DIRECTION_EAST?(s.width=c,s.x=a.x+a.width,s.setTerminalPoint(new mxPoint(s.x+s.width,s.y),!1)):l==mxConstants.DIRECTION_SOUTH?(s.height=c,s.y=a.y+a.height,s.setTerminalPoint(new mxPoint(s.x,s.y+s.height),!1)):l==mxConstants.DIRECTION_WEST&&(s.width=c,s.x=a.x-c,s.setTerminalPoint(new mxPoint(s.x,s.y),!1))}else if(!o&&s.width>45&&s.height>45&&a.width>45&&a.height>45&&(s.width=s.width*(a.height/s.height),s.height=a.height),s.x=a.x+a.width/2-s.width/2,s.y=a.y+a.height/2-s.height/2,l==mxConstants.DIRECTION_NORTH?s.y=s.y-a.height/2-s.height/2-c:l==mxConstants.DIRECTION_EAST?s.x=s.x+a.width/2+s.width/2+c:l==mxConstants.DIRECTION_SOUTH?s.y=s.y+a.height/2+s.height/2+c:l==mxConstants.DIRECTION_WEST&&(s.x=s.x-a.width/2-s.width/2-c),n.model.isEdge(t)&&null!=s.getTerminalPoint(!0)&&null!=t.getTerminal(!1)){var y=n.getCellGeometry(t.getTerminal(!1));null!=y&&(l==mxConstants.DIRECTION_NORTH?(s.x-=y.getCenterX(),s.y-=y.getCenterY()+y.height/2):l==mxConstants.DIRECTION_EAST?(s.x-=y.getCenterX()-y.width/2,s.y-=y.getCenterY()):l==mxConstants.DIRECTION_SOUTH?(s.x-=y.getCenterX(),s.y-=y.getCenterY()-y.height/2):l==mxConstants.DIRECTION_WEST&&(s.x-=y.getCenterX()+y.width/2,s.y-=y.getCenterY()))}}return s},GE.Sidebar.prototype.isDropStyleEnabled=function(e,t){var l=!0;if(null!=t&&1==e.length){var r=this.graph.getCellStyle(e[t]);null!=r&&(l=mxUtils.getValue(r,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE)!=mxConstants.NONE||mxUtils.getValue(r,mxConstants.STYLE_FILLCOLOR,mxConstants.NONE)!=mxConstants.NONE)}return l},GE.Sidebar.prototype.isDropStyleTargetIgnored=function(e){return this.graph.isSwimlane(e.cell)},GE.Sidebar.prototype.createDragSource=function(e,t,l,r,n){for(var i=this.editorUi,o=i.editor.graph,a=null,s=null,d=this,m=0;m<r.length&&(null==s&&this.editorUi.editor.graph.model.isVertex(r[m])?s=m:null==a&&this.editorUi.editor.graph.model.isEdge(r[m])&&null==this.editorUi.editor.graph.model.getTerminal(r[m],!0)&&(a=m),null==s||null==a);m++);var h=this.isDropStyleEnabled(r,s),p=mxUtils.makeDraggable(e,this.editorUi.editor.graph,mxUtils.bind(this,function(e,l,n,i,o){if(null!=this.updateThread&&window.clearTimeout(this.updateThread),null!=r&&null!=x&&P==v){var d=e.isCellSelected(x.cell)?e.getSelectionCells():[x.cell],m=this.updateShapes(e.model.isEdge(x.cell)?r[0]:r[s],d);e.setSelectionCells(m)}else if(null!=r&&null!=P&&null!=g&&P!=v){var h=e.model.isEdge(g.cell)||null==a?s:a;e.setSelectionCells(this.dropAndConnect(g.cell,r,A,h,l))}else t.apply(this,arguments);null!=this.editorUi.hoverIcons&&this.editorUi.hoverIcons.update(e.view.getState(e.getSelectionCell()))}),l,0,0,o.autoscroll,!0,!0);o.addListener(mxEvent.ESCAPE,function(e,t){p.isActive()&&p.reset()});var c=p.mouseDown;function u(e,t){var l=null;return(l=mxUtils.createImage(e.src)).style.width=e.width+"px",l.style.height=e.height+"px",null!=t&&l.setAttribute("title",t),mxUtils.setOpacity(l,e==this.refreshTarget?30:20),l.style.position="absolute",l.style.cursor="crosshair",l}p.mouseDown=function(e){mxEvent.isPopupTrigger(e)||mxEvent.isMultiTouchEvent(e)||(o.stopEditing(),c.apply(this,arguments))};var g=null,y=null,x=null,f=!1,E=u(this.triangleUp,mxResources.get("connect")),w=u(this.triangleRight,mxResources.get("connect")),b=u(this.triangleDown,mxResources.get("connect")),C=u(this.triangleLeft,mxResources.get("connect")),v=u(this.refreshTarget,mxResources.get("replace")),T=null,S=u(this.roundDrop),G=u(this.roundDrop),A=mxConstants.DIRECTION_NORTH,P=null;function V(e,t,l,r){return null!=r.parentNode&&(mxUtils.contains(l,e,t)?(mxUtils.setOpacity(r,100),P=r):mxUtils.setOpacity(r,r==v?30:20)),l}var L=p.createPreviewElement;p.createPreviewElement=function(e){var t=L.apply(this,arguments);return GE.IS_SVG&&(t.style.pointerEvents="none"),this.previewElementWidth=t.style.width,this.previewElementHeight=t.style.height,t};var I=p.dragEnter;p.dragEnter=function(e,t){null!=i.hoverIcons&&i.hoverIcons.setDisplay("none"),I.apply(this,arguments)};var F=p.dragExit;p.dragExit=function(e,t){null!=i.hoverIcons&&i.hoverIcons.setDisplay(""),F.apply(this,arguments)},p.dragOver=function(e,t){if(mxDragSource.prototype.dragOver.apply(this,arguments),null!=this.currentGuide&&null!=P&&this.currentGuide.hide(),null!=this.previewElement){var l=e.view;if(null!=x&&P==v)this.previewElement.style.display=e.model.isEdge(x.cell)?"none":"",this.previewElement.style.left=x.x+"px",this.previewElement.style.top=x.y+"px",this.previewElement.style.width=x.width+"px",this.previewElement.style.height=x.height+"px";else if(null!=g&&null!=P){var i=e.model.isEdge(g.cell)||null==a?s:a,o=d.getDropAndConnectGeometry(g.cell,r[i],A,r),m=e.model.isEdge(g.cell)?null:e.getCellGeometry(g.cell),h=e.getCellGeometry(r[i]),c=e.model.getParent(g.cell),u=l.translate.x*l.scale,y=l.translate.y*l.scale;if(null!=m&&!m.relative&&e.model.isVertex(c)&&c!=l.currentRoot){var f=l.getState(c);u=f.x,y=f.y}var E=h.x,w=h.y;e.model.isEdge(r[i])&&(E=0,w=0),this.previewElement.style.left=(o.x-E)*l.scale+u+"px",this.previewElement.style.top=(o.y-w)*l.scale+y+"px",1==r.length&&(this.previewElement.style.width=o.width*l.scale+"px",this.previewElement.style.height=o.height*l.scale+"px"),this.previewElement.style.display=""}else null!=p.currentHighlight.state&&e.model.isEdge(p.currentHighlight.state.cell)?(this.previewElement.style.left=Math.round(parseInt(this.previewElement.style.left)-n.width*l.scale/2)+"px",this.previewElement.style.top=Math.round(parseInt(this.previewElement.style.top)-n.height*l.scale/2)+"px"):(this.previewElement.style.width=this.previewElementWidth,this.previewElement.style.height=this.previewElementHeight,this.previewElement.style.display="")}};var k=(new Date).getTime(),R=0,O=null,D=this.editorUi.editor.graph.getCellStyle(r[0]);return p.getDropTarget=mxUtils.bind(this,function(e,t,l,n){var i=mxEvent.isAltDown(n)||null==r?null:e.getCellAt(t,l);if(null!=i&&!this.graph.isCellConnectable(i)){var o=this.graph.getModel().getParent(i);this.graph.getModel().isVertex(o)&&this.graph.isCellConnectable(o)&&(i=o)}e.isCellLocked(i)&&(i=null);var a=e.view.getState(i);P=null;var d=null;if(O!=a?(O=a,k=(new Date).getTime(),R=0,null!=this.updateThread&&window.clearTimeout(this.updateThread),null!=a&&(this.updateThread=window.setTimeout(function(){null==P&&(O=a,p.getDropTarget(e,t,l,n))},this.dropTargetDelay+10))):R=(new Date).getTime()-k,h&&R<2500&&null!=a&&!mxEvent.isShiftDown(n)&&(mxUtils.getValue(a.style,mxConstants.STYLE_SHAPE)!=mxUtils.getValue(D,mxConstants.STYLE_SHAPE)&&(mxUtils.getValue(a.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE)!=mxConstants.NONE||mxUtils.getValue(a.style,mxConstants.STYLE_FILLCOLOR,mxConstants.NONE)!=mxConstants.NONE||mxUtils.getValue(a.style,mxConstants.STYLE_GRADIENTCOLOR,mxConstants.NONE)!=mxConstants.NONE)||"image"==mxUtils.getValue(D,mxConstants.STYLE_SHAPE)||R>1500||e.model.isEdge(a.cell))&&R>this.dropTargetDelay&&!this.isDropStyleTargetIgnored(a)&&(e.model.isVertex(a.cell)&&null!=s||e.model.isEdge(a.cell)&&e.model.isEdge(r[0]))){x=a;var m=e.model.isEdge(a.cell)?e.view.getPoint(a):new mxPoint(a.getCenterX(),a.getCenterY());m=new mxRectangle(m.x-this.refreshTarget.width/2,m.y-this.refreshTarget.height/2,this.refreshTarget.width,this.refreshTarget.height),v.style.left=Math.floor(m.x)+"px",v.style.top=Math.floor(m.y)+"px",null==T&&(e.container.appendChild(v),T=v.parentNode),V(t,l,m,v)}else if(null==x||!mxUtils.contains(x,t,l)||R>1500&&!mxEvent.isShiftDown(n))x=null,null!=T&&(v.parentNode.removeChild(v),T=null);else if(null!=x&&null!=T){m=e.model.isEdge(x.cell)?e.view.getPoint(x):new mxPoint(x.getCenterX(),x.getCenterY());m=new mxRectangle(m.x-this.refreshTarget.width/2,m.y-this.refreshTarget.height/2,this.refreshTarget.width,this.refreshTarget.height),V(t,l,m,v)}if(f&&null!=g&&!mxEvent.isAltDown(n)&&null==P){if(d=mxRectangle.fromRectangle(g),e.model.isEdge(g.cell)){var c=g.absolutePoints;if(null!=S.parentNode){var u=c[0];d.add(V(t,l,new mxRectangle(u.x-this.roundDrop.width/2,u.y-this.roundDrop.height/2,this.roundDrop.width,this.roundDrop.height),S))}if(null!=G.parentNode){var L=c[c.length-1];d.add(V(t,l,new mxRectangle(L.x-this.roundDrop.width/2,L.y-this.roundDrop.height/2,this.roundDrop.width,this.roundDrop.height),G))}}else{var I=mxRectangle.fromRectangle(g);null!=g.shape&&null!=g.shape.boundingBox&&(I=mxRectangle.fromRectangle(g.shape.boundingBox)),I.grow(this.graph.tolerance),I.grow(GE.HoverIcons.prototype.arrowSpacing),null!=(U=this.graph.selectionCellsHandler.getHandler(g.cell))&&(I.x-=U.horizontalOffset/2,I.y-=U.verticalOffset/2,I.width+=U.horizontalOffset,I.height+=U.verticalOffset,null!=U.rotationShape&&null!=U.rotationShape.node&&"hidden"!=U.rotationShape.node.style.visibility&&"none"!=U.rotationShape.node.style.display&&null!=U.rotationShape.boundingBox&&I.add(U.rotationShape.boundingBox)),d.add(V(t,l,new mxRectangle(g.getCenterX()-this.triangleUp.width/2,I.y-this.triangleUp.height,this.triangleUp.width,this.triangleUp.height),E)),d.add(V(t,l,new mxRectangle(I.x+I.width,g.getCenterY()-this.triangleRight.height/2,this.triangleRight.width,this.triangleRight.height),w)),d.add(V(t,l,new mxRectangle(g.getCenterX()-this.triangleDown.width/2,I.y+I.height,this.triangleDown.width,this.triangleDown.height),b)),d.add(V(t,l,new mxRectangle(I.x-this.triangleLeft.width,g.getCenterY()-this.triangleLeft.height/2,this.triangleLeft.width,this.triangleLeft.height),C))}null!=d&&d.grow(10)}A=mxConstants.DIRECTION_NORTH,P==w?A=mxConstants.DIRECTION_EAST:P==b||P==G?A=mxConstants.DIRECTION_SOUTH:P==C&&(A=mxConstants.DIRECTION_WEST),null!=x&&P==v&&(a=x);var F=(null==s||e.isCellConnectable(r[s]))&&(e.model.isEdge(i)&&null!=s||e.model.isVertex(i)&&e.isCellConnectable(i));if(null!=g&&R>=5e3||g!=a&&(null==d||!mxUtils.contains(d,t,l)||R>500&&null==P&&F))if(f=!1,null!=(g=R<5e3&&R>this.dropTargetDelay||e.model.isEdge(i)?a:null)&&F){for(var N=[S,G,E,w,b,C],z=0;z<N.length;z++)null!=N[z].parentNode&&N[z].parentNode.removeChild(N[z]);if(e.model.isEdge(i)){if(null!=(c=a.absolutePoints)){u=c[0],L=c[c.length-1];var M=e.tolerance;new mxRectangle(t-M,l-M,2*M,2*M);S.style.left=Math.floor(u.x-this.roundDrop.width/2)+"px",S.style.top=Math.floor(u.y-this.roundDrop.height/2)+"px",G.style.left=Math.floor(L.x-this.roundDrop.width/2)+"px",G.style.top=Math.floor(L.y-this.roundDrop.height/2)+"px",null==e.model.getTerminal(i,!0)&&e.container.appendChild(S),null==e.model.getTerminal(i,!1)&&e.container.appendChild(G)}}else{var U;I=mxRectangle.fromRectangle(a);null!=a.shape&&null!=a.shape.boundingBox&&(I=mxRectangle.fromRectangle(a.shape.boundingBox)),I.grow(this.graph.tolerance),I.grow(GE.HoverIcons.prototype.arrowSpacing),null!=(U=this.graph.selectionCellsHandler.getHandler(a.cell))&&(I.x-=U.horizontalOffset/2,I.y-=U.verticalOffset/2,I.width+=U.horizontalOffset,I.height+=U.verticalOffset,null!=U.rotationShape&&null!=U.rotationShape.node&&"hidden"!=U.rotationShape.node.style.visibility&&"none"!=U.rotationShape.node.style.display&&null!=U.rotationShape.boundingBox&&I.add(U.rotationShape.boundingBox)),E.style.left=Math.floor(a.getCenterX()-this.triangleUp.width/2)+"px",E.style.top=Math.floor(I.y-this.triangleUp.height)+"px",w.style.left=Math.floor(I.x+I.width)+"px",w.style.top=Math.floor(a.getCenterY()-this.triangleRight.height/2)+"px",b.style.left=E.style.left,b.style.top=Math.floor(I.y+I.height)+"px",C.style.left=Math.floor(I.x-this.triangleLeft.width)+"px",C.style.top=w.style.top,"eastwest"!=a.style.portConstraint&&(e.container.appendChild(E),e.container.appendChild(b)),e.container.appendChild(w),e.container.appendChild(C)}null!=a&&null!=(y=e.selectionCellsHandler.getHandler(a.cell))&&null!=y.setHandlesVisible&&y.setHandlesVisible(!1),f=!0}else for(N=[S,G,E,w,b,C],z=0;z<N.length;z++)null!=N[z].parentNode&&N[z].parentNode.removeChild(N[z]);f||null==y||y.setHandlesVisible(!0);var j=mxEvent.isAltDown(n)&&!mxEvent.isShiftDown(n)||null!=x&&P==v?null:mxDragSource.prototype.getDropTarget.apply(this,arguments),B=e.getModel();if(null!=j&&(null!=P||!e.isSplitTarget(j,r,n))){for(;null!=j&&!e.isValidDropTarget(j,r,n)&&B.isVertex(B.getParent(j));)j=B.getParent(j);null!=j&&(e.view.currentRoot==j||!e.isValidRoot(j)&&0==e.getModel().getChildCount(j)||e.isCellLocked(j)||B.isEdge(j)||!e.isValidDropTarget(j,r,n))&&(j=null)}return j}),p.stopDrag=function(){mxDragSource.prototype.stopDrag.apply(this,arguments);for(var e=[S,G,v,E,w,b,C],t=0;t<e.length;t++)null!=e[t].parentNode&&e[t].parentNode.removeChild(e[t]);null!=g&&null!=y&&y.reset(),y=null,g=null,x=null,T=null,P=null},p},GE.Sidebar.prototype.itemClicked=function(e,t,l,r){var n=this.editorUi.editor.graph;if(n.container.focus(),mxEvent.isAltDown(l)&&1==n.getSelectionCount()&&n.model.isVertex(n.getSelectionCell())){for(var i=null,o=0;o<e.length&&null==i;o++)n.model.isVertex(e[o])&&(i=o);null!=i&&(n.setSelectionCells(this.dropAndConnect(n.getSelectionCell(),e,mxEvent.isMetaDown(l)||mxEvent.isControlDown(l)?mxEvent.isShiftDown(l)?mxConstants.DIRECTION_WEST:mxConstants.DIRECTION_NORTH:mxEvent.isShiftDown(l)?mxConstants.DIRECTION_EAST:mxConstants.DIRECTION_SOUTH,i,l)),n.scrollCellToVisible(n.getSelectionCell()))}else if(mxEvent.isShiftDown(l)&&!n.isSelectionEmpty())this.updateShapes(e[0],n.getSelectionCells()),n.scrollCellToVisible(n.getSelectionCell());else{var a=mxEvent.isAltDown(l)?n.getFreeInsertPoint():n.getCenterInsertPoint(n.getBoundingBoxFromGeometry(e,!0));t.drop(n,l,null,a.x,a.y,!0)}},GE.Sidebar.prototype.addClickHandler=function(e,t,l){var r=this.editorUi.editor.graph,n=t.mouseDown,i=t.mouseMove,o=t.mouseUp,a=r.tolerance,s=null,d=this;t.mouseDown=function(t){n.apply(this,arguments),s=new mxPoint(mxEvent.getClientX(t),mxEvent.getClientY(t)),null!=this.dragElement&&(this.dragElement.style.display="none",mxUtils.setOpacity(e,50))},t.mouseMove=function(t){null!=this.dragElement&&"none"==this.dragElement.style.display&&null!=s&&(Math.abs(s.x-mxEvent.getClientX(t))>a||Math.abs(s.y-mxEvent.getClientY(t))>a)&&(this.dragElement.style.display="",mxUtils.setOpacity(e,100)),i.apply(this,arguments)},t.mouseUp=function(r){try{mxEvent.isPopupTrigger(r)||null!=this.currentGraph||null==this.dragElement||"none"!=this.dragElement.style.display||d.itemClicked(l,t,r,e),o.apply(t,arguments),mxUtils.setOpacity(e,100),s=null,d.currentElt=e}catch(e){t.reset(),d.editorUi.handleError(e)}}},GE.Sidebar.prototype.createVertexTemplateEntry=function(e,t,l,r,n,i,o,a,s,d){return a=null!=a&&a.length>0?a:null!=n?n.toLowerCase():"",this.addEntry(a,mxUtils.bind(this,function(){return this.createVertexTemplate(e,t,l,r,n,i,o,!1,s,d)}))},GE.Sidebar.prototype.createVertexTemplate=function(e,t,l,r,n,i,o,a,s,d){var m=[new mxCell(null!=r?r:"",new mxGeometry(0,0,t,l),e)];if(m[0].vertex=!0,s)for(const e in s)m[0][e]=s[e];return d&&(m[0].bindProperties=d),this.createVertexTemplateFromCells(m,t,l,n,i,o,a)},GE.Sidebar.prototype.createVertexTemplateFromData=function(e,t,l,r,n,i,o){var a=mxUtils.parseXml(GE.Graph.decompress(e)),s=new mxCodec(a),d=new mxGraphModel;s.decode(a.documentElement,d);var m=this.graph.cloneCells(d.root.getChildAt(0).children);return this.createVertexTemplateFromCells(m,t,l,r,n,i,o)},GE.Sidebar.prototype.createVertexTemplateFromCells=function(e,t,l,r,n,i,o){return this.createItem(e,r,n,i,t,l,o)},GE.Sidebar.prototype.createEdgeTemplateEntry=function(e,t,l,r,n,i,o,a,s,d){return o=null!=o&&o.length>0?o:n.toLowerCase(),this.addEntry(o,mxUtils.bind(this,function(){return this.createEdgeTemplate(e,t,l,r,n,i,a,s,d)}))},GE.Sidebar.prototype.createEdgeTemplate=function(e,t,l,r,n,i,o,a,s){var d=new mxCell(null!=r?r:"",new mxGeometry(0,0,t,l),e);if(d.geometry.setTerminalPoint(new mxPoint(0,l),!0),d.geometry.setTerminalPoint(new mxPoint(t,0),!1),d.geometry.relative=!0,d.edge=!0,a)for(const e in a)d[e]=a[e];return s&&(d.bindProperties=s),this.createEdgeTemplateFromCells([d],t,l,n,i,o)},GE.Sidebar.prototype.createEdgeTemplateFromCells=function(e,t,l,r,n,i){return this.createItem(e,r,n,!0,t,l,i)},GE.Sidebar.prototype.addPaletteFunctions=function(e,t,l,r){this.addPalette(e,t,l,mxUtils.bind(this,function(e){for(var t=0;t<r.length;t++)e.appendChild(r[t](e))}))},GE.Sidebar.prototype.addPalette=function(e,t,l,r){var n=this.createTitle(t);this.container.appendChild(n);var i=document.createElement("div");i.className="geSidebar",GE.IS_POINTER&&(i.style.touchAction="none"),l?(r(i),r=null):i.style.display="none",this.addFoldingHandler(n,i,r);var o=document.createElement("div");return o.appendChild(i),this.container.appendChild(o),null!=e&&(this.palettes[e]=[n,o]),i},GE.Sidebar.prototype.addFoldingHandler=function(e,t,l){var r=!1;e.style.backgroundImage="none"==t.style.display?"url('"+this.collapsedImage+"')":"url('"+this.expandedImage+"')",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="0% 50%",mxEvent.addListener(e,"click",mxUtils.bind(this,function(n){if("none"==t.style.display){if(r)t.style.display="block";else if(r=!0,null!=l){e.style.cursor="wait";var i=e.innerHTML;e.innerHTML=mxResources.get("loading")+"...",window.setTimeout(function(){t.style.display="block",e.style.cursor="",e.innerHTML=i;var r=GE.NO_FO;GE.NO_FO=GE.Editor.prototype.originalNoForeignObject,l(t,e),GE.NO_FO=r},GE.IS_FF?20:0)}else t.style.display="block";e.style.backgroundImage="url('"+this.expandedImage+"')"}else e.style.backgroundImage="url('"+this.collapsedImage+"')",t.style.display="none";mxEvent.consume(n)})),mxEvent.addListener(e,GE.IS_POINTER?"pointerdown":"mousedown",mxUtils.bind(this,function(e){e.preventDefault()}))},GE.Sidebar.prototype.removePalette=function(e){var t=this.palettes[e];if(null!=t){this.palettes[e]=null;for(var l=0;l<t.length;l++)this.container.removeChild(t[l]);return!0}return!1},GE.Sidebar.prototype.getTagsForStencil=function(e,t,l){for(var r=e.split("."),n=1;n<r.length;n++)r[n]=r[n].replace(/_/g," ");return r.push(t.replace(/_/g," ")),null!=l&&r.push(l),r.slice(1,r.length)},GE.Sidebar.prototype.addStencilPalette=function(e,t,l,r,n,i,o,a,s){if(o=null!=o?o:1,this.addStencilsToIndex){var d=[];if(null!=s)for(var m=0;m<s.length;m++)d.push(s[m]);mxStencilRegistry.loadStencilSet(l,mxUtils.bind(this,function(e,t,l,i,s){if(null==n||mxUtils.indexOf(n,t)<0){var m=this.getTagsForStencil(e,t),h=null!=a?a[t]:null;null!=h&&m.push(h),d.push(this.createVertexTemplateEntry("shape="+e+t.toLowerCase()+r,Math.round(i*o),Math.round(s*o),"",t.replace(/_/g," "),null,null,this.filterTags(m.join(" "))))}}),!0,!0),this.addPaletteFunctions(e,t,!1,d)}else this.addPalette(e,t,!1,mxUtils.bind(this,function(e){if(null==r&&(r=""),null!=i&&i.call(this,e),null!=s)for(var t=0;t<s.length;t++)s[t](e);mxStencilRegistry.loadStencilSet(l,mxUtils.bind(this,function(t,l,i,a,s){(null==n||mxUtils.indexOf(n,l)<0)&&e.appendChild(this.createVertexTemplate("shape="+t+l.toLowerCase()+r,Math.round(a*o),Math.round(s*o),"",l.replace(/_/g," "),!0))}),!0)}))},GE.Sidebar.prototype.destroy=function(){null!=this.graph&&(null!=this.graph.container&&null!=this.graph.container.parentNode&&this.graph.container.parentNode.removeChild(this.graph.container),this.graph.destroy(),this.graph=null),null!=this.pointerUpHandler&&(mxEvent.removeListener(document,GE.IS_POINTER?"pointerup":"mouseup",this.pointerUpHandler),this.pointerUpHandler=null),null!=this.pointerDownHandler&&(mxEvent.removeListener(document,GE.IS_POINTER?"pointerdown":"mousedown",this.pointerDownHandler),this.pointerDownHandler=null),null!=this.pointerMoveHandler&&(mxEvent.removeListener(document,GE.IS_POINTER?"pointermove":"mousemove",this.pointerMoveHandler),this.pointerMoveHandler=null),null!=this.pointerOutHandler&&(mxEvent.removeListener(document,GE.IS_POINTER?"pointerout":"mouseout",this.pointerOutHandler),this.pointerOutHandler=null)};